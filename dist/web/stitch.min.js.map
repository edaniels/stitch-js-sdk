{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///stitch.min.js","webpack:///webpack/bootstrap b9de2525841362fc23ed","webpack:///./src/util.js","webpack:///./src/auth/common.js","webpack:///./src/common.js","webpack:///./src/errors.js","webpack:///./src/client.js","webpack:///./~/mongodb-extjson/index.js","webpack:///./src/auth/providers.js","webpack:///./~/buffer/index.js","webpack:///./~/fetch-everywhere/fetch-npm-browserify.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/admin.js","webpack:///./~/Base64/base64.js","webpack:///./~/bson/dist/bson.js","webpack:///./src/auth/index.js","webpack:///./src/auth/storage.js","webpack:///./src/index.js","webpack:///./src/services/aws/s3_service.js","webpack:///./src/services/aws/ses_service.js","webpack:///./src/services/http/http_service.js","webpack:///./src/services/index.js","webpack:///./src/services/mongodb/collection.js","webpack:///./src/services/mongodb/db.js","webpack:///./src/services/mongodb/mongodb_service.js","webpack:///./src/services/twilio/twilio_service.js","webpack:///./~/mongodb-extjson/lib/bson/binary.js","webpack:///./~/mongodb-extjson/lib/bson/code.js","webpack:///./~/mongodb-extjson/lib/bson/db_ref.js","webpack:///./~/mongodb-extjson/lib/bson/decimal128.js","webpack:///./~/mongodb-extjson/lib/bson/double.js","webpack:///./~/mongodb-extjson/lib/bson/index.js","webpack:///./~/mongodb-extjson/lib/bson/int_32.js","webpack:///./~/mongodb-extjson/lib/bson/long.js","webpack:///./~/mongodb-extjson/lib/bson/max_key.js","webpack:///./~/mongodb-extjson/lib/bson/min_key.js","webpack:///./~/mongodb-extjson/lib/bson/objectid.js","webpack:///./~/mongodb-extjson/lib/bson/regexp.js","webpack:///./~/mongodb-extjson/lib/bson/symbol.js","webpack:///./~/mongodb-extjson/lib/bson/timestamp.js","webpack:///./~/mongodb-extjson/lib/ext_json.js","webpack:///./~/base64-js/index.js","webpack:///./~/detect-browser/browser.js","webpack:///./~/detect-browser/lib/detectBrowser.js","webpack:///./~/detect-browser/lib/detectOS.js","webpack:///./~/ieee754/index.js","webpack:///./~/isarray/index.js","webpack:///./~/jwt-decode/lib/atob.js","webpack:///./~/jwt-decode/lib/base64_url_decode.js","webpack:///./~/jwt-decode/lib/index.js","webpack:///./~/object-assign/index.js","webpack:///./~/process/browser.js","webpack:///./~/query-string/index.js","webpack:///./~/strict-uri-encode/index.js","webpack:///./~/whatwg-fetch/fetch.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","serviceResponse","service","_ref","_ref$serviceName","serviceName","undefined","action","args","client","Error","executeServiceFunction","uriEncodeObject","obj","encodeURIComponent","base64","btoa","JSON","stringify","_Base","newObj","key","default","USER_AUTH_KEY","REFRESH_TOKEN_KEY","DEVICE_ID_KEY","STATE_KEY","USER_AUTH_COOKIE_NAME","STITCH_ERROR_KEY","STITCH_LINK_KEY","USER_LOGGED_IN_PT_KEY","STITCH_REDIRECT_PROVIDER","DEFAULT_ACCESS_TOKEN_EXPIRE_WITHIN_SECS","APP_CLIENT_CODEC","accessToken","refreshToken","deviceId","userId","ADMIN_CLIENT_CODEC","makeFetchArgs","checkStatus","SDK_VERSION","DEFAULT_STITCH_SERVER_URL","ADMIN_CLIENT_TYPE","APP_CLIENT_TYPE","JSONTYPE","_errors","version","response","status","headers","json","then","error","StitchError","error_code","Promise","reject","statusText","method","body","init","Accept","Content-Type","cors","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","_extendableBuiltin2","message","code","_this","getPrototypeOf","captureStackTrace","stack","cls","ExtendableBuiltin","Reflect","construct","Array","from","arguments","ErrAuthProviderNotFound","ErrInvalidSession","ErrUnauthorized","_interopRequireDefault","_defineProperty","newStitchClient","clientAppID","_v","_v2","_v3","_stitchClient$rootURL","options","length","stitchClient","baseUrl","common","authUrl","rootURLsByAPIVersion","v1","API_TYPE_PUBLIC","API_TYPE_CLIENT","API_TYPE_PRIVATE","API_TYPE_APP","v2","v3","authOptions","codec","storage","storageType","platform","authCodec","_auth","AuthFactory","auth","all","handleRedirect","handleCookie","StitchClient","StitchClientFactory","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","_providers","_common","_services","_services2","_common2","_mongodbExtjson","_mongodbExtjson2","_queryString","_queryString2","classname","email","password","authenticate","PROVIDER_TYPE_ANON","assign","username","provider","register","providerType","isAuthenticated","authedId","_this2","authenticateFn","getLoggedInProviderType","resolve","logout","_this3","_do","refreshOnFailure","useRefreshToken","rootURL","clear","type","ServiceType","_len","_key","_doFunctionCall","_len2","_key2","request","responseDecoder","parse","relaxed","strict","text","userApiKeyName","keyID","url","fetchArgs","resource","_this4","fetch","appURL","apiVersion","apiType","queryParams","_fetchArgs2","_fetchArgs","noAuth","_fetch","token","getRefreshToken","getAccessToken","Authorization","ExtJSON","_interopRequireWildcard","urlWithLinkParam","link","anonProvider","getDeviceId","device","getDeviceInfo","rootUrl","_util","fetchArgsWithLink","set","customProvider","PROVIDER_TYPE_CUSTOM","userPassProvider","providerRoute","isAppClient","loginRoute","PROVIDER_TYPE_USERPASS","emailConfirm","tokenId","sendEmailConfirm","sendPasswordReset","passwordReset","apiKeyProvider","PROVIDER_TYPE_APIKEY","generateState","state","alpha","charAt","Math","floor","random","getOAuthLoginURL","providerName","redirectUrl","pageRootUrl","authCommon","encodeURI","googleProvider","data","authCode","PROVIDER_TYPE_GOOGLE","res","window","location","replace","facebookProvider","PROVIDER_TYPE_FACEBOOK","mongodbCloudProvider","apiKey","cookie","credentials","PROVIDER_TYPE_MONGODB_CLOUD","createProviders","_ref2","global","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","Uint8Array","arg","encodingOrOffset","allocUnsafe","ArrayBuffer","fromArrayBuffer","fromString","fromObject","assertSize","size","alloc","fill","encoding","checked","string","isEncoding","byteLength","actual","write","slice","fromArrayLike","array","byteOffset","isBuffer","len","copy","buffer","isnan","isArray","toString","SlowBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","b","bidirectionalIndexOf","val","dir","isNaN","arrayIndexOf","indexOf","lastIndexOf","arr","read","buf","indexSize","readUInt16BE","arrLength","valLength","String","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","fromByteArray","min","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","push","decodeCodePointsArray","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","ret","out","toHex","bytes","checkOffset","ext","checkInt","max","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754","writeDouble","base64clean","str","stringtrim","INVALID_BASE64_RE","trim","units","Infinity","leadSurrogate","charCodeAt","byteArray","hi","lo","toByteArray","src","dst","INSPECT_MAX_BYTES","foo","subarray","e","poolSize","_augment","Symbol","species","allocUnsafeSlow","_isBuffer","compare","a","x","y","concat","list","pos","swap16","swap32","swap64","equals","inspect","match","join","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","globalObj","bind","g","Function","eval","StitchAdminClient","StitchAdminClientFactory","_get","receiver","desc","getOwnPropertyDescriptor","parent","_client","_common3","_StitchClient","groupId","api","groupUrl","query","defaults","_post","app","appId","appUrl","remove","_delete","export","values","valueId","valueUrl","update","_put","services","serviceId","_patch","runCommand","commandName","config","rules","rule","ruleId","ruleUrl","incomingWebhooks","incomingWebhook","incomingWebhookId","webhookUrl","pushNotifications","filter","pushNotification","messageId","send","users","user","uid","devices","enable","disable","userRegistrations","sendConfirmationEmail","debug","executeFunction","user_id","executeFunctionSource","source","evalSource","eval_source","authProviders","authProvider","providerId","security","allowedRequestOrigins","logs","apiKeys","apiKeyId","functions","function","functionId","eventSubscriptions","eventSubscription","eventSubscriptionId","v3do","split","InvalidCharacterError","chars","input","block","charCode","idx","map","output","atob","bs","bc","process","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof2","iterator","createCommonjsModule","fn","Long","low","high","_bsontype","low_","high_","Double","Timestamp","long_1","ObjectID","id","generate","cacheHexString","__id","valid","isValid","hasBufferType","createFromHexString","toHexString","alphabetize","sort","BSONRegExp","pattern","_Symbol","Int32","Code","scope","Decimal128","MinKey","MaxKey","DBRef","collection","oid","db","fields","parts","shift","inited","lookup","revLookup","b64","tmp","placeHolders","Arr","L","tripletToBase64","num","encodeChunk","uint8","extraBytes","len2","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","log","LN2","Buffer$1","internalIsBuffer","read$$1","isFastBuffer","isSlowBuffer","Binary","subType","Buffer$2","sub_type","position","BSON_BINARY_SUBTYPE_DEFAULT","BUFFER_SIZE","writeStringToArray","normalizedFunctionString","calculateElement","serializeFunctions","ignoreUndefined","toBSON","_typeof","BSON$2","JS_INT_MIN","JS_INT_MAX","BSON_INT32_MIN","BSON_INT32_MAX","MinKey$3","MaxKey$2","ObjectID$2","Date","isDate$1","Long$3","Double$2","Timestamp$2","decimal128","Code$2","keys","calculateObjectSize","Binary$3","SUBTYPE_BYTE_ARRAY","_Symbol$1","DBRef$2","ordered_values","$ref","$id","RegExp","ignoreCase","multiline","BSONRegExp$2","normalizedFunctionString$2","commonjsGlobal","Map","_keys","_values","entry","v","delete","splice","entries","index","next","done","forEach","callback","has","map_1","toInt","toNumber","TWO_PWR_32_DBL_","getLowBitsUnsigned","opt_radix","radix","isZero","isNegative","MIN_VALUE","radixLong","fromNumber","div","rem","multiply","subtract","negate","radixToPower","result","remDiv","intval","digits","getHighBits","getLowBits","getNumBitsAbs","bit","isOdd","other","notEquals","lessThan","lessThanOrEqual","greaterThan","greaterThanOrEqual","thisNeg","otherNeg","not","add","ONE","a48","a32","a16","a00","b48","b32","b16","b00","c48","c32","c16","c00","fromBits","ZERO","TWO_PWR_24_","NEG_ONE","halfThis","shiftRight","approx","shiftLeft","log2","ceil","delta","approxRes","approxRem","modulo","and","or","xor","numBits","shiftRightUnsigned","fromInt","cachedObj","INT_CACHE_","TWO_PWR_63_DBL_","MAX_VALUE","lowBits","highBits","substring","power","TWO_PWR_16_DBL_","TWO_PWR_24_DBL_","TWO_PWR_31_DBL_","TWO_PWR_48_DBL_","TWO_PWR_64_DBL_","Long_1","valueOf","double_1","Double_1","$timestamp","timestamp","Timestamp_1","MACHINE_ID","checkForHexRegExp","err","hexTable","hexString","_Buffer","convertToHex","get_inc","getInc","time","now","pid","inc","format","otherId","getTimestamp","setTime","createPk","createFromTime","decodeLookup","test","objectid","ObjectID_1","ObjectId","regexp","BSONRegExp_1","symbol","Symbol_1","int_32","Int32_1","Code_1","PARSE_STRING_REGEXP","PARSE_INF_REGEXP","PARSE_NAN_REGEXP","EXPONENT_MAX","EXPONENT_MIN","EXPONENT_BIAS","NAN_BUFFER","reverse","INF_NEGATIVE_BUFFER","INF_POSITIVE_BUFFER","EXPONENT_REGEX","isDigit","divideu128","DIVISOR","_rem","quotient","multiply64x2","left","right","leftHigh","leftLow","rightHigh","rightLow","productHigh","productMid","productMid2","productLow","uhleft","uhright","invalidErr","sawRadix","foundNonZero","significantDigits","nDigitsRead","nDigits","radixPosition","firstNonZero","nDigitsStored","digitsInsert","firstDigit","lastDigit","exponent","significandHigh","significandLow","biasedExponent","stringMatch","infMatch","nanMatch","unsignedNumber","expSign","expNumber","digitsString","endOfString","roundDigit","roundBit","dIdx","significand","dec","EXPONENT_MASK","midh","midl","combination","biased_exponent","significand_digits","scientific_exponent","significand_msb","k","is_zero","significand128","least_digits","radix_position","$numberDecimal","Decimal128_1","min_key","MinKey_1","max_key","MaxKey_1","$db","db_ref","DBRef_1","_kMaxLength","bufferEs6","freeze","put","byte_value","decoded_byte","asRaw","newBuffer","convertArraytoUtf8BinaryString","startIndex","endIndex","SUBTYPE_DEFAULT","SUBTYPE_FUNCTION","SUBTYPE_UUID_OLD","SUBTYPE_UUID","SUBTYPE_MD5","SUBTYPE_USER_DEFINED","binary","Binary_1","Long$1","Double$1","Timestamp$1","ObjectID$1","Code$1","MinKey$1","MaxKey$1","DBRef$1","BSONRegExp$1","Binary$1","deserialize","allowObjectSmallerThanBufferSize","deserializeObject","evalFunctions","cacheFunctions","cacheFunctionsCrc32","crc32","fieldsAsRaw","raw","bsonRegExp","promoteBuffers","promoteLongs","promoteValues","arrayIndex","elementType","BSON","BSON_DATA_STRING","stringSize","BSON_DATA_OID","BSON_DATA_INT","BSON_DATA_NUMBER","BSON_DATA_DATE","BSON_DATA_BOOLEAN","BSON_DATA_OBJECT","_index","objectSize","BSON_DATA_ARRAY","arrayOptions","stopIndex","BSON_DATA_UNDEFINED","BSON_DATA_NULL","BSON_DATA_LONG","long","JS_INT_MAX_LONG","JS_INT_MIN_LONG","BSON_DATA_DECIMAL128","decimal128$$1","toObject","BSON_DATA_BINARY","binarySize","totalBinarySize","_buffer","BSON_DATA_REGEXP","regExpOptions","optionsArray","BSON_DATA_SYMBOL","BSON_DATA_TIMESTAMP","BSON_DATA_MIN_KEY","BSON_DATA_MAX_KEY","BSON_DATA_CODE","functionString","hash","isolateEvalWithHash","functionCache","isolateEval","BSON_DATA_CODE_W_SCOPE","totalSize","scopeObject","BSON_DATA_DBPOINTER","namespace","oidBuffer","dollarKeys","startsWith","BSON_BINARY_SUBTYPE_FUNCTION","BSON_BINARY_SUBTYPE_BYTE_ARRAY","BSON_BINARY_SUBTYPE_UUID","BSON_BINARY_SUBTYPE_MD5","BSON_BINARY_SUBTYPE_USER_DEFINED","BSON_INT64_MAX","BSON_INT64_MIN","deserializer","readIEEE754","endian","bBE","writeIEEE754","readIEEE754_1","writeIEEE754_1","float_parser","utils","writeIEEE754$1","Long$2","MinKey$2","Binary$2","normalizedFunctionString$1","regexp$1","isDate","isRegExp","serializeString","BSON$1","serializeNumber","numberOfWrittenBytes","longVal","serializeNull","serializeBoolean","serializeDate","dateInMilis","getTime","serializeRegExp","serializeBSONRegExp","serializeMinMax","serializeObjectId","serializeBuffer","serializeObject","checkKeys","depth","path","serializeInto","pop","serializeDecimal128","serializeLong","serializeInt32","serializeDouble","serializeFunction","serializeCode","codeSize","serializeBinary","serializeSymbol","serializeDBRef","startingIndex","serializer","totalLength","calculate_size","MAXSIZE","BSON$3","serialize","minInternalBufferSize","serializationIndex","finishedBuffer","serializeWithBufferAndIndex","finalBuffer","deserializeStream","numberOfDocuments","documents","docStartIndex","bson","Code_1$1","Map_1","Symbol_1$1","BSON_1","DBRef_1$1","Binary_1$1","ObjectID_1$1","Long_1$1","Timestamp_1$1","Double_1$1","Int32_1$1","MinKey_1$1","MaxKey_1$1","BSONRegExp_1$1","Decimal128_1$1","jsBson","newAuth","Auth","_platform","_storage","createStorage","providers","_slicedToArray","authObj","loggedInProviderType","sliceIterator","_n","_d","_e","_s","_i","_detectBrowser","jwtDecode","appVersion","deviceInfo","sdkVersion","platformVersion","doSessionPost","protocol","host","pathname","_error","_ref3","_ref4","ourState","redirectProvider","redirectFragment","redirectState","parseRedirectFragment","lastError","console","history","replaceState","_ref5","stateValid","ua","catch","splitCookies","document","sepIdx","cookieVal","uaCookie","getCookie","userAuth","unmarshallUserAuth","withinSeconds","decodedToken","exp","authType","newUserAuth","setters","_this5","fragment","vars","shouldBreak","pairParts","decodeURIComponent","theirState","_ref6","_runMigration","migrations","store","getItem","item","setItem","_generateKey","removeItem","_VERSION_KEY","_VERSION","localStorage","Storage","sessionStorage","MemoryStorage","_data","_orderedKeys","_migration","_admin","S3Service","bucket","acl","contentType","SESService","fromAddress","toAddress","subject","buildArgs","urlOrOptions","buildResponse","HTTPService","_s3_service","_s3_service2","_ses_service","_ses_service2","_http_service","_http_service2","_mongodb_service","_mongodb_service2","_twilio_service","_twilio_service2","aws-s3","aws-ses","aws_s3","aws_ses","http","mongodb","twilio","updateOp","isMulti","outgoingOptions","upsert","findOp","project","aggregateOp","pipeline","database","MongoQuery","Collection","doc","docs","count","execute","_collection","_collection2","DB","_db","_db2","MongoDBService","databaseName","TwilioService","to","convert","integer","toExtendedJSON","$binary","fromExtendedJSON","$code","$scope","$numberDouble","parseFloat","$numberInt","$numberLong","$maxKey","$minKey","$oid","$regularExpression","$symbol","t","setBSONModule","BSONTypes","deserializeValue","int32Range","int64Range","$undefined","keysToCodecs","$date","date","codecs","$dbPointer","serializeArray","serializeValue","getISOString","isoStr","toISOString","getUTCMilliseconds","dateNum","inRange","serializeDocument","tempScope","tempDoc","tempId","_doc","tempVal","flags","reducer","indents","opts","placeHoldersCount","agent","detectBrowser","navigator","userAgent","detectOS","userAgentString","exec","os","Boolean","operatingSystems","detected","polyfill","b64DecodeUnicode","toUpperCase","InvalidTokenError","base64_url_decode","header","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","test1","getOwnPropertyNames","test2","test3","letter","symbols","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","run","Item","noop","nextTick","title","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","encoderForArrayFormat","arrayFormat","encode","parserForArrayFormat","accumulator","strictUriEncode","keysSorter","objectAssign","extract","formatter","param","reduce","val2","normalizeName","normalizeValue","iteratorFor","items","support","iterable","Headers","append","consumed","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","view","bufferClone","Body","_initBody","_bodyInit","_bodyText","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","searchParams","URLSearchParams","arrayBuffer","isDataView","_bodyArrayBuffer","isArrayBufferView","rejected","decode","normalizeMethod","upcased","methods","Request","mode","referrer","form","parseHeaders","rawHeaders","line","Response","bodyInit","ok","viewClasses","DataView","oldValue","thisArg","clone","redirectStatuses","redirect","xhr","XMLHttpRequest","getAllResponseHeaders","responseURL","responseText","ontimeout","open","withCredentials","responseType","setRequestHeader"],"mappings":"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","file":"stitch.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"stitch\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"stitch\"] = factory();\n\telse\n\t\troot[\"stitch\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"stitch\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"stitch\"] = factory();\n\telse\n\t\troot[\"stitch\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 15);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.uriEncodeObject = exports.serviceResponse = undefined;\n\nvar _Base = __webpack_require__(11);\n\nvar base64 = _interopRequireWildcard(_Base);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * @namespace util\n * @private\n */\n\n/**\n * Utility method for executing a service action as a function call.\n *\n * @memberof util\n * @param {Object} service the service to execute the action on\n * @param {String} action the service action to execute\n * @param {Array} args the arguments to supply to the service action invocation\n * @returns {Promise} the API response from the executed service action\n */\nfunction serviceResponse(service, _ref) {\n  var _ref$serviceName = _ref.serviceName,\n      serviceName = _ref$serviceName === undefined ? service.serviceName : _ref$serviceName,\n      action = _ref.action,\n      args = _ref.args;\n  var client = service.client;\n\n\n  if (!client) {\n    throw new Error('Service has no client');\n  }\n\n  return client.executeServiceFunction(serviceName, action, args);\n}\n\n/**\n * Utility function to encode a JSON object into a valid string that can be\n * inserted in a URI. The object is first stringified, then encoded in base64,\n * and finally encoded via the builtin encodeURIComponent function.\n *\n * @memberof util\n * @param {Object} obj The object to encode\n * @returns {String} The encoded object\n */\nfunction uriEncodeObject(obj) {\n  return encodeURIComponent(base64.btoa(JSON.stringify(obj)));\n}\n\nexports.serviceResponse = serviceResponse;\nexports.uriEncodeObject = uriEncodeObject;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar USER_AUTH_KEY = exports.USER_AUTH_KEY = '_stitch_ua';\nvar REFRESH_TOKEN_KEY = exports.REFRESH_TOKEN_KEY = '_stitch_rt';\nvar DEVICE_ID_KEY = exports.DEVICE_ID_KEY = '_stitch_did';\nvar STATE_KEY = exports.STATE_KEY = '_stitch_state';\nvar USER_AUTH_COOKIE_NAME = exports.USER_AUTH_COOKIE_NAME = 'stitch_ua';\nvar STITCH_ERROR_KEY = exports.STITCH_ERROR_KEY = '_stitch_error';\nvar STITCH_LINK_KEY = exports.STITCH_LINK_KEY = '_stitch_link';\nvar USER_LOGGED_IN_PT_KEY = exports.USER_LOGGED_IN_PT_KEY = '_stitch_pt';\nvar STITCH_REDIRECT_PROVIDER = exports.STITCH_REDIRECT_PROVIDER = '_stitch_rp';\n\nvar DEFAULT_ACCESS_TOKEN_EXPIRE_WITHIN_SECS = exports.DEFAULT_ACCESS_TOKEN_EXPIRE_WITHIN_SECS = 10;\n\nvar APP_CLIENT_CODEC = exports.APP_CLIENT_CODEC = {\n  'accessToken': 'access_token',\n  'refreshToken': 'refresh_token',\n  'deviceId': 'device_id',\n  'userId': 'user_id'\n};\n\nvar ADMIN_CLIENT_CODEC = exports.ADMIN_CLIENT_CODEC = {\n  'accessToken': 'access_token',\n  'refreshToken': 'refresh_token',\n  'deviceId': 'device_id',\n  'userId': 'user_id'\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeFetchArgs = exports.checkStatus = exports.SDK_VERSION = exports.DEFAULT_STITCH_SERVER_URL = exports.ADMIN_CLIENT_TYPE = exports.APP_CLIENT_TYPE = exports.JSONTYPE = undefined;\n\nvar _errors = __webpack_require__(3);\n\nvar JSONTYPE = exports.JSONTYPE = 'application/json';\nvar APP_CLIENT_TYPE = exports.APP_CLIENT_TYPE = 'app';\nvar ADMIN_CLIENT_TYPE = exports.ADMIN_CLIENT_TYPE = 'admin';\nvar DEFAULT_STITCH_SERVER_URL = exports.DEFAULT_STITCH_SERVER_URL = 'https://stitch.mongodb.com';\n\n// VERSION is substituted with the package.json version number at build time\nvar version = 'unknown';\nif (true) {\n  version = \"3.1.4\";\n}\nvar SDK_VERSION = exports.SDK_VERSION = version;\n\nvar checkStatus = exports.checkStatus = function checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  }\n\n  if (response.headers.get('Content-Type') === JSONTYPE) {\n    return response.json().then(function (json) {\n      var error = new _errors.StitchError(json.error, json.error_code);\n      error.response = response;\n      error.json = json;\n      return Promise.reject(error);\n    });\n  }\n\n  var error = new Error(response.statusText);\n  error.response = response;\n  return Promise.reject(error);\n};\n\nvar makeFetchArgs = exports.makeFetchArgs = function makeFetchArgs(method, body) {\n  var init = {\n    method: method,\n    headers: { 'Accept': JSONTYPE, 'Content-Type': JSONTYPE }\n  };\n\n  if (body) {\n    init.body = body;\n  }\n\n  init.cors = true;\n  return init;\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _extendableBuiltin(cls) {\n  function ExtendableBuiltin() {\n    var instance = Reflect.construct(cls, Array.from(arguments));\n    Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n    return instance;\n  }\n\n  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n    constructor: {\n      value: cls,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ExtendableBuiltin, cls);\n  } else {\n    ExtendableBuiltin.__proto__ = cls;\n  }\n\n  return ExtendableBuiltin;\n}\n\n/**\n * Creates a new StitchError\n *\n * @class\n * @augments Error\n * @param {String} message The error message.\n * @param {Object} code The error code.\n * @return {StitchError} A StitchError instance.\n */\nvar StitchError = function (_extendableBuiltin2) {\n  _inherits(StitchError, _extendableBuiltin2);\n\n  function StitchError(message, code) {\n    _classCallCheck(this, StitchError);\n\n    var _this = _possibleConstructorReturn(this, (StitchError.__proto__ || Object.getPrototypeOf(StitchError)).call(this, message));\n\n    _this.name = 'StitchError';\n    _this.message = message;\n    if (code !== undefined) {\n      _this.code = code;\n    }\n\n    if (typeof Error.captureStackTrace === 'function') {\n      Error.captureStackTrace(_this, _this.constructor);\n    } else {\n      _this.stack = new Error(message).stack;\n    }\n    return _this;\n  }\n\n  return StitchError;\n}(_extendableBuiltin(Error));\n\nvar ErrAuthProviderNotFound = 'AuthProviderNotFound';\nvar ErrInvalidSession = 'InvalidSession';\nvar ErrUnauthorized = 'Unauthorized';\n\nexports.StitchError = StitchError;\nexports.ErrAuthProviderNotFound = ErrAuthProviderNotFound;\nexports.ErrInvalidSession = ErrInvalidSession;\nexports.ErrUnauthorized = ErrUnauthorized;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StitchClient = exports.StitchClientFactory = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global window, fetch */\n/* eslint no-labels: ['error', { 'allowLoop': true }] */\n\n\nexports.newStitchClient = newStitchClient;\n\n__webpack_require__(8);\n\nvar _auth = __webpack_require__(13);\n\nvar _providers = __webpack_require__(6);\n\nvar _common = __webpack_require__(1);\n\nvar _services = __webpack_require__(19);\n\nvar _services2 = _interopRequireDefault(_services);\n\nvar _common2 = __webpack_require__(2);\n\nvar common = _interopRequireWildcard(_common2);\n\nvar _mongodbExtjson = __webpack_require__(5);\n\nvar _mongodbExtjson2 = _interopRequireDefault(_mongodbExtjson);\n\nvar _queryString = __webpack_require__(50);\n\nvar _queryString2 = _interopRequireDefault(_queryString);\n\nvar _errors = __webpack_require__(3);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar v1 = 1;\nvar v2 = 2;\nvar v3 = 3;\nvar API_TYPE_PUBLIC = 'public';\nvar API_TYPE_PRIVATE = 'private';\nvar API_TYPE_CLIENT = 'client';\nvar API_TYPE_APP = 'app';\n\n/**\n  * StitchClientFactory is a singleton factory class which can be used to\n  * asynchronously create instances of {@link StitchClient}. StitchClientFactory\n  * is not meant to be instantiated. Use the static `create()` method to build\n  * a new StitchClient.\n  */\n\nvar StitchClientFactory = exports.StitchClientFactory = function () {\n  /**\n   * @hideconstructor\n   */\n  function StitchClientFactory() {\n    _classCallCheck(this, StitchClientFactory);\n\n    throw new _errors.StitchError('StitchClient can only be made from the StitchClientFactory.create function');\n  }\n\n  /**\n   * Creates a new {@link StitchClient}.\n   *\n   * @param {String} clientAppID the app ID of the Stitch application, which can be found in\n   * the \"Clients\" page of the Stitch admin console.\n   * @param {Object} [options = {}] additional options for creating the {@link StitchClient}.\n   */\n\n\n  _createClass(StitchClientFactory, null, [{\n    key: 'create',\n    value: function create(clientAppID) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return newStitchClient(StitchClient.prototype, clientAppID, options);\n    }\n  }]);\n\n  return StitchClientFactory;\n}();\n\nfunction newStitchClient(prototype, clientAppID) {\n  var _v, _v2, _v3, _stitchClient$rootURL;\n\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var stitchClient = Object.create(prototype);\n  var baseUrl = common.DEFAULT_STITCH_SERVER_URL;\n  if (options.baseUrl) {\n    baseUrl = options.baseUrl;\n  }\n\n  stitchClient.clientAppID = clientAppID;\n\n  stitchClient.authUrl = clientAppID ? baseUrl + '/api/client/v2.0/app/' + clientAppID + '/auth' : baseUrl + '/api/admin/v3.0/auth';\n\n  stitchClient.rootURLsByAPIVersion = (_stitchClient$rootURL = {}, _defineProperty(_stitchClient$rootURL, v1, (_v = {}, _defineProperty(_v, API_TYPE_PUBLIC, baseUrl + '/api/public/v1.0'), _defineProperty(_v, API_TYPE_CLIENT, baseUrl + '/api/client/v1.0'), _defineProperty(_v, API_TYPE_PRIVATE, baseUrl + '/api/private/v1.0'), _defineProperty(_v, API_TYPE_APP, clientAppID ? baseUrl + '/api/client/v1.0/app/' + clientAppID : baseUrl + '/api/public/v1.0'), _v)), _defineProperty(_stitchClient$rootURL, v2, (_v2 = {}, _defineProperty(_v2, API_TYPE_PUBLIC, baseUrl + '/api/public/v2.0'), _defineProperty(_v2, API_TYPE_CLIENT, baseUrl + '/api/client/v2.0'), _defineProperty(_v2, API_TYPE_PRIVATE, baseUrl + '/api/private/v2.0'), _defineProperty(_v2, API_TYPE_APP, clientAppID ? baseUrl + '/api/client/v2.0/app/' + clientAppID : baseUrl + '/api/public/v2.0'), _v2)), _defineProperty(_stitchClient$rootURL, v3, (_v3 = {}, _defineProperty(_v3, API_TYPE_PUBLIC, baseUrl + '/api/public/v3.0'), _defineProperty(_v3, API_TYPE_CLIENT, baseUrl + '/api/client/v3.0'), _defineProperty(_v3, API_TYPE_APP, clientAppID ? baseUrl + '/api/client/v3.0/app/' + clientAppID : baseUrl + '/api/admin/v3.0'), _v3)), _stitchClient$rootURL);\n\n  var authOptions = {\n    codec: _common.APP_CLIENT_CODEC,\n    storage: options.storage\n  };\n\n  if (options.storageType) {\n    authOptions.storageType = options.storageType;\n  }\n  if (options.platform) {\n    authOptions.platform = options.platform;\n  }\n  if (options.authCodec) {\n    authOptions.codec = options.authCodec;\n  }\n\n  var authPromise = _auth.AuthFactory.create(stitchClient, stitchClient.authUrl, authOptions);\n  return authPromise.then(function (auth) {\n    stitchClient.auth = auth;\n    return Promise.all([stitchClient.auth.handleRedirect(), stitchClient.auth.handleCookie()]);\n  }).then(function () {\n    return stitchClient;\n  });\n}\n/**\n * StitchClient is the fundamental way of communicating with MongoDB Stitch in your\n * application. Use StitchClient to authenticate users and to access Stitch services.\n * StitchClient is not meant to be instantiated directly. Use a\n * {@link StitchClientFactory} to create one.\n */\n\nvar StitchClient = exports.StitchClient = function () {\n  /**\n   * @hideconstructor\n   */\n  function StitchClient() {\n    _classCallCheck(this, StitchClient);\n\n    var classname = this.constructor.name;\n    throw new _errors.StitchError(classname + ' can only be made from the ' + classname + 'Factory.create function');\n  }\n\n  _createClass(StitchClient, [{\n    key: 'login',\n\n\n    /**\n     * Login to Stitch instance, optionally providing a username and password. In\n     * the event that these are omitted, anonymous authentication is used.\n     *\n     * @param {String} [email] the email address used for login\n     * @param {String} [password] the password for the provided email address\n     * @param {Object} [options = {}] additional authentication options\n     * @returns {Promise} which resolve to a String value: the authenticated user ID.\n     */\n    value: function login(email, password) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (email === undefined || password === undefined) {\n        return this.authenticate(_providers.PROVIDER_TYPE_ANON, options);\n      }\n\n      return this.authenticate('userpass', Object.assign({ username: email, password: password }, options));\n    }\n\n    /**\n     * Send a request to the server indicating the provided email would like\n     * to sign up for an account. This will trigger a confirmation email containing\n     * a token which must be used with the `emailConfirm` method of the `userpass`\n     * auth provider in order to complete registration. The user will not be able\n     * to log in until that flow has been completed.\n     *\n     * @param {String} email the email used to sign up for the app\n     * @param {String} password the password used to sign up for the app\n     * @param {Object} [options = {}] additional authentication options\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'register',\n    value: function register(email, password) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      return this.auth.provider('userpass').register(email, password, options);\n    }\n\n    /**\n     * Links the currently logged in user with another identity.\n     *\n     * @param {String} providerType the provider of the other identity (e.g. 'userpass', 'facebook', 'google')\n     * @param {Object} [options = {}] additional authentication options\n     * @returns {Promise} which resolves to a String value: the original user ID\n     */\n\n  }, {\n    key: 'linkWithProvider',\n    value: function linkWithProvider(providerType) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!this.isAuthenticated()) {\n        throw new _errors.StitchError('Must be authenticated to link an account');\n      }\n\n      return this.auth.provider(providerType).authenticate(options, true).then(function () {\n        return _this.authedId();\n      });\n    }\n\n    /**\n     * Submits an authentication request to the specified provider providing any\n     * included options (read: user data).  If auth data already exists and the\n     * existing auth data has an access token, then these credentials are returned.\n     *\n     * @param {String} providerType the provider used for authentication (The possible\n     *                 options are 'anon', 'userpass', 'custom', 'facebook', 'google',\n     *                 and 'apiKey')\n     * @param {Object} [options = {}] additional authentication options\n     * @returns {Promise} which resolves to a String value: the authenticated user ID\n     */\n\n  }, {\n    key: 'authenticate',\n    value: function authenticate(providerType) {\n      var _this2 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      // reuse existing auth if present\n      var authenticateFn = function authenticateFn() {\n        return _this2.auth.provider(providerType).authenticate(options).then(function () {\n          return _this2.authedId();\n        });\n      };\n\n      if (this.isAuthenticated()) {\n        if (providerType === _providers.PROVIDER_TYPE_ANON && this.auth.getLoggedInProviderType() === _providers.PROVIDER_TYPE_ANON) {\n          return Promise.resolve(this.auth.authedId); // is authenticated, skip log in\n        }\n\n        return this.logout().then(function () {\n          return authenticateFn();\n        }); // will not be authenticated, continue log in\n      }\n\n      // is not authenticated, continue log in\n      return authenticateFn();\n    }\n\n    /**\n     * Ends the session for the current user, and clears auth information from storage.\n     *\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'logout',\n    value: function logout() {\n      var _this3 = this;\n\n      return this._do('/auth/session', 'DELETE', {\n        refreshOnFailure: false,\n        useRefreshToken: true,\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT]\n      }).then(function () {\n        return _this3.auth.clear();\n      }, function () {\n        return _this3.auth.clear();\n      });\n    }\n\n    /**\n     * @returns {*} Returns any error from the Stitch authentication system.\n     */\n\n  }, {\n    key: 'authError',\n    value: function authError() {\n      return this.auth.error();\n    }\n\n    /**\n     * Returns profile information for the currently logged in user.\n     *\n     * @returns {Promise} which resolves to a a JSON object containing user profile information.\n     */\n\n  }, {\n    key: 'userProfile',\n    value: function userProfile() {\n      return this._do('/auth/profile', 'GET', { rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT] }).then(function (response) {\n        return response.json();\n      });\n    }\n\n    /**\n    * @returns {Boolean} whether or not the current client is authenticated.\n    */\n\n  }, {\n    key: 'isAuthenticated',\n    value: function isAuthenticated() {\n      return !!this.authedId();\n    }\n\n    /**\n     *  @returns {String} a string of the currently authenticated user's ID.\n     */\n\n  }, {\n    key: 'authedId',\n    value: function authedId() {\n      return this.auth.authedId;\n    }\n\n    /**\n     * Factory method for accessing Stitch services.\n     *\n     * @method\n     * @param {String} type the service type (e.g. \"mongodb\", \"aws-s3\", \"aws-ses\", \"twilio\", \"http\", etc.)\n     * @param {String} name the service name specified in the Stitch admin console.\n     * @returns {Object} returns an instance of the specified service type.\n     */\n\n  }, {\n    key: 'service',\n    value: function service(type, name) {\n      if (this.constructor !== StitchClient) {\n        throw new _errors.StitchError('`service` is a factory method, do not use `new`');\n      }\n\n      if (!_services2.default.hasOwnProperty(type)) {\n        throw new _errors.StitchError('Invalid service type specified: ' + type);\n      }\n\n      var ServiceType = _services2.default[type];\n      return new ServiceType(this, name);\n    }\n\n    /**\n     * Executes a function.\n     *\n     * @param {String} name The name of the function.\n     * @param {...*} args Arguments to pass to the function.\n     */\n\n  }, {\n    key: 'executeFunction',\n    value: function executeFunction(name) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return this._doFunctionCall({\n        name: name,\n        arguments: args\n      });\n    }\n\n    /**\n     * Executes a service function.\n     *\n     * @param {String} service The name of the service.\n     * @param {String} action The name of the service action.\n     * @param {...*} args Arguments to pass to the service action.\n     */\n\n  }, {\n    key: 'executeServiceFunction',\n    value: function executeServiceFunction(service, action) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      return this._doFunctionCall({\n        service: service,\n        name: action,\n        arguments: args\n      });\n    }\n  }, {\n    key: '_doFunctionCall',\n    value: function _doFunctionCall(request) {\n      var responseDecoder = function responseDecoder(d) {\n        return _mongodbExtjson2.default.parse(d, { relaxed: true });\n      };\n      var responseEncoder = function responseEncoder(d) {\n        return _mongodbExtjson2.default.stringify(d, { strict: true });\n      };\n\n      return this._do('/functions/call', 'POST', { body: responseEncoder(request) }).then(function (response) {\n        return response.text();\n      }).then(function (body) {\n        return responseDecoder(body);\n      });\n    }\n\n    /**\n     * Returns an access token for the user\n     *\n     * @private\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'doSessionPost',\n    value: function doSessionPost() {\n      return this._do('/auth/session', 'POST', {\n        refreshOnFailure: false,\n        useRefreshToken: true,\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT]\n      }).then(function (response) {\n        return response.json();\n      });\n    }\n\n    /**\n     * Returns the user API keys associated with the current user.\n     *\n     * @returns {Promise} which resolves to an array of API key objects\n     */\n\n  }, {\n    key: 'getApiKeys',\n    value: function getApiKeys() {\n      return this._do('/auth/api_keys', 'GET', {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      }).then(function (response) {\n        return response.json();\n      });\n    }\n\n    /**\n     * Creates a user API key that can be used to authenticate as the current user.\n     *\n     * @param {String} userApiKeyName a unique name for the user API key\n     * @returns {Promise} which resolves to an API key object containing the API key value\n     */\n\n  }, {\n    key: 'createApiKey',\n    value: function createApiKey(userApiKeyName) {\n      return this._do('/auth/api_keys', 'POST', { rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true,\n        body: JSON.stringify({ 'name': userApiKeyName })\n      }).then(function (response) {\n        return response.json();\n      });\n    }\n\n    /**\n     * Returns a user API key associated with the current user.\n     *\n     * @param {String} keyID the ID of the key to fetch\n     * @returns {Promise} which resolves to an API key object, although the API key value will be omitted\n     */\n\n  }, {\n    key: 'getApiKeyByID',\n    value: function getApiKeyByID(keyID) {\n      return this._do('/auth/api_keys/' + keyID, 'GET', {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      }).then(function (response) {\n        return response.json();\n      });\n    }\n\n    /**\n     * Deletes a user API key associated with the current user.\n     *\n     * @param {String} keyID the ID of the key to delete\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'deleteApiKeyByID',\n    value: function deleteApiKeyByID(keyID) {\n      return this._do('/auth/api_keys/' + keyID, 'DELETE', {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      });\n    }\n\n    /**\n     * Enables a user API key associated with the current user.\n     *\n     * @param {String} keyID the ID of the key to enable\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'enableApiKeyByID',\n    value: function enableApiKeyByID(keyID) {\n      return this._do('/auth/api_keys/' + keyID + '/enable', 'PUT', {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      });\n    }\n\n    /**\n     * Disables a user API key associated with the current user.\n     *\n     * @param {String} keyID the ID of the key to disable\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'disableApiKeyByID',\n    value: function disableApiKeyByID(keyID) {\n      return this._do('/auth/api_keys/' + keyID + '/disable', 'PUT', {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      });\n    }\n  }, {\n    key: '_fetch',\n    value: function _fetch(url, fetchArgs, resource, method, options) {\n      var _this4 = this;\n\n      return fetch(url, fetchArgs).then(function (response) {\n        // Okay: passthrough\n        if (response.status >= 200 && response.status < 300) {\n          return Promise.resolve(response);\n        }\n\n        if (response.headers.get('Content-Type') === common.JSONTYPE) {\n          return response.json().then(function (json) {\n            // Only want to try refreshing token when there's an invalid session\n            if ('error_code' in json && json.error_code === _errors.ErrInvalidSession) {\n              if (!options.refreshOnFailure) {\n                return _this4.auth.clear().then(function () {\n                  var error = new _errors.StitchError(json.error, json.error_code);\n                  error.response = response;\n                  error.json = json;\n                  throw error;\n                });\n              }\n\n              return _this4.auth.refreshToken().then(function () {\n                options.refreshOnFailure = false;\n                return _this4._do(resource, method, options);\n              });\n            }\n\n            var error = new _errors.StitchError(json.error, json.error_code);\n            error.response = response;\n            error.json = json;\n            return Promise.reject(error);\n          });\n        }\n\n        var error = new Error(response.statusText);\n        error.response = response;\n        return Promise.reject(error);\n      });\n    }\n  }, {\n    key: '_fetchArgs',\n    value: function _fetchArgs(resource, method, options) {\n      var appURL = this.rootURLsByAPIVersion[options.apiVersion][options.apiType];\n      var url = '' + appURL + resource;\n      if (options.rootURL) {\n        url = '' + options.rootURL + resource;\n      }\n      var fetchArgs = common.makeFetchArgs(method, options.body);\n\n      if (!!options.headers) {\n        Object.assign(fetchArgs.headers, options.headers);\n      }\n\n      if (options.queryParams) {\n        url = url + '?' + _queryString2.default.stringify(options.queryParams);\n      }\n\n      return { url: url, fetchArgs: fetchArgs };\n    }\n  }, {\n    key: '_do',\n    value: function _do(resource, method, options) {\n      options = Object.assign({}, {\n        refreshOnFailure: true,\n        useRefreshToken: false,\n        apiVersion: v2,\n        apiType: API_TYPE_APP,\n        rootURL: undefined\n      }, options);\n\n      var _fetchArgs2 = this._fetchArgs(resource, method, options),\n          url = _fetchArgs2.url,\n          fetchArgs = _fetchArgs2.fetchArgs;\n\n      if (options.noAuth) {\n        return this._fetch(url, fetchArgs, resource, method, options);\n      }\n\n      if (!this.isAuthenticated()) {\n        return Promise.reject(new _errors.StitchError('Must auth first', _errors.ErrUnauthorized));\n      }\n      var token = options.useRefreshToken ? this.auth.getRefreshToken() : this.auth.getAccessToken();\n\n      fetchArgs.headers.Authorization = 'Bearer ' + token;\n      return this._fetch(url, fetchArgs, resource, method, options);\n    }\n  }, {\n    key: 'type',\n    get: function get() {\n      return common.APP_CLIENT_TYPE;\n    }\n  }]);\n\n  return StitchClient;\n}();\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar ExtJSON = __webpack_require__(38);\nmodule.exports = ExtJSON;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createProviders = exports.PROVIDER_TYPE_MONGODB_CLOUD = exports.PROVIDER_TYPE_FACEBOOK = exports.PROVIDER_TYPE_GOOGLE = exports.PROVIDER_TYPE_APIKEY = exports.PROVIDER_TYPE_USERPASS = exports.PROVIDER_TYPE_CUSTOM = exports.PROVIDER_TYPE_ANON = undefined;\n\nvar _common = __webpack_require__(2);\n\nvar common = _interopRequireWildcard(_common);\n\nvar _common2 = __webpack_require__(1);\n\nvar authCommon = _interopRequireWildcard(_common2);\n\nvar _util = __webpack_require__(0);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; } /**\n                                                                                                                                                                                                                   * @private\n                                                                                                                                                                                                                   * @module auth\n                                                                                                                                                                                                                   */\n\n\nvar PROVIDER_TYPE_ANON = exports.PROVIDER_TYPE_ANON = 'anon';\nvar PROVIDER_TYPE_CUSTOM = exports.PROVIDER_TYPE_CUSTOM = 'custom';\nvar PROVIDER_TYPE_USERPASS = exports.PROVIDER_TYPE_USERPASS = 'userpass';\nvar PROVIDER_TYPE_APIKEY = exports.PROVIDER_TYPE_APIKEY = 'apiKey';\nvar PROVIDER_TYPE_GOOGLE = exports.PROVIDER_TYPE_GOOGLE = 'google';\nvar PROVIDER_TYPE_FACEBOOK = exports.PROVIDER_TYPE_FACEBOOK = 'facebook';\nvar PROVIDER_TYPE_MONGODB_CLOUD = exports.PROVIDER_TYPE_MONGODB_CLOUD = 'mongodbCloud';\n\nfunction urlWithLinkParam(url, link) {\n  if (link) {\n    return url + '?link=true';\n  }\n\n  return url;\n}\n\n/**\n * @private\n * @namespace\n */\nfunction anonProvider(auth) {\n  return {\n    /**\n     * Login to a stitch application using anonymous authentication\n     *\n     * @memberof anonProvider\n     * @instance\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: function authenticate(options, link) {\n      var deviceId = auth.getDeviceId();\n      var device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n      var fetchArgs = common.makeFetchArgs('GET');\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(auth.rootUrl + '/providers/anon-user/login?device=' + (0, _util.uriEncodeObject)(device), link), auth.fetchArgsWithLink(fetchArgs, link)).then(common.checkStatus).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        return auth.set(json, PROVIDER_TYPE_ANON);\n      });\n    }\n  };\n}\n\n/**\n  * @private\n  * @namespace\n  */\nfunction customProvider(auth) {\n  var providerRoute = 'providers/custom-token';\n  var loginRoute = providerRoute + '/login';\n\n  return {\n    /**\n     * Login to a stitch application using custom authentication\n     *\n     * @memberof customProvider\n     * @instance\n     * @param {String} JWT token to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: function authenticate(token, link) {\n      var deviceId = auth.getDeviceId();\n      var device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ token: token, options: { device: device } }));\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(auth.rootUrl + '/' + loginRoute, link), auth.fetchArgsWithLink(fetchArgs, link)).then(common.checkStatus).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        return auth.set(json, PROVIDER_TYPE_CUSTOM);\n      });\n    }\n  };\n}\n\n/**\n * userPassProvider offers several methods for completing certain tasks necessary for email/password\n * authentication. userPassProvider cannot be instantiated directly. To instantiate,\n * use `.auth.providers('userpass')` on a {@link StitchClient}.\n *\n * @namespace\n */\nfunction userPassProvider(auth) {\n  // The ternary expression here is redundant but is just preserving previous behavior based on whether or not\n  // the client is for the admin or client API.\n  var providerRoute = auth.isAppClient() ? 'providers/local-userpass' : 'providers/local-userpass';\n  var loginRoute = auth.isAppClient() ? providerRoute + '/login' : providerRoute + '/login';\n\n  return {\n    /**\n     * Login to a stitch application using username and password authentication\n     *\n     * @private\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} username the username to use for authentication\n     * @param {String} password the password to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: function authenticate(_ref, link) {\n      var username = _ref.username,\n          password = _ref.password;\n\n      var deviceId = auth.getDeviceId();\n      var device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ username: username, password: password, options: { device: device } }));\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(auth.rootUrl + '/' + loginRoute, link), auth.fetchArgsWithLink(fetchArgs, link)).then(common.checkStatus).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        return auth.set(json, PROVIDER_TYPE_USERPASS);\n      });\n    },\n\n    /**\n     * Completes the email confirmation workflow from the Stitch server\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} tokenId the tokenId provided by the Stitch server\n     * @param {String} token the token provided by the Stitch server\n     * @returns {Promise}\n     */\n    emailConfirm: function emailConfirm(tokenId, token) {\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ tokenId: tokenId, token: token }));\n      fetchArgs.cors = true;\n\n      return fetch(auth.rootUrl + '/' + providerRoute + '/confirm', fetchArgs).then(common.checkStatus).then(function (response) {\n        return response.json();\n      });\n    },\n\n    /**\n     * Request that the stitch server send another email confirmation\n     * for account creation.\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} email the email address to send a confirmation email for\n     * @returns {Promise}\n     */\n    sendEmailConfirm: function sendEmailConfirm(email) {\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ email: email }));\n      fetchArgs.cors = true;\n\n      return fetch(auth.rootUrl + '/' + providerRoute + '/confirm/send', fetchArgs).then(common.checkStatus).then(function (response) {\n        return response.json();\n      });\n    },\n\n    /**\n     * Sends a password reset request to the Stitch server\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} email the email address of the account to reset the password for\n     * @returns {Promise}\n     */\n    sendPasswordReset: function sendPasswordReset(email) {\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ email: email }));\n      fetchArgs.cors = true;\n\n      return fetch(auth.rootUrl + '/' + providerRoute + '/reset/send', fetchArgs).then(common.checkStatus).then(function (response) {\n        return response.json();\n      });\n    },\n\n    /**\n     * Use information returned from the Stitch server to complete the password\n     * reset flow for a given email account, providing a new password for the account.\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} tokenId the tokenId provided by the Stitch server\n     * @param {String} token the token provided by the Stitch server\n     * @param {String} password the new password requested for this account\n     * @returns {Promise}\n     */\n    passwordReset: function passwordReset(tokenId, token, password) {\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ tokenId: tokenId, token: token, password: password }));\n      fetchArgs.cors = true;\n\n      return fetch(auth.rootUrl + '/' + providerRoute + '/reset', fetchArgs).then(common.checkStatus).then(function (response) {\n        return response.json();\n      });\n    },\n\n    /**\n     * Will trigger an email to the requested account containing a link with the\n     * token and tokenId that must be returned to the server using emailConfirm()\n     * to activate the account.\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} email the requested email for the account\n     * @param {String} password the requested password for the account\n     * @returns {Promise}\n     */\n    register: function register(email, password) {\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ email: email, password: password }));\n      fetchArgs.cors = true;\n\n      return fetch(auth.rootUrl + '/' + providerRoute + '/register', fetchArgs).then(common.checkStatus).then(function (response) {\n        return response.json();\n      });\n    }\n  };\n}\n\n/**\n * @private\n * @namespace\n */\nfunction apiKeyProvider(auth) {\n  // The ternary expression here is redundant but is just preserving previous behavior based on whether or not\n  // the client is for the admin or client API.\n  var loginRoute = auth.isAppClient() ? 'providers/api-key/login' : 'providers/api-key/login';\n\n  return {\n    /**\n     * Login to a stitch application using an api key\n     *\n     * @memberof apiKeyProvider\n     * @instance\n     * @param {String} key the key for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: function authenticate(key, link) {\n      var deviceId = auth.getDeviceId();\n      var device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ 'key': key, 'options': { device: device } }));\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(auth.rootUrl + '/' + loginRoute, link), auth.fetchArgsWithLink(fetchArgs, link)).then(common.checkStatus).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        return auth.set(json, PROVIDER_TYPE_APIKEY);\n      });\n    }\n  };\n}\n\n// The state we generate is to be used for any kind of request where we will\n// complete an authentication flow via a redirect. We store the generate in\n// a local storage bound to the app's origin. This ensures that any time we\n// receive a redirect, there must be a state parameter and it must match\n// what we ourselves have generated. This state MUST only be sent to\n// a trusted Stitch endpoint in order to preserve its integrity. Stitch will\n// store it in some way on its origin (currently a cookie stored on this client)\n// and use that state at the end of an auth flow as a parameter in the redirect URI.\nvar alpha = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\nfunction generateState() {\n  var state = '';\n  for (var i = 0; i < 64; ++i) {\n    state += alpha.charAt(Math.floor(Math.random() * alpha.length));\n  }\n\n  return state;\n}\n\nfunction getOAuthLoginURL(auth, providerName, redirectUrl) {\n  if (redirectUrl === undefined) {\n    redirectUrl = auth.pageRootUrl();\n  }\n\n  var state = generateState();\n  return auth.storage.set(authCommon.STATE_KEY, state).then(function () {\n    return auth.getDeviceId();\n  }).then(function (deviceId) {\n    var device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n    var result = auth.rootUrl + '/providers/oauth2-' + providerName + '/login?redirect=' + encodeURI(redirectUrl) + '&state=' + state + '&device=' + (0, _util.uriEncodeObject)(device);\n    return result;\n  });\n}\n\n/**\n * @private\n * @namespace\n */\nfunction googleProvider(auth) {\n  var loginRoute = auth.isAppClient() ? 'providers/oauth2-google/login' : 'providers/oauth2-google/login';\n\n  return {\n    /**\n     * Login to a stitch application using google authentication\n     *\n     * @memberof googleProvider\n     * @instance\n     * @param {Object} data the redirectUrl data to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: function authenticate(data, link) {\n      var authCode = data.authCode;\n\n      if (authCode) {\n        var deviceId = auth.getDeviceId();\n        var device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n        var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ authCode: authCode, options: { device: device } }));\n\n        return fetch(urlWithLinkParam(auth.rootUrl + '/' + loginRoute, link), auth.fetchArgsWithLink(fetchArgs, link)).then(common.checkStatus).then(function (response) {\n          return response.json();\n        }).then(function (json) {\n          return auth.set(json, PROVIDER_TYPE_GOOGLE);\n        });\n      }\n\n      var redirectUrl = data && data.redirectUrl ? data.redirectUrl : undefined;\n      return auth.storage.set(authCommon.STITCH_REDIRECT_PROVIDER, PROVIDER_TYPE_GOOGLE).then(function () {\n        return getOAuthLoginURL(auth, PROVIDER_TYPE_GOOGLE, redirectUrl);\n      }).then(function (res) {\n        return window.location.replace(res);\n      });\n    }\n  };\n}\n\n/**\n * @private\n * @namespace\n */\nfunction facebookProvider(auth) {\n  var loginRoute = auth.isAppClient() ? 'providers/oauth2-facebook/login' : 'providers/oauth2-facebook/login';\n\n  return {\n    /**\n     * Login to a stitch application using facebook authentication\n     *\n     * @memberof facebookProvider\n     * @instance\n     * @param {Object} data the redirectUrl data to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: function authenticate(data, link) {\n      var accessToken = data.accessToken;\n\n\n      if (accessToken) {\n        var deviceId = auth.getDeviceId();\n        var device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n        var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ accessToken: accessToken, options: { device: device } }));\n\n        return fetch(urlWithLinkParam(auth.rootUrl + '/' + loginRoute, link), auth.fetchArgsWithLink(fetchArgs, link)).then(common.checkStatus).then(function (response) {\n          return response.json();\n        }).then(function (json) {\n          return auth.set(json, PROVIDER_TYPE_FACEBOOK);\n        });\n      }\n\n      var redirectUrl = data && data.redirectUrl ? data.redirectUrl : undefined;\n      return auth.storage.set(authCommon.STITCH_REDIRECT_PROVIDER, PROVIDER_TYPE_FACEBOOK).then(function () {\n        return getOAuthLoginURL(auth, PROVIDER_TYPE_FACEBOOK, redirectUrl);\n      }).then(function (res) {\n        return window.location.replace(res);\n      });\n    }\n  };\n}\n\n/**\n * @private\n * @namespace\n */\nfunction mongodbCloudProvider(auth) {\n  // The ternary expression here is redundant but is just preserving previous behavior based on whether or not\n  // the client is for the admin or client API.\n  var loginRoute = auth.isAppClient() ? 'providers/mongodb-cloud/login' : 'providers/mongodb-cloud/login';\n\n  return {\n    /**\n     * Login to a stitch application using mongodb cloud authentication\n     *\n     * @memberof mongodbCloudProvider\n     * @instance\n     * @param {Object} data the username, apiKey, cors, and cookie data to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: function authenticate(data, link) {\n      var username = data.username,\n          apiKey = data.apiKey,\n          cors = data.cors,\n          cookie = data.cookie;\n\n      var options = Object.assign({}, { cors: true, cookie: false }, { cors: cors, cookie: cookie });\n      var deviceId = auth.getDeviceId();\n      var device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ username: username, apiKey: apiKey, options: { device: device } }));\n      fetchArgs.cors = true; // TODO: shouldn't this use the passed in `cors` value?\n      fetchArgs.credentials = 'include';\n\n      var url = urlWithLinkParam(auth.rootUrl + '/' + loginRoute, link);\n      if (options.cookie) {\n        return fetch(url + '?cookie=true', fetchArgs).then(common.checkStatus);\n      }\n\n      return fetch(url, auth.fetchArgsWithLink(fetchArgs, link)).then(common.checkStatus).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        return auth.set(json, PROVIDER_TYPE_MONGODB_CLOUD);\n      });\n    }\n  };\n}\n\n// TODO: support auth-specific options\nfunction createProviders(auth) {\n  var _ref2;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return _ref2 = {}, _defineProperty(_ref2, PROVIDER_TYPE_ANON, anonProvider(auth)), _defineProperty(_ref2, PROVIDER_TYPE_APIKEY, apiKeyProvider(auth)), _defineProperty(_ref2, PROVIDER_TYPE_GOOGLE, googleProvider(auth)), _defineProperty(_ref2, PROVIDER_TYPE_FACEBOOK, facebookProvider(auth)), _defineProperty(_ref2, PROVIDER_TYPE_MONGODB_CLOUD, mongodbCloudProvider(auth)), _defineProperty(_ref2, PROVIDER_TYPE_USERPASS, userPassProvider(auth)), _defineProperty(_ref2, PROVIDER_TYPE_CUSTOM, customProvider(auth)), _ref2;\n}\n\nexports.createProviders = createProviders;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nvar base64 = __webpack_require__(39)\nvar ieee754 = __webpack_require__(43)\nvar isArray = __webpack_require__(44)\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(9)))\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\n__webpack_require__(52);\nvar globalObj = typeof self !== 'undefined' && self || this;\nmodule.exports = globalObj.fetch.bind(globalObj);\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StitchAdminClient = exports.StitchAdminClientFactory = undefined;\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global window, fetch */\n/* eslint no-labels: ['error', { 'allowLoop': true }] */\n\n\n__webpack_require__(8);\n\nvar _client = __webpack_require__(4);\n\nvar _common = __webpack_require__(2);\n\nvar _common2 = _interopRequireDefault(_common);\n\nvar _common3 = __webpack_require__(1);\n\nvar _errors = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar v3 = 3;\n\n/** @private **/\n\nvar StitchAdminClientFactory = exports.StitchAdminClientFactory = function () {\n  function StitchAdminClientFactory() {\n    _classCallCheck(this, StitchAdminClientFactory);\n\n    throw new _errors.StitchError('StitchAdminClient can only be made from the StitchAdminClientFactory.create function');\n  }\n\n  _createClass(StitchAdminClientFactory, null, [{\n    key: 'create',\n    value: function create(baseUrl) {\n      return (0, _client.newStitchClient)(StitchAdminClient.prototype, '', { baseUrl: baseUrl, authCodec: _common3.ADMIN_CLIENT_CODEC });\n    }\n  }]);\n\n  return StitchAdminClientFactory;\n}();\n\n/** @private */\n\n\nvar StitchAdminClient = exports.StitchAdminClient = function (_StitchClient) {\n  _inherits(StitchAdminClient, _StitchClient);\n\n  function StitchAdminClient() {\n    _classCallCheck(this, StitchAdminClient);\n\n    return _possibleConstructorReturn(this, (StitchAdminClient.__proto__ || Object.getPrototypeOf(StitchAdminClient)).call(this));\n  }\n\n  _createClass(StitchAdminClient, [{\n    key: 'logout',\n\n\n    /**\n     * Ends the session for the current user.\n     *\n     * @returns {Promise}\n     */\n    value: function logout() {\n      var _this2 = this;\n\n      return _get(StitchAdminClient.prototype.__proto__ || Object.getPrototypeOf(StitchAdminClient.prototype), '_do', this).call(this, '/auth/session', 'DELETE', { refreshOnFailure: false, useRefreshToken: true, apiVersion: v3 }).then(function () {\n        return _this2.auth.clear();\n      });\n    }\n\n    /**\n     * Returns profile information for the currently logged in user\n     *\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'userProfile',\n    value: function userProfile() {\n      return this._v3._get('/auth/profile');\n    }\n\n    /**\n     * Returns available providers for the currently logged in admin\n     *\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'getAuthProviders',\n    value: function getAuthProviders() {\n      return _get(StitchAdminClient.prototype.__proto__ || Object.getPrototypeOf(StitchAdminClient.prototype), '_do', this).call(this, '/auth/providers', 'GET', { noAuth: true, apiVersion: v3 }).then(function (response) {\n        return response.json();\n      });\n    }\n\n    /**\n     * Returns an access token for the user\n     *\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'doSessionPost',\n    value: function doSessionPost() {\n      return _get(StitchAdminClient.prototype.__proto__ || Object.getPrototypeOf(StitchAdminClient.prototype), '_do', this).call(this, '/auth/session', 'POST', { refreshOnFailure: false, useRefreshToken: true, apiVersion: v3 }).then(function (response) {\n        return response.json();\n      });\n    }\n\n    /* Examples of how to access admin API with this client:\n     *\n     * List all apps\n     *    a.apps('580e6d055b199c221fcb821c').list()\n     *\n     * Fetch app under name 'planner'\n     *    a.apps('580e6d055b199c221fcb821c').app('planner').get()\n     *\n     * List services under the app 'planner'\n     *    a.apps('580e6d055b199c221fcb821c').app('planner').services().list()\n     *\n     * Delete a rule by ID\n     *    a.apps('580e6d055b199c221fcb821c').app('planner').services().service('mdb1').rules().rule('580e6d055b199c221fcb821d').remove()\n     *\n     */\n\n  }, {\n    key: 'apps',\n    value: function apps(groupId) {\n      var api = this._v3;\n      var groupUrl = '/groups/' + groupId + '/apps';\n      return {\n        list: function list() {\n          return api._get(groupUrl);\n        },\n        create: function create(data, options) {\n          var query = options && options.defaults ? '?defaults=true' : '';\n          return api._post(groupUrl + query, data);\n        },\n\n        app: function app(appId) {\n          var appUrl = groupUrl + '/' + appId;\n          return {\n            get: function get() {\n              return api._get(appUrl);\n            },\n            remove: function remove() {\n              return api._delete(appUrl);\n            },\n\n            export: function _export() {\n              return api._get(appUrl + '/export');\n            },\n\n            values: function values() {\n              return {\n                list: function list() {\n                  return api._get(appUrl + '/values');\n                },\n                create: function create(data) {\n                  return api._post(appUrl + '/values', data);\n                },\n                value: function value(valueId) {\n                  var valueUrl = appUrl + '/values/' + valueId;\n                  return {\n                    get: function get() {\n                      return api._get(valueUrl);\n                    },\n                    remove: function remove() {\n                      return api._delete(valueUrl);\n                    },\n                    update: function update(data) {\n                      return api._put(valueUrl, data);\n                    }\n                  };\n                }\n              };\n            },\n\n            services: function services() {\n              return {\n                list: function list() {\n                  return api._get(appUrl + '/services');\n                },\n                create: function create(data) {\n                  return api._post(appUrl + '/services', data);\n                },\n                service: function service(serviceId) {\n                  return {\n                    get: function get() {\n                      return api._get(appUrl + '/services/' + serviceId);\n                    },\n                    remove: function remove() {\n                      return api._delete(appUrl + '/services/' + serviceId);\n                    },\n                    update: function update(data) {\n                      return api._patch(appUrl + '/services/' + serviceId, data);\n                    },\n                    runCommand: function runCommand(commandName, data) {\n                      return api._post(appUrl + '/services/' + serviceId + '/commands/' + commandName, data);\n                    },\n                    config: function config() {\n                      return {\n                        get: function get() {\n                          return api._get(appUrl + '/services/' + serviceId + '/config');\n                        },\n                        update: function update(data) {\n                          return api._patch(appUrl + '/services/' + serviceId + '/config', data);\n                        }\n                      };\n                    },\n\n                    rules: function rules() {\n                      return {\n                        list: function list() {\n                          return api._get(appUrl + '/services/' + serviceId + '/rules');\n                        },\n                        create: function create(data) {\n                          return api._post(appUrl + '/services/' + serviceId + '/rules', data);\n                        },\n                        rule: function rule(ruleId) {\n                          var ruleUrl = appUrl + '/services/' + serviceId + '/rules/' + ruleId;\n                          return {\n                            get: function get() {\n                              return api._get(ruleUrl);\n                            },\n                            update: function update(data) {\n                              return api._put(ruleUrl, data);\n                            },\n                            remove: function remove() {\n                              return api._delete(ruleUrl);\n                            }\n                          };\n                        }\n                      };\n                    },\n\n                    incomingWebhooks: function incomingWebhooks() {\n                      return {\n                        list: function list() {\n                          return api._get(appUrl + '/services/' + serviceId + '/incoming_webhooks');\n                        },\n                        create: function create(data) {\n                          return api._post(appUrl + '/services/' + serviceId + '/incoming_webhooks', data);\n                        },\n                        incomingWebhook: function incomingWebhook(incomingWebhookId) {\n                          var webhookUrl = appUrl + '/services/' + serviceId + '/incoming_webhooks/' + incomingWebhookId;\n                          return {\n                            get: function get() {\n                              return api._get(webhookUrl);\n                            },\n                            update: function update(data) {\n                              return api._put(webhookUrl, data);\n                            },\n                            remove: function remove() {\n                              return api._delete(webhookUrl);\n                            }\n                          };\n                        }\n                      };\n                    }\n                  };\n                }\n              };\n            },\n\n            pushNotifications: function pushNotifications() {\n              return {\n                list: function list(filter) {\n                  return api._get(appUrl + '/push/notifications', filter);\n                },\n                create: function create(data) {\n                  return api._post(appUrl + '/push/notifications', data);\n                },\n                pushNotification: function pushNotification(messageId) {\n                  return {\n                    get: function get() {\n                      return api._get(appUrl + '/push/notifications/' + messageId);\n                    },\n                    update: function update(data) {\n                      return api._put(appUrl + '/push/notifications/' + messageId, data);\n                    },\n                    remove: function remove() {\n                      return api._delete(appUrl + '/push/notifications/' + messageId);\n                    },\n                    send: function send() {\n                      return api._post(appUrl + '/push/notifications/' + messageId + '/send');\n                    }\n                  };\n                }\n              };\n            },\n\n            users: function users() {\n              return {\n                list: function list(filter) {\n                  return api._get(appUrl + '/users', filter);\n                },\n                create: function create(user) {\n                  return api._post(appUrl + '/users', user);\n                },\n                user: function user(uid) {\n                  return {\n                    get: function get() {\n                      return api._get(appUrl + '/users/' + uid);\n                    },\n                    devices: function devices() {\n                      return {\n                        get: function get() {\n                          return api._get(appUrl + '/users/' + uid + '/devices');\n                        }\n                      };\n                    },\n                    logout: function logout() {\n                      return api._put(appUrl + '/users/' + uid + '/logout');\n                    },\n                    enable: function enable() {\n                      return api._put(appUrl + '/users/' + uid + '/enable');\n                    },\n                    disable: function disable() {\n                      return api._put(appUrl + '/users/' + uid + '/disable');\n                    },\n                    remove: function remove() {\n                      return api._delete(appUrl + '/users/' + uid);\n                    }\n                  };\n                }\n              };\n            },\n\n            userRegistrations: function userRegistrations() {\n              return {\n                sendConfirmationEmail: function sendConfirmationEmail(email) {\n                  return api._post(appUrl + '/user_registrations/by_email/' + email + '/send_confirm');\n                }\n              };\n            },\n\n            debug: function debug() {\n              return {\n                executeFunction: function executeFunction(userId) {\n                  for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n                    args[_key - 2] = arguments[_key];\n                  }\n\n                  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n                  return api._post(appUrl + '/debug/execute_function', { name: name, 'arguments': args }, { user_id: userId });\n                },\n                executeFunctionSource: function executeFunctionSource(userId) {\n                  var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n                  var evalSource = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n                  return api._post(appUrl + '/debug/execute_function_source', { source: source, 'eval_source': evalSource }, { user_id: userId });\n                }\n              };\n            },\n\n            authProviders: function authProviders() {\n              return {\n                list: function list() {\n                  return api._get(appUrl + '/auth_providers');\n                },\n                create: function create(data) {\n                  return api._post(appUrl + '/auth_providers', data);\n                },\n                authProvider: function authProvider(providerId) {\n                  return {\n                    get: function get() {\n                      return api._get(appUrl + '/auth_providers/' + providerId);\n                    },\n                    update: function update(data) {\n                      return api._patch(appUrl + '/auth_providers/' + providerId, data);\n                    },\n                    enable: function enable() {\n                      return api._put(appUrl + '/auth_providers/' + providerId + '/enable');\n                    },\n                    disable: function disable() {\n                      return api._put(appUrl + '/auth_providers/' + providerId + '/disable');\n                    },\n                    remove: function remove() {\n                      return api._delete(appUrl + '/auth_providers/' + providerId);\n                    }\n                  };\n                }\n              };\n            },\n\n            security: function security() {\n              return {\n                allowedRequestOrigins: function allowedRequestOrigins() {\n                  return {\n                    get: function get() {\n                      return api._get(appUrl + '/security/allowed_request_origins');\n                    },\n                    update: function update(data) {\n                      return api._post(appUrl + '/security/allowed_request_origins', data);\n                    }\n                  };\n                }\n              };\n            },\n\n            logs: function logs() {\n              return {\n                list: function list(filter) {\n                  return api._get(appUrl + '/logs', filter);\n                }\n              };\n            },\n\n            apiKeys: function apiKeys() {\n              return {\n                list: function list() {\n                  return api._get(appUrl + '/api_keys');\n                },\n                create: function create(data) {\n                  return api._post(appUrl + '/api_keys', data);\n                },\n                apiKey: function apiKey(apiKeyId) {\n                  return {\n                    get: function get() {\n                      return api._get(appUrl + '/api_keys/' + apiKeyId);\n                    },\n                    remove: function remove() {\n                      return api._delete(appUrl + '/api_keys/' + apiKeyId);\n                    },\n                    enable: function enable() {\n                      return api._put(appUrl + '/api_keys/' + apiKeyId + '/enable');\n                    },\n                    disable: function disable() {\n                      return api._put(appUrl + '/api_keys/' + apiKeyId + '/disable');\n                    }\n                  };\n                }\n              };\n            },\n\n            functions: function functions() {\n              return {\n                list: function list() {\n                  return api._get(appUrl + '/functions');\n                },\n                create: function create(data) {\n                  return api._post(appUrl + '/functions', data);\n                },\n                function: function _function(functionId) {\n                  return {\n                    get: function get() {\n                      return api._get(appUrl + '/functions/' + functionId);\n                    },\n                    update: function update(data) {\n                      return api._put(appUrl + '/functions/' + functionId, data);\n                    },\n                    remove: function remove() {\n                      return api._delete(appUrl + '/functions/' + functionId);\n                    }\n                  };\n                }\n              };\n            },\n\n            eventSubscriptions: function eventSubscriptions() {\n              return {\n                list: function list() {\n                  return api._get(appUrl + '/event_subscriptions');\n                },\n                create: function create(data) {\n                  return api._post(appUrl + '/event_subscriptions', data);\n                },\n                eventSubscription: function eventSubscription(eventSubscriptionId) {\n                  return {\n                    get: function get() {\n                      return api._get(appUrl + '/event_subscriptions/' + eventSubscriptionId);\n                    },\n                    update: function update(data) {\n                      return api._put(appUrl + '/event_subscriptions/' + eventSubscriptionId, data);\n                    },\n                    remove: function remove() {\n                      return api._delete(appUrl + '/event_subscriptions/' + eventSubscriptionId);\n                    }\n                  };\n                }\n              };\n            }\n          };\n        }\n      };\n    }\n  }, {\n    key: 'type',\n    get: function get() {\n      return _common2.default;\n    }\n  }, {\n    key: '_v3',\n    get: function get() {\n      var _this3 = this;\n\n      var v3do = function v3do(url, method, options) {\n        return _get(StitchAdminClient.prototype.__proto__ || Object.getPrototypeOf(StitchAdminClient.prototype), '_do', _this3).call(_this3, url, method, Object.assign({}, { apiVersion: v3 }, options)).then(function (response) {\n          var contentHeader = response.headers.get('content-type') || '';\n          if (contentHeader.split(',').indexOf('application/json') >= 0) {\n            return response.json();\n          }\n          return response;\n        });\n      };\n\n      return {\n        _get: function _get(url, queryParams) {\n          return v3do(url, 'GET', { queryParams: queryParams });\n        },\n        _put: function _put(url, data) {\n          return data ? v3do(url, 'PUT', { body: JSON.stringify(data) }) : v3do(url, 'PUT');\n        },\n        _patch: function _patch(url, data) {\n          return data ? v3do(url, 'PATCH', { body: JSON.stringify(data) }) : v3do(url, 'PATCH');\n        },\n        _delete: function _delete(url) {\n          return v3do(url, 'DELETE');\n        },\n        _post: function _post(url, body, queryParams) {\n          return queryParams ? v3do(url, 'POST', { body: JSON.stringify(body), queryParams: queryParams }) : v3do(url, 'POST', { body: JSON.stringify(body) });\n        }\n      };\n    }\n  }]);\n\n  return StitchAdminClient;\n}(_client.StitchClient);\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n;(function () {\n\n  var object =\n     true ? exports :\n    typeof self != 'undefined' ? self : // #8: web workers\n    $.global; // #31: ExtendScript\n\n  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n  function InvalidCharacterError(message) {\n    this.message = message;\n  }\n  InvalidCharacterError.prototype = new Error;\n  InvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n  // encoder\n  // [https://gist.github.com/999166] by [https://github.com/nignag]\n  object.btoa || (\n  object.btoa = function (input) {\n    var str = String(input);\n    for (\n      // initialize result and counter\n      var block, charCode, idx = 0, map = chars, output = '';\n      // if the next str index does not exist:\n      //   change the mapping table to \"=\"\n      //   check if d has no fractional digits\n      str.charAt(idx | 0) || (map = '=', idx % 1);\n      // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n      output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n    ) {\n      charCode = str.charCodeAt(idx += 3/4);\n      if (charCode > 0xFF) {\n        throw new InvalidCharacterError(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n      }\n      block = block << 8 | charCode;\n    }\n    return output;\n  });\n\n  // decoder\n  // [https://gist.github.com/1020396] by [https://github.com/atk]\n  object.atob || (\n  object.atob = function (input) {\n    var str = String(input).replace(/[=]+$/, ''); // #31: ExtendScript bad parse of /=\n    if (str.length % 4 == 1) {\n      throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n    }\n    for (\n      // initialize result and counters\n      var bc = 0, bs, buffer, idx = 0, output = '';\n      // get next character\n      buffer = str.charAt(idx++);\n      // character found in table? initialize bit storage and add its ascii value;\n      ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n        // and if not first of each 4 characters,\n        // convert the first 8 bits to one ascii character\n        bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n    ) {\n      // try to find character in table (0-63, not found => -1)\n      buffer = chars.indexOf(buffer);\n    }\n    return output;\n  });\n\n}());\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global, Buffer, process) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function (global, factory) {\n  ( false ? 'undefined' : _typeof2(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : global.bson = factory();\n})(undefined, function () {\n  'use strict';\n\n  var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, module) {\n    return module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var map = createCommonjsModule(function (module) {\n\n    // We have an ES6 Map available, return the native instance\n\n    if (typeof commonjsGlobal.Map !== 'undefined') {\n      module.exports = commonjsGlobal.Map;\n      module.exports.Map = commonjsGlobal.Map;\n    } else {\n      // We will return a polyfill\n      var Map = function Map(array) {\n        this._keys = [];\n        this._values = {};\n\n        for (var i = 0; i < array.length; i++) {\n          if (array[i] == null) continue; // skip null and undefined\n          var entry = array[i];\n          var key = entry[0];\n          var value = entry[1];\n          // Add the key to the list of keys in order\n          this._keys.push(key);\n          // Add the key and value to the values dictionary with a point\n          // to the location in the ordered keys list\n          this._values[key] = { v: value, i: this._keys.length - 1 };\n        }\n      };\n\n      Map.prototype.clear = function () {\n        this._keys = [];\n        this._values = {};\n      };\n\n      Map.prototype.delete = function (key) {\n        var value = this._values[key];\n        if (value == null) return false;\n        // Delete entry\n        delete this._values[key];\n        // Remove the key from the ordered keys list\n        this._keys.splice(value.i, 1);\n        return true;\n      };\n\n      Map.prototype.entries = function () {\n        var self = this;\n        var index = 0;\n\n        return {\n          next: function next() {\n            var key = self._keys[index++];\n            return {\n              value: key !== undefined ? [key, self._values[key].v] : undefined,\n              done: key !== undefined ? false : true\n            };\n          }\n        };\n      };\n\n      Map.prototype.forEach = function (callback, self) {\n        self = self || this;\n\n        for (var i = 0; i < this._keys.length; i++) {\n          var key = this._keys[i];\n          // Call the forEach callback\n          callback.call(self, this._values[key].v, key, self);\n        }\n      };\n\n      Map.prototype.get = function (key) {\n        return this._values[key] ? this._values[key].v : undefined;\n      };\n\n      Map.prototype.has = function (key) {\n        return this._values[key] != null;\n      };\n\n      Map.prototype.keys = function () {\n        var self = this;\n        var index = 0;\n\n        return {\n          next: function next() {\n            var key = self._keys[index++];\n            return {\n              value: key !== undefined ? key : undefined,\n              done: key !== undefined ? false : true\n            };\n          }\n        };\n      };\n\n      Map.prototype.set = function (key, value) {\n        if (this._values[key]) {\n          this._values[key].v = value;\n          return this;\n        }\n\n        // Add the key to the list of keys in order\n        this._keys.push(key);\n        // Add the key and value to the values dictionary with a point\n        // to the location in the ordered keys list\n        this._values[key] = { v: value, i: this._keys.length - 1 };\n        return this;\n      };\n\n      Map.prototype.values = function () {\n        var self = this;\n        var index = 0;\n\n        return {\n          next: function next() {\n            var key = self._keys[index++];\n            return {\n              value: key !== undefined ? self._values[key].v : undefined,\n              done: key !== undefined ? false : true\n            };\n          }\n        };\n      };\n\n      // Last ismaster\n      Object.defineProperty(Map.prototype, 'size', {\n        enumerable: true,\n        get: function get() {\n          return this._keys.length;\n        }\n      });\n\n      module.exports = Map;\n      module.exports.Map = Map;\n    }\n  });\n  var map_1 = map.Map;\n\n  // Licensed under the Apache License, Version 2.0 (the \"License\");\n  // you may not use this file except in compliance with the License.\n  // You may obtain a copy of the License at\n  //\n  //     http://www.apache.org/licenses/LICENSE-2.0\n  //\n  // Unless required by applicable law or agreed to in writing, software\n  // distributed under the License is distributed on an \"AS IS\" BASIS,\n  // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  // See the License for the specific language governing permissions and\n  // limitations under the License.\n  //\n  // Copyright 2009 Google Inc. All Rights Reserved\n\n  /**\n   * Defines a Long class for representing a 64-bit two's-complement\n   * integer value, which faithfully simulates the behavior of a Java \"Long\". This\n   * implementation is derived from LongLib in GWT.\n   *\n   * Constructs a 64-bit two's-complement integer, given its low and high 32-bit\n   * values as *signed* integers.  See the from* functions below for more\n   * convenient ways of constructing Longs.\n   *\n   * The internal representation of a Long is the two given signed, 32-bit values.\n   * We use 32-bit pieces because these are the size of integers on which\n   * Javascript performs bit-operations.  For operations like addition and\n   * multiplication, we split each number into 16-bit pieces, which can easily be\n   * multiplied within Javascript's floating-point representation without overflow\n   * or change in sign.\n   *\n   * In the algorithms below, we frequently reduce the negative case to the\n   * positive case by negating the input(s) and then post-processing the result.\n   * Note that we must ALWAYS check specially whether those values are MIN_VALUE\n   * (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\n   * a positive number, it overflows back into a negative).  Not handling this\n   * case would often result in infinite recursion.\n   *\n   * @class\n   * @param {number} low  the low (signed) 32 bits of the Long.\n   * @param {number} high the high (signed) 32 bits of the Long.\n   * @return {Long}\n   */\n\n  function Long(low, high) {\n    if (!(this instanceof Long)) return new Long(low, high);\n\n    this._bsontype = 'Long';\n    /**\n     * @type {number}\n     * @ignore\n     */\n    this.low_ = low | 0; // force into 32 signed bits.\n\n    /**\n     * @type {number}\n     * @ignore\n     */\n    this.high_ = high | 0; // force into 32 signed bits.\n  }\n\n  /**\n   * Return the int value.\n   *\n   * @method\n   * @return {number} the value, assuming it is a 32-bit integer.\n   */\n  Long.prototype.toInt = function () {\n    return this.low_;\n  };\n\n  /**\n   * Return the Number value.\n   *\n   * @method\n   * @return {number} the closest floating-point representation to this value.\n   */\n  Long.prototype.toNumber = function () {\n    return this.high_ * Long.TWO_PWR_32_DBL_ + this.getLowBitsUnsigned();\n  };\n\n  /**\n   * Return the JSON value.\n   *\n   * @method\n   * @return {string} the JSON representation.\n   */\n  Long.prototype.toJSON = function () {\n    return this.toString();\n  };\n\n  /**\n   * Return the String value.\n   *\n   * @method\n   * @param {number} [opt_radix] the radix in which the text should be written.\n   * @return {string} the textual representation of this value.\n   */\n  Long.prototype.toString = function (opt_radix) {\n    var radix = opt_radix || 10;\n    if (radix < 2 || 36 < radix) {\n      throw Error('radix out of range: ' + radix);\n    }\n\n    if (this.isZero()) {\n      return '0';\n    }\n\n    if (this.isNegative()) {\n      if (this.equals(Long.MIN_VALUE)) {\n        // We need to change the Long value before it can be negated, so we remove\n        // the bottom-most digit in this base and then recurse to do the rest.\n        var radixLong = Long.fromNumber(radix);\n        var div = this.div(radixLong);\n        var rem = div.multiply(radixLong).subtract(this);\n        return div.toString(radix) + rem.toInt().toString(radix);\n      } else {\n        return '-' + this.negate().toString(radix);\n      }\n    }\n\n    // Do several (6) digits each time through the loop, so as to\n    // minimize the calls to the very expensive emulated div.\n    var radixToPower = Long.fromNumber(Math.pow(radix, 6));\n\n    rem = this;\n    var result = '';\n\n    while (!rem.isZero()) {\n      var remDiv = rem.div(radixToPower);\n      var intval = rem.subtract(remDiv.multiply(radixToPower)).toInt();\n      var digits = intval.toString(radix);\n\n      rem = remDiv;\n      if (rem.isZero()) {\n        return digits + result;\n      } else {\n        while (digits.length < 6) {\n          digits = '0' + digits;\n        }\n        result = '' + digits + result;\n      }\n    }\n  };\n\n  /**\n   * Return the high 32-bits value.\n   *\n   * @method\n   * @return {number} the high 32-bits as a signed value.\n   */\n  Long.prototype.getHighBits = function () {\n    return this.high_;\n  };\n\n  /**\n   * Return the low 32-bits value.\n   *\n   * @method\n   * @return {number} the low 32-bits as a signed value.\n   */\n  Long.prototype.getLowBits = function () {\n    return this.low_;\n  };\n\n  /**\n   * Return the low unsigned 32-bits value.\n   *\n   * @method\n   * @return {number} the low 32-bits as an unsigned value.\n   */\n  Long.prototype.getLowBitsUnsigned = function () {\n    return this.low_ >= 0 ? this.low_ : Long.TWO_PWR_32_DBL_ + this.low_;\n  };\n\n  /**\n   * Returns the number of bits needed to represent the absolute value of this Long.\n   *\n   * @method\n   * @return {number} Returns the number of bits needed to represent the absolute value of this Long.\n   */\n  Long.prototype.getNumBitsAbs = function () {\n    if (this.isNegative()) {\n      if (this.equals(Long.MIN_VALUE)) {\n        return 64;\n      } else {\n        return this.negate().getNumBitsAbs();\n      }\n    } else {\n      var val = this.high_ !== 0 ? this.high_ : this.low_;\n      for (var bit = 31; bit > 0; bit--) {\n        if ((val & 1 << bit) !== 0) {\n          break;\n        }\n      }\n      return this.high_ !== 0 ? bit + 33 : bit + 1;\n    }\n  };\n\n  /**\n   * Return whether this value is zero.\n   *\n   * @method\n   * @return {boolean} whether this value is zero.\n   */\n  Long.prototype.isZero = function () {\n    return this.high_ === 0 && this.low_ === 0;\n  };\n\n  /**\n   * Return whether this value is negative.\n   *\n   * @method\n   * @return {boolean} whether this value is negative.\n   */\n  Long.prototype.isNegative = function () {\n    return this.high_ < 0;\n  };\n\n  /**\n   * Return whether this value is odd.\n   *\n   * @method\n   * @return {boolean} whether this value is odd.\n   */\n  Long.prototype.isOdd = function () {\n    return (this.low_ & 1) === 1;\n  };\n\n  /**\n   * Return whether this Long equals the other\n   *\n   * @method\n   * @param {Long} other Long to compare against.\n   * @return {boolean} whether this Long equals the other\n   */\n  Long.prototype.equals = function (other) {\n    return this.high_ === other.high_ && this.low_ === other.low_;\n  };\n\n  /**\n   * Return whether this Long does not equal the other.\n   *\n   * @method\n   * @param {Long} other Long to compare against.\n   * @return {boolean} whether this Long does not equal the other.\n   */\n  Long.prototype.notEquals = function (other) {\n    return this.high_ !== other.high_ || this.low_ !== other.low_;\n  };\n\n  /**\n   * Return whether this Long is less than the other.\n   *\n   * @method\n   * @param {Long} other Long to compare against.\n   * @return {boolean} whether this Long is less than the other.\n   */\n  Long.prototype.lessThan = function (other) {\n    return this.compare(other) < 0;\n  };\n\n  /**\n   * Return whether this Long is less than or equal to the other.\n   *\n   * @method\n   * @param {Long} other Long to compare against.\n   * @return {boolean} whether this Long is less than or equal to the other.\n   */\n  Long.prototype.lessThanOrEqual = function (other) {\n    return this.compare(other) <= 0;\n  };\n\n  /**\n   * Return whether this Long is greater than the other.\n   *\n   * @method\n   * @param {Long} other Long to compare against.\n   * @return {boolean} whether this Long is greater than the other.\n   */\n  Long.prototype.greaterThan = function (other) {\n    return this.compare(other) > 0;\n  };\n\n  /**\n   * Return whether this Long is greater than or equal to the other.\n   *\n   * @method\n   * @param {Long} other Long to compare against.\n   * @return {boolean} whether this Long is greater than or equal to the other.\n   */\n  Long.prototype.greaterThanOrEqual = function (other) {\n    return this.compare(other) >= 0;\n  };\n\n  /**\n   * Compares this Long with the given one.\n   *\n   * @method\n   * @param {Long} other Long to compare against.\n   * @return {boolean} 0 if they are the same, 1 if the this is greater, and -1 if the given one is greater.\n   */\n  Long.prototype.compare = function (other) {\n    if (this.equals(other)) {\n      return 0;\n    }\n\n    var thisNeg = this.isNegative();\n    var otherNeg = other.isNegative();\n    if (thisNeg && !otherNeg) {\n      return -1;\n    }\n    if (!thisNeg && otherNeg) {\n      return 1;\n    }\n\n    // at this point, the signs are the same, so subtraction will not overflow\n    if (this.subtract(other).isNegative()) {\n      return -1;\n    } else {\n      return 1;\n    }\n  };\n\n  /**\n   * The negation of this value.\n   *\n   * @method\n   * @return {Long} the negation of this value.\n   */\n  Long.prototype.negate = function () {\n    if (this.equals(Long.MIN_VALUE)) {\n      return Long.MIN_VALUE;\n    } else {\n      return this.not().add(Long.ONE);\n    }\n  };\n\n  /**\n   * Returns the sum of this and the given Long.\n   *\n   * @method\n   * @param {Long} other Long to add to this one.\n   * @return {Long} the sum of this and the given Long.\n   */\n  Long.prototype.add = function (other) {\n    // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\n\n    var a48 = this.high_ >>> 16;\n    var a32 = this.high_ & 0xffff;\n    var a16 = this.low_ >>> 16;\n    var a00 = this.low_ & 0xffff;\n\n    var b48 = other.high_ >>> 16;\n    var b32 = other.high_ & 0xffff;\n    var b16 = other.low_ >>> 16;\n    var b00 = other.low_ & 0xffff;\n\n    var c48 = 0,\n        c32 = 0,\n        c16 = 0,\n        c00 = 0;\n    c00 += a00 + b00;\n    c16 += c00 >>> 16;\n    c00 &= 0xffff;\n    c16 += a16 + b16;\n    c32 += c16 >>> 16;\n    c16 &= 0xffff;\n    c32 += a32 + b32;\n    c48 += c32 >>> 16;\n    c32 &= 0xffff;\n    c48 += a48 + b48;\n    c48 &= 0xffff;\n    return Long.fromBits(c16 << 16 | c00, c48 << 16 | c32);\n  };\n\n  /**\n   * Returns the difference of this and the given Long.\n   *\n   * @method\n   * @param {Long} other Long to subtract from this.\n   * @return {Long} the difference of this and the given Long.\n   */\n  Long.prototype.subtract = function (other) {\n    return this.add(other.negate());\n  };\n\n  /**\n   * Returns the product of this and the given Long.\n   *\n   * @method\n   * @param {Long} other Long to multiply with this.\n   * @return {Long} the product of this and the other.\n   */\n  Long.prototype.multiply = function (other) {\n    if (this.isZero()) {\n      return Long.ZERO;\n    } else if (other.isZero()) {\n      return Long.ZERO;\n    }\n\n    if (this.equals(Long.MIN_VALUE)) {\n      return other.isOdd() ? Long.MIN_VALUE : Long.ZERO;\n    } else if (other.equals(Long.MIN_VALUE)) {\n      return this.isOdd() ? Long.MIN_VALUE : Long.ZERO;\n    }\n\n    if (this.isNegative()) {\n      if (other.isNegative()) {\n        return this.negate().multiply(other.negate());\n      } else {\n        return this.negate().multiply(other).negate();\n      }\n    } else if (other.isNegative()) {\n      return this.multiply(other.negate()).negate();\n    }\n\n    // If both Longs are small, use float multiplication\n    if (this.lessThan(Long.TWO_PWR_24_) && other.lessThan(Long.TWO_PWR_24_)) {\n      return Long.fromNumber(this.toNumber() * other.toNumber());\n    }\n\n    // Divide each Long into 4 chunks of 16 bits, and then add up 4x4 products.\n    // We can skip products that would overflow.\n\n    var a48 = this.high_ >>> 16;\n    var a32 = this.high_ & 0xffff;\n    var a16 = this.low_ >>> 16;\n    var a00 = this.low_ & 0xffff;\n\n    var b48 = other.high_ >>> 16;\n    var b32 = other.high_ & 0xffff;\n    var b16 = other.low_ >>> 16;\n    var b00 = other.low_ & 0xffff;\n\n    var c48 = 0,\n        c32 = 0,\n        c16 = 0,\n        c00 = 0;\n    c00 += a00 * b00;\n    c16 += c00 >>> 16;\n    c00 &= 0xffff;\n    c16 += a16 * b00;\n    c32 += c16 >>> 16;\n    c16 &= 0xffff;\n    c16 += a00 * b16;\n    c32 += c16 >>> 16;\n    c16 &= 0xffff;\n    c32 += a32 * b00;\n    c48 += c32 >>> 16;\n    c32 &= 0xffff;\n    c32 += a16 * b16;\n    c48 += c32 >>> 16;\n    c32 &= 0xffff;\n    c32 += a00 * b32;\n    c48 += c32 >>> 16;\n    c32 &= 0xffff;\n    c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\n    c48 &= 0xffff;\n    return Long.fromBits(c16 << 16 | c00, c48 << 16 | c32);\n  };\n\n  /**\n   * Returns this Long divided by the given one.\n   *\n   * @method\n   * @param {Long} other Long by which to divide.\n   * @return {Long} this Long divided by the given one.\n   */\n  Long.prototype.div = function (other) {\n    if (other.isZero()) {\n      throw Error('division by zero');\n    } else if (this.isZero()) {\n      return Long.ZERO;\n    }\n\n    if (this.equals(Long.MIN_VALUE)) {\n      if (other.equals(Long.ONE) || other.equals(Long.NEG_ONE)) {\n        return Long.MIN_VALUE; // recall that -MIN_VALUE == MIN_VALUE\n      } else if (other.equals(Long.MIN_VALUE)) {\n        return Long.ONE;\n      } else {\n        // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\n        var halfThis = this.shiftRight(1);\n        var approx = halfThis.div(other).shiftLeft(1);\n        if (approx.equals(Long.ZERO)) {\n          return other.isNegative() ? Long.ONE : Long.NEG_ONE;\n        } else {\n          var rem = this.subtract(other.multiply(approx));\n          var result = approx.add(rem.div(other));\n          return result;\n        }\n      }\n    } else if (other.equals(Long.MIN_VALUE)) {\n      return Long.ZERO;\n    }\n\n    if (this.isNegative()) {\n      if (other.isNegative()) {\n        return this.negate().div(other.negate());\n      } else {\n        return this.negate().div(other).negate();\n      }\n    } else if (other.isNegative()) {\n      return this.div(other.negate()).negate();\n    }\n\n    // Repeat the following until the remainder is less than other:  find a\n    // floating-point that approximates remainder / other *from below*, add this\n    // into the result, and subtract it from the remainder.  It is critical that\n    // the approximate value is less than or equal to the real value so that the\n    // remainder never becomes negative.\n    var res = Long.ZERO;\n    rem = this;\n    while (rem.greaterThanOrEqual(other)) {\n      // Approximate the result of division. This may be a little greater or\n      // smaller than the actual value.\n      approx = Math.max(1, Math.floor(rem.toNumber() / other.toNumber()));\n\n      // We will tweak the approximate result by changing it in the 48-th digit or\n      // the smallest non-fractional digit, whichever is larger.\n      var log2 = Math.ceil(Math.log(approx) / Math.LN2);\n      var delta = log2 <= 48 ? 1 : Math.pow(2, log2 - 48);\n\n      // Decrease the approximation until it is smaller than the remainder.  Note\n      // that if it is too large, the product overflows and is negative.\n      var approxRes = Long.fromNumber(approx);\n      var approxRem = approxRes.multiply(other);\n      while (approxRem.isNegative() || approxRem.greaterThan(rem)) {\n        approx -= delta;\n        approxRes = Long.fromNumber(approx);\n        approxRem = approxRes.multiply(other);\n      }\n\n      // We know the answer can't be zero... and actually, zero would cause\n      // infinite recursion since we would make no progress.\n      if (approxRes.isZero()) {\n        approxRes = Long.ONE;\n      }\n\n      res = res.add(approxRes);\n      rem = rem.subtract(approxRem);\n    }\n    return res;\n  };\n\n  /**\n   * Returns this Long modulo the given one.\n   *\n   * @method\n   * @param {Long} other Long by which to mod.\n   * @return {Long} this Long modulo the given one.\n   */\n  Long.prototype.modulo = function (other) {\n    return this.subtract(this.div(other).multiply(other));\n  };\n\n  /**\n   * The bitwise-NOT of this value.\n   *\n   * @method\n   * @return {Long} the bitwise-NOT of this value.\n   */\n  Long.prototype.not = function () {\n    return Long.fromBits(~this.low_, ~this.high_);\n  };\n\n  /**\n   * Returns the bitwise-AND of this Long and the given one.\n   *\n   * @method\n   * @param {Long} other the Long with which to AND.\n   * @return {Long} the bitwise-AND of this and the other.\n   */\n  Long.prototype.and = function (other) {\n    return Long.fromBits(this.low_ & other.low_, this.high_ & other.high_);\n  };\n\n  /**\n   * Returns the bitwise-OR of this Long and the given one.\n   *\n   * @method\n   * @param {Long} other the Long with which to OR.\n   * @return {Long} the bitwise-OR of this and the other.\n   */\n  Long.prototype.or = function (other) {\n    return Long.fromBits(this.low_ | other.low_, this.high_ | other.high_);\n  };\n\n  /**\n   * Returns the bitwise-XOR of this Long and the given one.\n   *\n   * @method\n   * @param {Long} other the Long with which to XOR.\n   * @return {Long} the bitwise-XOR of this and the other.\n   */\n  Long.prototype.xor = function (other) {\n    return Long.fromBits(this.low_ ^ other.low_, this.high_ ^ other.high_);\n  };\n\n  /**\n   * Returns this Long with bits shifted to the left by the given amount.\n   *\n   * @method\n   * @param {number} numBits the number of bits by which to shift.\n   * @return {Long} this shifted to the left by the given amount.\n   */\n  Long.prototype.shiftLeft = function (numBits) {\n    numBits &= 63;\n    if (numBits === 0) {\n      return this;\n    } else {\n      var low = this.low_;\n      if (numBits < 32) {\n        var high = this.high_;\n        return Long.fromBits(low << numBits, high << numBits | low >>> 32 - numBits);\n      } else {\n        return Long.fromBits(0, low << numBits - 32);\n      }\n    }\n  };\n\n  /**\n   * Returns this Long with bits shifted to the right by the given amount.\n   *\n   * @method\n   * @param {number} numBits the number of bits by which to shift.\n   * @return {Long} this shifted to the right by the given amount.\n   */\n  Long.prototype.shiftRight = function (numBits) {\n    numBits &= 63;\n    if (numBits === 0) {\n      return this;\n    } else {\n      var high = this.high_;\n      if (numBits < 32) {\n        var low = this.low_;\n        return Long.fromBits(low >>> numBits | high << 32 - numBits, high >> numBits);\n      } else {\n        return Long.fromBits(high >> numBits - 32, high >= 0 ? 0 : -1);\n      }\n    }\n  };\n\n  /**\n   * Returns this Long with bits shifted to the right by the given amount, with the new top bits matching the current sign bit.\n   *\n   * @method\n   * @param {number} numBits the number of bits by which to shift.\n   * @return {Long} this shifted to the right by the given amount, with zeros placed into the new leading bits.\n   */\n  Long.prototype.shiftRightUnsigned = function (numBits) {\n    numBits &= 63;\n    if (numBits === 0) {\n      return this;\n    } else {\n      var high = this.high_;\n      if (numBits < 32) {\n        var low = this.low_;\n        return Long.fromBits(low >>> numBits | high << 32 - numBits, high >>> numBits);\n      } else if (numBits === 32) {\n        return Long.fromBits(high, 0);\n      } else {\n        return Long.fromBits(high >>> numBits - 32, 0);\n      }\n    }\n  };\n\n  /**\n   * Returns a Long representing the given (32-bit) integer value.\n   *\n   * @method\n   * @param {number} value the 32-bit integer in question.\n   * @return {Long} the corresponding Long value.\n   */\n  Long.fromInt = function (value) {\n    if (-128 <= value && value < 128) {\n      var cachedObj = Long.INT_CACHE_[value];\n      if (cachedObj) {\n        return cachedObj;\n      }\n    }\n\n    var obj = new Long(value | 0, value < 0 ? -1 : 0);\n    if (-128 <= value && value < 128) {\n      Long.INT_CACHE_[value] = obj;\n    }\n    return obj;\n  };\n\n  /**\n   * Returns a Long representing the given value, provided that it is a finite number. Otherwise, zero is returned.\n   *\n   * @method\n   * @param {number} value the number in question.\n   * @return {Long} the corresponding Long value.\n   */\n  Long.fromNumber = function (value) {\n    if (isNaN(value) || !isFinite(value)) {\n      return Long.ZERO;\n    } else if (value <= -Long.TWO_PWR_63_DBL_) {\n      return Long.MIN_VALUE;\n    } else if (value + 1 >= Long.TWO_PWR_63_DBL_) {\n      return Long.MAX_VALUE;\n    } else if (value < 0) {\n      return Long.fromNumber(-value).negate();\n    } else {\n      return new Long(value % Long.TWO_PWR_32_DBL_ | 0, value / Long.TWO_PWR_32_DBL_ | 0);\n    }\n  };\n\n  /**\n   * Returns a Long representing the 64-bit integer that comes by concatenating the given high and low bits. Each is assumed to use 32 bits.\n   *\n   * @method\n   * @param {number} lowBits the low 32-bits.\n   * @param {number} highBits the high 32-bits.\n   * @return {Long} the corresponding Long value.\n   */\n  Long.fromBits = function (lowBits, highBits) {\n    return new Long(lowBits, highBits);\n  };\n\n  /**\n   * Returns a Long representation of the given string, written using the given radix.\n   *\n   * @method\n   * @param {string} str the textual representation of the Long.\n   * @param {number} opt_radix the radix in which the text is written.\n   * @return {Long} the corresponding Long value.\n   */\n  Long.fromString = function (str, opt_radix) {\n    if (str.length === 0) {\n      throw Error('number format error: empty string');\n    }\n\n    var radix = opt_radix || 10;\n    if (radix < 2 || 36 < radix) {\n      throw Error('radix out of range: ' + radix);\n    }\n\n    if (str.charAt(0) === '-') {\n      return Long.fromString(str.substring(1), radix).negate();\n    } else if (str.indexOf('-') >= 0) {\n      throw Error('number format error: interior \"-\" character: ' + str);\n    }\n\n    // Do several (8) digits each time through the loop, so as to\n    // minimize the calls to the very expensive emulated div.\n    var radixToPower = Long.fromNumber(Math.pow(radix, 8));\n\n    var result = Long.ZERO;\n    for (var i = 0; i < str.length; i += 8) {\n      var size = Math.min(8, str.length - i);\n      var value = parseInt(str.substring(i, i + size), radix);\n      if (size < 8) {\n        var power = Long.fromNumber(Math.pow(radix, size));\n        result = result.multiply(power).add(Long.fromNumber(value));\n      } else {\n        result = result.multiply(radixToPower);\n        result = result.add(Long.fromNumber(value));\n      }\n    }\n    return result;\n  };\n\n  // NOTE: Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the\n  // from* methods on which they depend.\n\n  /**\n   * A cache of the Long representations of small integer values.\n   * @type {Object}\n   * @ignore\n   */\n  Long.INT_CACHE_ = {};\n\n  // NOTE: the compiler should inline these constant values below and then remove\n  // these variables, so there should be no runtime penalty for these.\n\n  /**\n   * Number used repeated below in calculations.  This must appear before the\n   * first call to any from* function below.\n   * @type {number}\n   * @ignore\n   */\n  Long.TWO_PWR_16_DBL_ = 1 << 16;\n\n  /**\n   * @type {number}\n   * @ignore\n   */\n  Long.TWO_PWR_24_DBL_ = 1 << 24;\n\n  /**\n   * @type {number}\n   * @ignore\n   */\n  Long.TWO_PWR_32_DBL_ = Long.TWO_PWR_16_DBL_ * Long.TWO_PWR_16_DBL_;\n\n  /**\n   * @type {number}\n   * @ignore\n   */\n  Long.TWO_PWR_31_DBL_ = Long.TWO_PWR_32_DBL_ / 2;\n\n  /**\n   * @type {number}\n   * @ignore\n   */\n  Long.TWO_PWR_48_DBL_ = Long.TWO_PWR_32_DBL_ * Long.TWO_PWR_16_DBL_;\n\n  /**\n   * @type {number}\n   * @ignore\n   */\n  Long.TWO_PWR_64_DBL_ = Long.TWO_PWR_32_DBL_ * Long.TWO_PWR_32_DBL_;\n\n  /**\n   * @type {number}\n   * @ignore\n   */\n  Long.TWO_PWR_63_DBL_ = Long.TWO_PWR_64_DBL_ / 2;\n\n  /** @type {Long} */\n  Long.ZERO = Long.fromInt(0);\n\n  /** @type {Long} */\n  Long.ONE = Long.fromInt(1);\n\n  /** @type {Long} */\n  Long.NEG_ONE = Long.fromInt(-1);\n\n  /** @type {Long} */\n  Long.MAX_VALUE = Long.fromBits(0xffffffff | 0, 0x7fffffff | 0);\n\n  /** @type {Long} */\n  Long.MIN_VALUE = Long.fromBits(0, 0x80000000 | 0);\n\n  /**\n   * @type {Long}\n   * @ignore\n   */\n  Long.TWO_PWR_24_ = Long.fromInt(1 << 24);\n\n  /**\n   * Expose.\n   */\n  var long_1 = Long;\n  var Long_1 = Long;\n  long_1.Long = Long_1;\n\n  /**\n   * A class representation of the BSON Double type.\n   *\n   * @class\n   * @param {number} value the number we want to represent as a double.\n   * @return {Double}\n   */\n\n  function Double(value) {\n    if (!(this instanceof Double)) return new Double(value);\n\n    this._bsontype = 'Double';\n    this.value = value;\n  }\n\n  /**\n   * Access the number value.\n   *\n   * @method\n   * @return {number} returns the wrapped double number.\n   */\n  Double.prototype.valueOf = function () {\n    return this.value;\n  };\n\n  /**\n   * @ignore\n   */\n  Double.prototype.toJSON = function () {\n    return this.value;\n  };\n\n  var double_1 = Double;\n  var Double_1 = Double;\n  double_1.Double = Double_1;\n\n  /**\n   * @class\n   * @param {number} low  the low (signed) 32 bits of the Timestamp.\n   * @param {number} high the high (signed) 32 bits of the Timestamp.\n   * @return {Timestamp}\n   */\n  function Timestamp(low, high) {\n    if (low instanceof long_1) {\n      long_1.call(this, low.low_, low.high_);\n    } else {\n      long_1.call(this, low, high);\n    }\n\n    this._bsontype = 'Timestamp';\n  }\n\n  Timestamp.prototype = Object.create(long_1.prototype);\n  Timestamp.prototype.constructor = Timestamp;\n\n  /**\n   * Return the JSON value.\n   *\n   * @method\n   * @return {String} the JSON representation.\n   */\n  Timestamp.prototype.toJSON = function () {\n    return {\n      $timestamp: this.toString()\n    };\n  };\n\n  /**\n   * Returns a Timestamp represented by the given (32-bit) integer value.\n   *\n   * @method\n   * @param {number} value the 32-bit integer in question.\n   * @return {Timestamp} the timestamp.\n   */\n  Timestamp.fromInt = function (value) {\n    return new Timestamp(long_1.fromInt(value));\n  };\n\n  /**\n   * Returns a Timestamp representing the given number value, provided that it is a finite number. Otherwise, zero is returned.\n   *\n   * @method\n   * @param {number} value the number in question.\n   * @return {Timestamp} the timestamp.\n   */\n  Timestamp.fromNumber = function (value) {\n    return new Timestamp(long_1.fromNumber(value));\n  };\n\n  /**\n   * Returns a Timestamp for the given high and low bits. Each is assumed to use 32 bits.\n   *\n   * @method\n   * @param {number} lowBits the low 32-bits.\n   * @param {number} highBits the high 32-bits.\n   * @return {Timestamp} the timestamp.\n   */\n  Timestamp.fromBits = function (lowBits, highBits) {\n    return new Timestamp(lowBits, highBits);\n  };\n\n  /**\n   * Returns a Timestamp from the given string, optionally using the given radix.\n   *\n   * @method\n   * @param {String} str the textual representation of the Timestamp.\n   * @param {number} [opt_radix] the radix in which the text is written.\n   * @return {Timestamp} the timestamp.\n   */\n  Timestamp.fromString = function (str, opt_radix) {\n    return new Timestamp(long_1.fromString(str, opt_radix));\n  };\n\n  var timestamp = Timestamp;\n  var Timestamp_1 = Timestamp;\n  timestamp.Timestamp = Timestamp_1;\n\n  /**\n   * Machine id.\n   *\n   * Create a random 3-byte value (i.e. unique for this\n   * process). Other drivers use a md5 of the machine id here, but\n   * that would mean an asyc call to gethostname, so we don't bother.\n   * @ignore\n   */\n\n  var MACHINE_ID = parseInt(Math.random() * 0xffffff, 10);\n\n  // Regular expression that checks for hex value\n  var checkForHexRegExp = new RegExp('^[0-9a-fA-F]{24}$');\n  var hasBufferType = false;\n\n  // Check if buffer exists\n  try {\n    if (Buffer && Buffer.from) hasBufferType = true;\n  } catch (err) {\n    hasBufferType = false;\n  }\n\n  /**\n   * Create a new ObjectID instance\n   *\n   * @class\n   * @param {(string|number)} id Can be a 24 byte hex string, 12 byte binary string or a Number.\n   * @property {number} generationTime The generation time of this ObjectId instance\n   * @return {ObjectID} instance of ObjectID.\n   */\n  function ObjectID(id) {\n    // Duck-typing to support ObjectId from different npm packages\n    if (id instanceof ObjectID) return id;\n    if (!(this instanceof ObjectID)) return new ObjectID(id);\n\n    this._bsontype = 'ObjectID';\n\n    // The most common usecase (blank id, new objectId instance)\n    if (id == null || typeof id === 'number') {\n      // Generate a new id\n      this.id = this.generate(id);\n      // If we are caching the hex string\n      if (ObjectID.cacheHexString) this.__id = this.toString('hex');\n      // Return the object\n      return;\n    }\n\n    // Check if the passed in id is valid\n    var valid = ObjectID.isValid(id);\n\n    // Throw an error if it's not a valid setup\n    if (!valid && id != null) {\n      throw new TypeError('Argument passed in must be a single String of 12 bytes or a string of 24 hex characters');\n    } else if (valid && typeof id === 'string' && id.length === 24 && hasBufferType) {\n      return new ObjectID(new Buffer(id, 'hex'));\n    } else if (valid && typeof id === 'string' && id.length === 24) {\n      return ObjectID.createFromHexString(id);\n    } else if (id != null && id.length === 12) {\n      // assume 12 byte string\n      this.id = id;\n    } else if (id != null && id.toHexString) {\n      // Duck-typing to support ObjectId from different npm packages\n      return id;\n    } else {\n      throw new TypeError('Argument passed in must be a single String of 12 bytes or a string of 24 hex characters');\n    }\n\n    if (ObjectID.cacheHexString) this.__id = this.toString('hex');\n  }\n\n  // Allow usage of ObjectId as well as ObjectID\n  // var ObjectId = ObjectID;\n\n  // Precomputed hex table enables speedy hex string conversion\n  var hexTable = [];\n  for (var i = 0; i < 256; i++) {\n    hexTable[i] = (i <= 15 ? '0' : '') + i.toString(16);\n  }\n\n  /**\n   * Return the ObjectID id as a 24 byte hex string representation\n   *\n   * @method\n   * @return {string} return the 24 byte hex string representation.\n   */\n  ObjectID.prototype.toHexString = function () {\n    if (ObjectID.cacheHexString && this.__id) return this.__id;\n\n    var hexString = '';\n    if (!this.id || !this.id.length) {\n      throw new TypeError('invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [' + JSON.stringify(this.id) + ']');\n    }\n\n    if (this.id instanceof _Buffer) {\n      hexString = convertToHex(this.id);\n      if (ObjectID.cacheHexString) this.__id = hexString;\n      return hexString;\n    }\n\n    for (var i = 0; i < this.id.length; i++) {\n      hexString += hexTable[this.id.charCodeAt(i)];\n    }\n\n    if (ObjectID.cacheHexString) this.__id = hexString;\n    return hexString;\n  };\n\n  /**\n   * Update the ObjectID index used in generating new ObjectID's on the driver\n   *\n   * @method\n   * @return {number} returns next index value.\n   * @ignore\n   */\n  ObjectID.prototype.get_inc = function () {\n    return ObjectID.index = (ObjectID.index + 1) % 0xffffff;\n  };\n\n  /**\n   * Update the ObjectID index used in generating new ObjectID's on the driver\n   *\n   * @method\n   * @return {number} returns next index value.\n   * @ignore\n   */\n  ObjectID.prototype.getInc = function () {\n    return this.get_inc();\n  };\n\n  /**\n   * Generate a 12 byte id buffer used in ObjectID's\n   *\n   * @method\n   * @param {number} [time] optional parameter allowing to pass in a second based timestamp.\n   * @return {Buffer} return the 12 byte id buffer string.\n   */\n  ObjectID.prototype.generate = function (time) {\n    if ('number' !== typeof time) {\n      time = ~~(Date.now() / 1000);\n    }\n\n    // Use pid\n    var pid = (typeof process === 'undefined' || process.pid === 1 ? Math.floor(Math.random() * 100000) : process.pid) % 0xffff;\n    var inc = this.get_inc();\n    // Buffer used\n    var buffer = new Buffer(12);\n    // Encode time\n    buffer[3] = time & 0xff;\n    buffer[2] = time >> 8 & 0xff;\n    buffer[1] = time >> 16 & 0xff;\n    buffer[0] = time >> 24 & 0xff;\n    // Encode machine\n    buffer[6] = MACHINE_ID & 0xff;\n    buffer[5] = MACHINE_ID >> 8 & 0xff;\n    buffer[4] = MACHINE_ID >> 16 & 0xff;\n    // Encode pid\n    buffer[8] = pid & 0xff;\n    buffer[7] = pid >> 8 & 0xff;\n    // Encode index\n    buffer[11] = inc & 0xff;\n    buffer[10] = inc >> 8 & 0xff;\n    buffer[9] = inc >> 16 & 0xff;\n    // Return the buffer\n    return buffer;\n  };\n\n  /**\n   * Converts the id into a 24 byte hex string for printing\n   *\n   * @param {String} format The Buffer toString format parameter.\n   * @return {String} return the 24 byte hex string representation.\n   * @ignore\n   */\n  ObjectID.prototype.toString = function (format) {\n    // Is the id a buffer then use the buffer toString method to return the format\n    if (this.id && this.id.copy) {\n      return this.id.toString(typeof format === 'string' ? format : 'hex');\n    }\n\n    // if(this.buffer )\n    return this.toHexString();\n  };\n\n  /**\n   * Converts to a string representation of this Id.\n   *\n   * @return {String} return the 24 byte hex string representation.\n   * @ignore\n   */\n  ObjectID.prototype.inspect = ObjectID.prototype.toString;\n\n  /**\n   * Converts to its JSON representation.\n   *\n   * @return {String} return the 24 byte hex string representation.\n   * @ignore\n   */\n  ObjectID.prototype.toJSON = function () {\n    return this.toHexString();\n  };\n\n  /**\n   * Compares the equality of this ObjectID with `otherID`.\n   *\n   * @method\n   * @param {object} otherID ObjectID instance to compare against.\n   * @return {boolean} the result of comparing two ObjectID's\n   */\n  ObjectID.prototype.equals = function equals(otherId) {\n    if (otherId instanceof ObjectID) {\n      return this.toString() === otherId.toString();\n    } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 12 && this.id instanceof _Buffer) {\n      return otherId === this.id.toString('binary');\n    } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 24) {\n      return otherId.toLowerCase() === this.toHexString();\n    } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 12) {\n      return otherId === this.id;\n    } else if (otherId != null && (otherId instanceof ObjectID || otherId.toHexString)) {\n      return otherId.toHexString() === this.toHexString();\n    } else {\n      return false;\n    }\n  };\n\n  /**\n   * Returns the generation date (accurate up to the second) that this ID was generated.\n   *\n   * @method\n   * @return {date} the generation date\n   */\n  ObjectID.prototype.getTimestamp = function () {\n    var timestamp = new Date();\n    var time = this.id[3] | this.id[2] << 8 | this.id[1] << 16 | this.id[0] << 24;\n    timestamp.setTime(Math.floor(time) * 1000);\n    return timestamp;\n  };\n\n  /**\n   * @ignore\n   */\n  ObjectID.index = ~~(Math.random() * 0xffffff);\n\n  /**\n   * @ignore\n   */\n  ObjectID.createPk = function createPk() {\n    return new ObjectID();\n  };\n\n  /**\n   * Creates an ObjectID from a second based number, with the rest of the ObjectID zeroed out. Used for comparisons or sorting the ObjectID.\n   *\n   * @method\n   * @param {number} time an integer number representing a number of seconds.\n   * @return {ObjectID} return the created ObjectID\n   */\n  ObjectID.createFromTime = function createFromTime(time) {\n    var buffer = new Buffer([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n    // Encode time into first 4 bytes\n    buffer[3] = time & 0xff;\n    buffer[2] = time >> 8 & 0xff;\n    buffer[1] = time >> 16 & 0xff;\n    buffer[0] = time >> 24 & 0xff;\n    // Return the new objectId\n    return new ObjectID(buffer);\n  };\n\n  // Lookup tables\n  var decodeLookup = [];\n  i = 0;\n  while (i < 10) {\n    decodeLookup[0x30 + i] = i++;\n  }while (i < 16) {\n    decodeLookup[0x41 - 10 + i] = decodeLookup[0x61 - 10 + i] = i++;\n  }var _Buffer = Buffer;\n  var convertToHex = function convertToHex(bytes) {\n    return bytes.toString('hex');\n  };\n\n  /**\n   * Creates an ObjectID from a hex string representation of an ObjectID.\n   *\n   * @method\n   * @param {string} hexString create a ObjectID from a passed in 24 byte hexstring.\n   * @return {ObjectID} return the created ObjectID\n   */\n  ObjectID.createFromHexString = function createFromHexString(string) {\n    // Throw an error if it's not a valid setup\n    if (typeof string === 'undefined' || string != null && string.length !== 24) {\n      throw new TypeError('Argument passed in must be a single String of 12 bytes or a string of 24 hex characters');\n    }\n\n    // Use Buffer.from method if available\n    if (hasBufferType) return new ObjectID(new Buffer(string, 'hex'));\n\n    // Calculate lengths\n    var array = new _Buffer(12);\n    var n = 0;\n    var i = 0;\n\n    while (i < 24) {\n      array[n++] = decodeLookup[string.charCodeAt(i++)] << 4 | decodeLookup[string.charCodeAt(i++)];\n    }\n\n    return new ObjectID(array);\n  };\n\n  /**\n   * Checks if a value is a valid bson ObjectId\n   *\n   * @method\n   * @return {boolean} return true if the value is a valid bson ObjectId, return false otherwise.\n   */\n  ObjectID.isValid = function isValid(id) {\n    if (id == null) return false;\n\n    if (typeof id === 'number') {\n      return true;\n    }\n\n    if (typeof id === 'string') {\n      return id.length === 12 || id.length === 24 && checkForHexRegExp.test(id);\n    }\n\n    if (id instanceof ObjectID) {\n      return true;\n    }\n\n    if (id instanceof _Buffer) {\n      return true;\n    }\n\n    // Duck-Typing detection of ObjectId like objects\n    if (id.toHexString) {\n      return id.id.length === 12 || id.id.length === 24 && checkForHexRegExp.test(id.id);\n    }\n\n    return false;\n  };\n\n  /**\n   * @ignore\n   */\n  Object.defineProperty(ObjectID.prototype, 'generationTime', {\n    enumerable: true,\n    get: function get() {\n      return this.id[3] | this.id[2] << 8 | this.id[1] << 16 | this.id[0] << 24;\n    },\n    set: function set(value) {\n      // Encode time into first 4 bytes\n      this.id[3] = value & 0xff;\n      this.id[2] = value >> 8 & 0xff;\n      this.id[1] = value >> 16 & 0xff;\n      this.id[0] = value >> 24 & 0xff;\n    }\n  });\n\n  /**\n   * Expose.\n   */\n  var objectid = ObjectID;\n  var ObjectID_1 = ObjectID;\n  var ObjectId = ObjectID;\n  objectid.ObjectID = ObjectID_1;\n  objectid.ObjectId = ObjectId;\n\n  function alphabetize(str) {\n    return str.split('').sort().join('');\n  }\n\n  /**\n   * A class representation of the BSON RegExp type.\n   *\n   * @class\n   * @return {BSONRegExp} A MinKey instance\n   */\n  function BSONRegExp(pattern, options) {\n    if (!(this instanceof BSONRegExp)) return new BSONRegExp(pattern, options);\n\n    // Execute\n    this._bsontype = 'BSONRegExp';\n    this.pattern = pattern || '';\n    this.options = options ? alphabetize(options) : '';\n\n    // Validate options\n    for (var i = 0; i < this.options.length; i++) {\n      if (!(this.options[i] === 'i' || this.options[i] === 'm' || this.options[i] === 'x' || this.options[i] === 'l' || this.options[i] === 's' || this.options[i] === 'u')) {\n        throw new Error('the regular expression options [' + this.options[i] + '] is not supported');\n      }\n    }\n  }\n\n  var regexp = BSONRegExp;\n  var BSONRegExp_1 = BSONRegExp;\n  regexp.BSONRegExp = BSONRegExp_1;\n\n  /**\n   * A class representation of the BSON Symbol type.\n   *\n   * @class\n   * @deprecated\n   * @param {string} value the string representing the symbol.\n   * @return {Symbol}\n   */\n\n  function _Symbol(value) {\n    if (!(this instanceof _Symbol)) return new _Symbol(value);\n    this._bsontype = 'Symbol';\n    this.value = value;\n  }\n\n  /**\n   * Access the wrapped string value.\n   *\n   * @method\n   * @return {String} returns the wrapped string.\n   */\n  _Symbol.prototype.valueOf = function () {\n    return this.value;\n  };\n\n  /**\n   * @ignore\n   */\n  _Symbol.prototype.toString = function () {\n    return this.value;\n  };\n\n  /**\n   * @ignore\n   */\n  _Symbol.prototype.inspect = function () {\n    return this.value;\n  };\n\n  /**\n   * @ignore\n   */\n  _Symbol.prototype.toJSON = function () {\n    return this.value;\n  };\n\n  var symbol = _Symbol;\n  var Symbol_1 = _Symbol;\n  symbol.Symbol = Symbol_1;\n\n  /**\n   * A class representation of a BSON Int32 type.\n   *\n   * @class\n   * @param {number} value the number we want to represent as an int32.\n   * @return {Int32}\n   */\n\n  function Int32(value) {\n    if (!(this instanceof Int32)) return new Int32(value);\n\n    this._bsontype = 'Int32';\n    this.value = value;\n  }\n\n  /**\n   * Access the number value.\n   *\n   * @method\n   * @return {number} returns the wrapped int32 number.\n   */\n  Int32.prototype.valueOf = function () {\n    return this.value;\n  };\n\n  /**\n   * @ignore\n   */\n  Int32.prototype.toJSON = function () {\n    return this.value;\n  };\n\n  var int_32 = Int32;\n  var Int32_1 = Int32;\n  int_32.Int32 = Int32_1;\n\n  /**\n   * A class representation of the BSON Code type.\n   *\n   * @class\n   * @param {(string|function)} code a string or function.\n   * @param {Object} [scope] an optional scope for the function.\n   * @return {Code}\n   */\n\n  function Code(code, scope) {\n    if (!(this instanceof Code)) return new Code(code, scope);\n    this._bsontype = 'Code';\n    this.code = code;\n    this.scope = scope;\n  }\n\n  /**\n   * @ignore\n   */\n  Code.prototype.toJSON = function () {\n    return { scope: this.scope, code: this.code };\n  };\n\n  var code = Code;\n  var Code_1 = Code;\n  code.Code = Code_1;\n\n  var PARSE_STRING_REGEXP = /^(\\+|-)?(\\d+|(\\d*\\.\\d*))?(E|e)?([-+])?(\\d+)?$/;\n  var PARSE_INF_REGEXP = /^(\\+|-)?(Infinity|inf)$/i;\n  var PARSE_NAN_REGEXP = /^(\\+|-)?NaN$/i;\n\n  var EXPONENT_MAX = 6111;\n  var EXPONENT_MIN = -6176;\n  var EXPONENT_BIAS = 6176;\n  var MAX_DIGITS = 34;\n\n  // Nan value bits as 32 bit values (due to lack of longs)\n  var NAN_BUFFER = [0x7c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\n  // Infinity value bits 32 bit values (due to lack of longs)\n  var INF_NEGATIVE_BUFFER = [0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\n  var INF_POSITIVE_BUFFER = [0x78, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\n\n  var EXPONENT_REGEX = /^([-+])?(\\d+)?$/;\n\n  // Detect if the value is a digit\n  var isDigit = function isDigit(value) {\n    return !isNaN(parseInt(value, 10));\n  };\n\n  // Divide two uint128 values\n  var divideu128 = function divideu128(value) {\n    var DIVISOR = long_1.fromNumber(1000 * 1000 * 1000);\n    var _rem = long_1.fromNumber(0);\n\n    if (!value.parts[0] && !value.parts[1] && !value.parts[2] && !value.parts[3]) {\n      return { quotient: value, rem: _rem };\n    }\n\n    for (var i = 0; i <= 3; i++) {\n      // Adjust remainder to match value of next dividend\n      _rem = _rem.shiftLeft(32);\n      // Add the divided to _rem\n      _rem = _rem.add(new long_1(value.parts[i], 0));\n      value.parts[i] = _rem.div(DIVISOR).low_;\n      _rem = _rem.modulo(DIVISOR);\n    }\n\n    return { quotient: value, rem: _rem };\n  };\n\n  // Multiply two Long values and return the 128 bit value\n  var multiply64x2 = function multiply64x2(left, right) {\n    if (!left && !right) {\n      return { high: long_1.fromNumber(0), low: long_1.fromNumber(0) };\n    }\n\n    var leftHigh = left.shiftRightUnsigned(32);\n    var leftLow = new long_1(left.getLowBits(), 0);\n    var rightHigh = right.shiftRightUnsigned(32);\n    var rightLow = new long_1(right.getLowBits(), 0);\n\n    var productHigh = leftHigh.multiply(rightHigh);\n    var productMid = leftHigh.multiply(rightLow);\n    var productMid2 = leftLow.multiply(rightHigh);\n    var productLow = leftLow.multiply(rightLow);\n\n    productHigh = productHigh.add(productMid.shiftRightUnsigned(32));\n    productMid = new long_1(productMid.getLowBits(), 0).add(productMid2).add(productLow.shiftRightUnsigned(32));\n\n    productHigh = productHigh.add(productMid.shiftRightUnsigned(32));\n    productLow = productMid.shiftLeft(32).add(new long_1(productLow.getLowBits(), 0));\n\n    // Return the 128 bit result\n    return { high: productHigh, low: productLow };\n  };\n\n  var lessThan = function lessThan(left, right) {\n    // Make values unsigned\n    var uhleft = left.high_ >>> 0;\n    var uhright = right.high_ >>> 0;\n\n    // Compare high bits first\n    if (uhleft < uhright) {\n      return true;\n    } else if (uhleft === uhright) {\n      var ulleft = left.low_ >>> 0;\n      var ulright = right.low_ >>> 0;\n      if (ulleft < ulright) return true;\n    }\n\n    return false;\n  };\n\n  var invalidErr = function invalidErr(string, message) {\n    throw new TypeError('\"${string}\" not a valid Decimal128 string - ' + message);\n  };\n\n  /**\n   * A class representation of the BSON Decimal128 type.\n   *\n   * @class\n   * @param {Buffer} bytes a buffer containing the raw Decimal128 bytes.\n   * @return {Double}\n   */\n  function Decimal128(bytes) {\n    this._bsontype = 'Decimal128';\n    this.bytes = bytes;\n  }\n\n  /**\n   * Create a Decimal128 instance from a string representation\n   *\n   * @method\n   * @param {string} string a numeric string representation.\n   * @return {Decimal128} returns a Decimal128 instance.\n   */\n  Decimal128.fromString = function (string) {\n    // Parse state tracking\n    var isNegative = false;\n    var sawRadix = false;\n    var foundNonZero = false;\n\n    // Total number of significant digits (no leading or trailing zero)\n    var significantDigits = 0;\n    // Total number of significand digits read\n    var nDigitsRead = 0;\n    // Total number of digits (no leading zeros)\n    var nDigits = 0;\n    // The number of the digits after radix\n    var radixPosition = 0;\n    // The index of the first non-zero in *str*\n    var firstNonZero = 0;\n\n    // Digits Array\n    var digits = [0];\n    // The number of digits in digits\n    var nDigitsStored = 0;\n    // Insertion pointer for digits\n    var digitsInsert = 0;\n    // The index of the first non-zero digit\n    var firstDigit = 0;\n    // The index of the last digit\n    var lastDigit = 0;\n\n    // Exponent\n    var exponent = 0;\n    // loop index over array\n    var i = 0;\n    // The high 17 digits of the significand\n    var significandHigh = [0, 0];\n    // The low 17 digits of the significand\n    var significandLow = [0, 0];\n    // The biased exponent\n    var biasedExponent = 0;\n\n    // Read index\n    var index = 0;\n\n    // Naively prevent against REDOS attacks.\n    // TODO: implementing a custom parsing for this, or refactoring the regex would yield\n    //       further gains.\n    if (string.length >= 7000) {\n      throw new TypeError('' + string + ' not a valid Decimal128 string');\n    }\n\n    // Results\n    var stringMatch = string.match(PARSE_STRING_REGEXP);\n    var infMatch = string.match(PARSE_INF_REGEXP);\n    var nanMatch = string.match(PARSE_NAN_REGEXP);\n\n    // Validate the string\n    if (!stringMatch && !infMatch && !nanMatch || string.length === 0) {\n      throw new TypeError('' + string + ' not a valid Decimal128 string');\n    }\n\n    if (stringMatch) {\n      // full_match = stringMatch[0]\n      // sign = stringMatch[1]\n\n      var unsignedNumber = stringMatch[2];\n      // stringMatch[3] is undefined if a whole number (ex \"1\", 12\")\n      // but defined if a number w/ decimal in it (ex \"1.0, 12.2\")\n\n      var e = stringMatch[4];\n      var expSign = stringMatch[5];\n      var expNumber = stringMatch[6];\n\n      // they provided e, but didn't give an exponent number. for ex \"1e\"\n      if (e && expNumber === undefined) invalidErr(string, 'missing exponent power');\n\n      // they provided e, but didn't give a number before it. for ex \"e1\"\n      if (e && unsignedNumber === undefined) invalidErr(string, 'missing exponent base');\n\n      if (e === undefined && (expSign || expNumber)) {\n        invalidErr(string, 'missing e before exponent');\n      }\n    }\n\n    // Get the negative or positive sign\n    if (string[index] === '+' || string[index] === '-') {\n      isNegative = string[index++] === '-';\n    }\n\n    // Check if user passed Infinity or NaN\n    if (!isDigit(string[index]) && string[index] !== '.') {\n      if (string[index] === 'i' || string[index] === 'I') {\n        return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));\n      } else if (string[index] === 'N') {\n        return new Decimal128(new Buffer(NAN_BUFFER));\n      }\n    }\n\n    // Read all the digits\n    while (isDigit(string[index]) || string[index] === '.') {\n      if (string[index] === '.') {\n        if (sawRadix) invalidErr(string, 'contains multiple periods');\n\n        sawRadix = true;\n        index = index + 1;\n        continue;\n      }\n\n      if (nDigitsStored < 34) {\n        if (string[index] !== '0' || foundNonZero) {\n          if (!foundNonZero) {\n            firstNonZero = nDigitsRead;\n          }\n\n          foundNonZero = true;\n\n          // Only store 34 digits\n          digits[digitsInsert++] = parseInt(string[index], 10);\n          nDigitsStored = nDigitsStored + 1;\n        }\n      }\n\n      if (foundNonZero) nDigits = nDigits + 1;\n      if (sawRadix) radixPosition = radixPosition + 1;\n\n      nDigitsRead = nDigitsRead + 1;\n      index = index + 1;\n    }\n\n    if (sawRadix && !nDigitsRead) throw new TypeError('' + string + ' not a valid Decimal128 string');\n\n    // Read exponent if exists\n    if (string[index] === 'e' || string[index] === 'E') {\n      // Read exponent digits\n      var match = string.substr(++index).match(EXPONENT_REGEX);\n\n      // No digits read\n      if (!match || !match[2]) return new Decimal128(new Buffer(NAN_BUFFER));\n\n      // Get exponent\n      exponent = parseInt(match[0], 10);\n\n      // Adjust the index\n      index = index + match[0].length;\n    }\n\n    // Return not a number\n    if (string[index]) return new Decimal128(new Buffer(NAN_BUFFER));\n\n    // Done reading input\n    // Find first non-zero digit in digits\n    firstDigit = 0;\n\n    if (!nDigitsStored) {\n      firstDigit = 0;\n      lastDigit = 0;\n      digits[0] = 0;\n      nDigits = 1;\n      nDigitsStored = 1;\n      significantDigits = 0;\n    } else {\n      lastDigit = nDigitsStored - 1;\n      significantDigits = nDigits;\n      if (significantDigits !== 1) {\n        while (string[firstNonZero + significantDigits - 1] === '0') {\n          significantDigits = significantDigits - 1;\n        }\n      }\n    }\n\n    // Normalization of exponent\n    // Correct exponent based on radix position, and shift significand as needed\n    // to represent user input\n\n    // Overflow prevention\n    if (exponent <= radixPosition && radixPosition - exponent > 1 << 14) {\n      exponent = EXPONENT_MIN;\n    } else {\n      exponent = exponent - radixPosition;\n    }\n\n    // Attempt to normalize the exponent\n    while (exponent > EXPONENT_MAX) {\n      // Shift exponent to significand and decrease\n      lastDigit = lastDigit + 1;\n\n      if (lastDigit - firstDigit > MAX_DIGITS) {\n        // Check if we have a zero then just hard clamp, otherwise fail\n        var digitsString = digits.join('');\n        if (digitsString.match(/^0+$/)) {\n          exponent = EXPONENT_MAX;\n          break;\n        }\n        invalidErr(string, 'overflow');\n      }\n      exponent = exponent - 1;\n    }\n\n    while (exponent < EXPONENT_MIN || nDigitsStored < nDigits) {\n      // Shift last digit. can only do this if < significant digits than # stored.\n      if (lastDigit === 0 && significantDigits < nDigitsStored) {\n        exponent = EXPONENT_MIN;\n        significantDigits = 0;\n        break;\n      }\n\n      if (nDigitsStored < nDigits) {\n        // adjust to match digits not stored\n        nDigits = nDigits - 1;\n      } else {\n        // adjust to round\n        lastDigit = lastDigit - 1;\n      }\n\n      if (exponent < EXPONENT_MAX) {\n        exponent = exponent + 1;\n      } else {\n        // Check if we have a zero then just hard clamp, otherwise fail\n        digitsString = digits.join('');\n        if (digitsString.match(/^0+$/)) {\n          exponent = EXPONENT_MAX;\n          break;\n        }\n        invalidErr(string, 'overflow');\n      }\n    }\n\n    // Round\n    // We've normalized the exponent, but might still need to round.\n    if (lastDigit - firstDigit + 1 < significantDigits) {\n      var endOfString = nDigitsRead;\n\n      // If we have seen a radix point, 'string' is 1 longer than we have\n      // documented with ndigits_read, so inc the position of the first nonzero\n      // digit and the position that digits are read to.\n      if (sawRadix) {\n        firstNonZero = firstNonZero + 1;\n        endOfString = endOfString + 1;\n      }\n      // if negative, we need to increment again to account for - sign at start.\n      if (isNegative) {\n        firstNonZero = firstNonZero + 1;\n        endOfString = endOfString + 1;\n      }\n\n      var roundDigit = parseInt(string[firstNonZero + lastDigit + 1], 10);\n      var roundBit = 0;\n\n      if (roundDigit >= 5) {\n        roundBit = 1;\n        if (roundDigit === 5) {\n          roundBit = digits[lastDigit] % 2 === 1;\n          for (i = firstNonZero + lastDigit + 2; i < endOfString; i++) {\n            if (parseInt(string[i], 10)) {\n              roundBit = 1;\n              break;\n            }\n          }\n        }\n      }\n\n      if (roundBit) {\n        var dIdx = lastDigit;\n\n        for (; dIdx >= 0; dIdx--) {\n          if (++digits[dIdx] > 9) {\n            digits[dIdx] = 0;\n\n            // overflowed most significant digit\n            if (dIdx === 0) {\n              if (exponent < EXPONENT_MAX) {\n                exponent = exponent + 1;\n                digits[dIdx] = 1;\n              } else {\n                return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));\n              }\n            }\n          }\n        }\n      }\n    }\n\n    // Encode significand\n    // The high 17 digits of the significand\n    significandHigh = long_1.fromNumber(0);\n    // The low 17 digits of the significand\n    significandLow = long_1.fromNumber(0);\n\n    // read a zero\n    if (significantDigits === 0) {\n      significandHigh = long_1.fromNumber(0);\n      significandLow = long_1.fromNumber(0);\n    } else if (lastDigit - firstDigit < 17) {\n      dIdx = firstDigit;\n      significandLow = long_1.fromNumber(digits[dIdx++]);\n      significandHigh = new long_1(0, 0);\n\n      for (; dIdx <= lastDigit; dIdx++) {\n        significandLow = significandLow.multiply(long_1.fromNumber(10));\n        significandLow = significandLow.add(long_1.fromNumber(digits[dIdx]));\n      }\n    } else {\n      dIdx = firstDigit;\n      significandHigh = long_1.fromNumber(digits[dIdx++]);\n\n      for (; dIdx <= lastDigit - 17; dIdx++) {\n        significandHigh = significandHigh.multiply(long_1.fromNumber(10));\n        significandHigh = significandHigh.add(long_1.fromNumber(digits[dIdx]));\n      }\n\n      significandLow = long_1.fromNumber(digits[dIdx++]);\n\n      for (; dIdx <= lastDigit; dIdx++) {\n        significandLow = significandLow.multiply(long_1.fromNumber(10));\n        significandLow = significandLow.add(long_1.fromNumber(digits[dIdx]));\n      }\n    }\n\n    var significand = multiply64x2(significandHigh, long_1.fromString('100000000000000000'));\n\n    significand.low = significand.low.add(significandLow);\n\n    if (lessThan(significand.low, significandLow)) {\n      significand.high = significand.high.add(long_1.fromNumber(1));\n    }\n\n    // Biased exponent\n    biasedExponent = exponent + EXPONENT_BIAS;\n    var dec = { low: long_1.fromNumber(0), high: long_1.fromNumber(0) };\n\n    // Encode combination, exponent, and significand.\n    if (significand.high.shiftRightUnsigned(49).and(long_1.fromNumber(1)).equals(long_1.fromNumber)) {\n      // Encode '11' into bits 1 to 3\n      dec.high = dec.high.or(long_1.fromNumber(0x3).shiftLeft(61));\n      dec.high = dec.high.or(long_1.fromNumber(biasedExponent).and(long_1.fromNumber(0x3fff).shiftLeft(47)));\n      dec.high = dec.high.or(significand.high.and(long_1.fromNumber(0x7fffffffffff)));\n    } else {\n      dec.high = dec.high.or(long_1.fromNumber(biasedExponent & 0x3fff).shiftLeft(49));\n      dec.high = dec.high.or(significand.high.and(long_1.fromNumber(0x1ffffffffffff)));\n    }\n\n    dec.low = significand.low;\n\n    // Encode sign\n    if (isNegative) {\n      dec.high = dec.high.or(long_1.fromString('9223372036854775808'));\n    }\n\n    // Encode into a buffer\n    var buffer = new Buffer(16);\n    index = 0;\n\n    // Encode the low 64 bits of the decimal\n    // Encode low bits\n    buffer[index++] = dec.low.low_ & 0xff;\n    buffer[index++] = dec.low.low_ >> 8 & 0xff;\n    buffer[index++] = dec.low.low_ >> 16 & 0xff;\n    buffer[index++] = dec.low.low_ >> 24 & 0xff;\n    // Encode high bits\n    buffer[index++] = dec.low.high_ & 0xff;\n    buffer[index++] = dec.low.high_ >> 8 & 0xff;\n    buffer[index++] = dec.low.high_ >> 16 & 0xff;\n    buffer[index++] = dec.low.high_ >> 24 & 0xff;\n\n    // Encode the high 64 bits of the decimal\n    // Encode low bits\n    buffer[index++] = dec.high.low_ & 0xff;\n    buffer[index++] = dec.high.low_ >> 8 & 0xff;\n    buffer[index++] = dec.high.low_ >> 16 & 0xff;\n    buffer[index++] = dec.high.low_ >> 24 & 0xff;\n    // Encode high bits\n    buffer[index++] = dec.high.high_ & 0xff;\n    buffer[index++] = dec.high.high_ >> 8 & 0xff;\n    buffer[index++] = dec.high.high_ >> 16 & 0xff;\n    buffer[index++] = dec.high.high_ >> 24 & 0xff;\n\n    // Return the new Decimal128\n    return new Decimal128(buffer);\n  };\n\n  // Extract least significant 5 bits\n  var COMBINATION_MASK = 0x1f;\n  // Extract least significant 14 bits\n  var EXPONENT_MASK = 0x3fff;\n  // Value of combination field for Inf\n  var COMBINATION_INFINITY = 30;\n  // Value of combination field for NaN\n  var COMBINATION_NAN = 31;\n  // Value of combination field for NaN\n  // var COMBINATION_SNAN = 32;\n  // decimal128 exponent bias\n  EXPONENT_BIAS = 6176;\n\n  /**\n   * Create a string representation of the raw Decimal128 value\n   *\n   * @method\n   * @return {string} returns a Decimal128 string representation.\n   */\n  Decimal128.prototype.toString = function () {\n    // Note: bits in this routine are referred to starting at 0,\n    // from the sign bit, towards the coefficient.\n\n    // bits 0 - 31\n    var high;\n    // bits 32 - 63\n    var midh;\n    // bits 64 - 95\n    var midl;\n    // bits 96 - 127\n    var low;\n    // bits 1 - 5\n    var combination;\n    // decoded biased exponent (14 bits)\n    var biased_exponent;\n    // the number of significand digits\n    var significand_digits = 0;\n    // the base-10 digits in the significand\n    var significand = new Array(36);\n    for (var i = 0; i < significand.length; i++) {\n      significand[i] = 0;\n    } // read pointer into significand\n    var index = 0;\n\n    // unbiased exponent\n    var exponent;\n    // the exponent if scientific notation is used\n    var scientific_exponent;\n\n    // true if the number is zero\n    var is_zero = false;\n\n    // the most signifcant significand bits (50-46)\n    var significand_msb;\n    // temporary storage for significand decoding\n    var significand128 = { parts: new Array(4) };\n    // indexing variables\n    var j, k;\n\n    // Output string\n    var string = [];\n\n    // Unpack index\n    index = 0;\n\n    // Buffer reference\n    var buffer = this.bytes;\n\n    // Unpack the low 64bits into a long\n    low = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n    midl = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n    // Unpack the high 64bits into a long\n    midh = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n    high = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n    // Unpack index\n    index = 0;\n\n    // Create the state of the decimal\n    var dec = {\n      low: new long_1(low, midl),\n      high: new long_1(midh, high)\n    };\n\n    if (dec.high.lessThan(long_1.ZERO)) {\n      string.push('-');\n    }\n\n    // Decode combination field and exponent\n    combination = high >> 26 & COMBINATION_MASK;\n\n    if (combination >> 3 === 3) {\n      // Check for 'special' values\n      if (combination === COMBINATION_INFINITY) {\n        return string.join('') + 'Infinity';\n      } else if (combination === COMBINATION_NAN) {\n        return 'NaN';\n      } else {\n        biased_exponent = high >> 15 & EXPONENT_MASK;\n        significand_msb = 0x08 + (high >> 14 & 0x01);\n      }\n    } else {\n      significand_msb = high >> 14 & 0x07;\n      biased_exponent = high >> 17 & EXPONENT_MASK;\n    }\n\n    exponent = biased_exponent - EXPONENT_BIAS;\n\n    // Create string of significand digits\n\n    // Convert the 114-bit binary number represented by\n    // (significand_high, significand_low) to at most 34 decimal\n    // digits through modulo and division.\n    significand128.parts[0] = (high & 0x3fff) + ((significand_msb & 0xf) << 14);\n    significand128.parts[1] = midh;\n    significand128.parts[2] = midl;\n    significand128.parts[3] = low;\n\n    if (significand128.parts[0] === 0 && significand128.parts[1] === 0 && significand128.parts[2] === 0 && significand128.parts[3] === 0) {\n      is_zero = true;\n    } else {\n      for (k = 3; k >= 0; k--) {\n        var least_digits = 0;\n        // Peform the divide\n        var result = divideu128(significand128);\n        significand128 = result.quotient;\n        least_digits = result.rem.low_;\n\n        // We now have the 9 least significant digits (in base 2).\n        // Convert and output to string.\n        if (!least_digits) continue;\n\n        for (j = 8; j >= 0; j--) {\n          // significand[k * 9 + j] = Math.round(least_digits % 10);\n          significand[k * 9 + j] = least_digits % 10;\n          // least_digits = Math.round(least_digits / 10);\n          least_digits = Math.floor(least_digits / 10);\n        }\n      }\n    }\n\n    // Output format options:\n    // Scientific - [-]d.dddE(+/-)dd or [-]dE(+/-)dd\n    // Regular    - ddd.ddd\n\n    if (is_zero) {\n      significand_digits = 1;\n      significand[index] = 0;\n    } else {\n      significand_digits = 36;\n      i = 0;\n\n      while (!significand[index]) {\n        i++;\n        significand_digits = significand_digits - 1;\n        index = index + 1;\n      }\n    }\n\n    scientific_exponent = significand_digits - 1 + exponent;\n\n    // The scientific exponent checks are dictated by the string conversion\n    // specification and are somewhat arbitrary cutoffs.\n    //\n    // We must check exponent > 0, because if this is the case, the number\n    // has trailing zeros.  However, we *cannot* output these trailing zeros,\n    // because doing so would change the precision of the value, and would\n    // change stored data if the string converted number is round tripped.\n    if (scientific_exponent >= 34 || scientific_exponent <= -7 || exponent > 0) {\n      // Scientific format\n\n      // if there are too many significant digits, we should just be treating numbers\n      // as + or - 0 and using the non-scientific exponent (this is for the \"invalid\n      // representation should be treated as 0/-0\" spec cases in decimal128-1.json)\n      if (significand_digits > 34) {\n        string.push(0);\n        if (exponent > 0) string.push('E+' + exponent);else if (exponent < 0) string.push('E' + exponent);\n        return string.join('');\n      }\n\n      string.push(significand[index++]);\n      significand_digits = significand_digits - 1;\n\n      if (significand_digits) {\n        string.push('.');\n      }\n\n      for (i = 0; i < significand_digits; i++) {\n        string.push(significand[index++]);\n      }\n\n      // Exponent\n      string.push('E');\n      if (scientific_exponent > 0) {\n        string.push('+' + scientific_exponent);\n      } else {\n        string.push(scientific_exponent);\n      }\n    } else {\n      // Regular format with no decimal place\n      if (exponent >= 0) {\n        for (i = 0; i < significand_digits; i++) {\n          string.push(significand[index++]);\n        }\n      } else {\n        var radix_position = significand_digits + exponent;\n\n        // non-zero digits before radix\n        if (radix_position > 0) {\n          for (i = 0; i < radix_position; i++) {\n            string.push(significand[index++]);\n          }\n        } else {\n          string.push('0');\n        }\n\n        string.push('.');\n        // add leading zeros after radix\n        while (radix_position++ < 0) {\n          string.push('0');\n        }\n\n        for (i = 0; i < significand_digits - Math.max(radix_position - 1, 0); i++) {\n          string.push(significand[index++]);\n        }\n      }\n    }\n\n    return string.join('');\n  };\n\n  Decimal128.prototype.toJSON = function () {\n    return { $numberDecimal: this.toString() };\n  };\n\n  var decimal128 = Decimal128;\n  var Decimal128_1 = Decimal128;\n  decimal128.Decimal128 = Decimal128_1;\n\n  /**\n   * A class representation of the BSON MinKey type.\n   *\n   * @class\n   * @return {MinKey} A MinKey instance\n   */\n\n  function MinKey() {\n    if (!(this instanceof MinKey)) return new MinKey();\n\n    this._bsontype = 'MinKey';\n  }\n\n  var min_key = MinKey;\n  var MinKey_1 = MinKey;\n  min_key.MinKey = MinKey_1;\n\n  /**\n   * A class representation of the BSON MaxKey type.\n   *\n   * @class\n   * @return {MaxKey} A MaxKey instance\n   */\n\n  function MaxKey() {\n    if (!(this instanceof MaxKey)) return new MaxKey();\n\n    this._bsontype = 'MaxKey';\n  }\n\n  var max_key = MaxKey;\n  var MaxKey_1 = MaxKey;\n  max_key.MaxKey = MaxKey_1;\n\n  /**\n   * A class representation of the BSON DBRef type.\n   *\n   * @class\n   * @param {string} collection the collection name.\n   * @param {ObjectID} oid the reference ObjectID.\n   * @param {string} [db] optional db name, if omitted the reference is local to the current db.\n   * @return {DBRef}\n   */\n\n  function DBRef(collection, oid, db, fields) {\n    if (!(this instanceof DBRef)) return new DBRef(collection, oid, db, fields);\n\n    // check if namespace has been provided\n    var parts = collection.split('.');\n    if (parts.length === 2) {\n      db = parts.shift();\n      collection = parts.shift();\n    }\n\n    this._bsontype = 'DBRef';\n    this.collection = collection;\n    this.oid = oid;\n    this.db = db;\n    this.fields = fields || {};\n  }\n\n  /**\n   * @ignore\n   * @api private\n   */\n  DBRef.prototype.toJSON = function () {\n    var o = {\n      $ref: this.collection,\n      $id: this.oid\n    };\n\n    if (this.db != null) o.$db = this.db;\n    o = Object.assign(o, this.fields);\n    return o;\n  };\n\n  var db_ref = DBRef;\n  var DBRef_1 = DBRef;\n  db_ref.DBRef = DBRef_1;\n\n  var lookup = [];\n  var revLookup = [];\n  var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\n  var inited = false;\n  function init() {\n    inited = true;\n    var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    for (var i = 0, len = code.length; i < len; ++i) {\n      lookup[i] = code[i];\n      revLookup[code.charCodeAt(i)] = i;\n    }\n\n    revLookup['-'.charCodeAt(0)] = 62;\n    revLookup['_'.charCodeAt(0)] = 63;\n  }\n\n  function toByteArray(b64) {\n    if (!inited) {\n      init();\n    }\n    var i, j, l, tmp, placeHolders, arr;\n    var len = b64.length;\n\n    if (len % 4 > 0) {\n      throw new Error('Invalid string. Length must be a multiple of 4');\n    }\n\n    // the number of equal signs (place holders)\n    // if there are two placeholders, than the two characters before it\n    // represent one byte\n    // if there is only one, then the three characters before it represent 2 bytes\n    // this is just a cheap hack to not do indexOf twice\n    placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0;\n\n    // base64 is 4/3 + up to two characters of the original data\n    arr = new Arr(len * 3 / 4 - placeHolders);\n\n    // if there are placeholders, only get up to the last complete 4 chars\n    l = placeHolders > 0 ? len - 4 : len;\n\n    var L = 0;\n\n    for (i = 0, j = 0; i < l; i += 4, j += 3) {\n      tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];\n      arr[L++] = tmp >> 16 & 0xFF;\n      arr[L++] = tmp >> 8 & 0xFF;\n      arr[L++] = tmp & 0xFF;\n    }\n\n    if (placeHolders === 2) {\n      tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;\n      arr[L++] = tmp & 0xFF;\n    } else if (placeHolders === 1) {\n      tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;\n      arr[L++] = tmp >> 8 & 0xFF;\n      arr[L++] = tmp & 0xFF;\n    }\n\n    return arr;\n  }\n\n  function tripletToBase64(num) {\n    return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F];\n  }\n\n  function encodeChunk(uint8, start, end) {\n    var tmp;\n    var output = [];\n    for (var i = start; i < end; i += 3) {\n      tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + uint8[i + 2];\n      output.push(tripletToBase64(tmp));\n    }\n    return output.join('');\n  }\n\n  function fromByteArray(uint8) {\n    if (!inited) {\n      init();\n    }\n    var tmp;\n    var len = uint8.length;\n    var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n    var output = '';\n    var parts = [];\n    var maxChunkLength = 16383; // must be multiple of 3\n\n    // go through the array every three bytes, we'll deal with trailing stuff later\n    for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n      parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));\n    }\n\n    // pad the end with zeros, but make sure to not forget the extra bytes\n    if (extraBytes === 1) {\n      tmp = uint8[len - 1];\n      output += lookup[tmp >> 2];\n      output += lookup[tmp << 4 & 0x3F];\n      output += '==';\n    } else if (extraBytes === 2) {\n      tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n      output += lookup[tmp >> 10];\n      output += lookup[tmp >> 4 & 0x3F];\n      output += lookup[tmp << 2 & 0x3F];\n      output += '=';\n    }\n\n    parts.push(output);\n\n    return parts.join('');\n  }\n\n  function read(buffer, offset, isLE, mLen, nBytes) {\n    var e, m;\n    var eLen = nBytes * 8 - mLen - 1;\n    var eMax = (1 << eLen) - 1;\n    var eBias = eMax >> 1;\n    var nBits = -7;\n    var i = isLE ? nBytes - 1 : 0;\n    var d = isLE ? -1 : 1;\n    var s = buffer[offset + i];\n\n    i += d;\n\n    e = s & (1 << -nBits) - 1;\n    s >>= -nBits;\n    nBits += eLen;\n    for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n    m = e & (1 << -nBits) - 1;\n    e >>= -nBits;\n    nBits += mLen;\n    for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n    if (e === 0) {\n      e = 1 - eBias;\n    } else if (e === eMax) {\n      return m ? NaN : (s ? -1 : 1) * Infinity;\n    } else {\n      m = m + Math.pow(2, mLen);\n      e = e - eBias;\n    }\n    return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n  }\n\n  function write(buffer, value, offset, isLE, mLen, nBytes) {\n    var e, m, c;\n    var eLen = nBytes * 8 - mLen - 1;\n    var eMax = (1 << eLen) - 1;\n    var eBias = eMax >> 1;\n    var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n    var i = isLE ? 0 : nBytes - 1;\n    var d = isLE ? 1 : -1;\n    var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n\n    value = Math.abs(value);\n\n    if (isNaN(value) || value === Infinity) {\n      m = isNaN(value) ? 1 : 0;\n      e = eMax;\n    } else {\n      e = Math.floor(Math.log(value) / Math.LN2);\n      if (value * (c = Math.pow(2, -e)) < 1) {\n        e--;\n        c *= 2;\n      }\n      if (e + eBias >= 1) {\n        value += rt / c;\n      } else {\n        value += rt * Math.pow(2, 1 - eBias);\n      }\n      if (value * c >= 2) {\n        e++;\n        c /= 2;\n      }\n\n      if (e + eBias >= eMax) {\n        m = 0;\n        e = eMax;\n      } else if (e + eBias >= 1) {\n        m = (value * c - 1) * Math.pow(2, mLen);\n        e = e + eBias;\n      } else {\n        m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n        e = 0;\n      }\n    }\n\n    for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n    e = e << mLen | m;\n    eLen += mLen;\n    for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n    buffer[offset + i - d] |= s * 128;\n  }\n\n  var toString = {}.toString;\n\n  var isArray = Array.isArray || function (arr) {\n    return toString.call(arr) == '[object Array]';\n  };\n\n  /*!\n   * The buffer module from node.js, for the browser.\n   *\n   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n   * @license  MIT\n   */\n\n  var INSPECT_MAX_BYTES = 50;\n\n  /**\n   * If `Buffer.TYPED_ARRAY_SUPPORT`:\n   *   === true    Use Uint8Array implementation (fastest)\n   *   === false   Use Object implementation (most compatible, even IE6)\n   *\n   * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n   * Opera 11.6+, iOS 4.2+.\n   *\n   * Due to various browser bugs, sometimes the Object implementation will be used even\n   * when the browser supports typed arrays.\n   *\n   * Note:\n   *\n   *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n   *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n   *\n   *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n   *\n   *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n   *     incorrect length in some situations.\n  \n   * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n   * get the Object implementation, which is slower but behaves correctly.\n   */\n  Buffer$1.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined ? global.TYPED_ARRAY_SUPPORT : true;\n\n  /*\n   * Export kMaxLength after typed array support is determined.\n   */\n  var _kMaxLength = kMaxLength();\n\n  function kMaxLength() {\n    return Buffer$1.TYPED_ARRAY_SUPPORT ? 0x7fffffff : 0x3fffffff;\n  }\n\n  function createBuffer(that, length) {\n    if (kMaxLength() < length) {\n      throw new RangeError('Invalid typed array length');\n    }\n    if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n      // Return an augmented `Uint8Array` instance, for best performance\n      that = new Uint8Array(length);\n      that.__proto__ = Buffer$1.prototype;\n    } else {\n      // Fallback: Return an object instance of the Buffer class\n      if (that === null) {\n        that = new Buffer$1(length);\n      }\n      that.length = length;\n    }\n\n    return that;\n  }\n\n  /**\n   * The Buffer constructor returns instances of `Uint8Array` that have their\n   * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n   * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n   * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n   * returns a single octet.\n   *\n   * The `Uint8Array` prototype remains unmodified.\n   */\n\n  function Buffer$1(arg, encodingOrOffset, length) {\n    if (!Buffer$1.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer$1)) {\n      return new Buffer$1(arg, encodingOrOffset, length);\n    }\n\n    // Common case.\n    if (typeof arg === 'number') {\n      if (typeof encodingOrOffset === 'string') {\n        throw new Error('If encoding is specified then the first argument must be a string');\n      }\n      return allocUnsafe(this, arg);\n    }\n    return from(this, arg, encodingOrOffset, length);\n  }\n\n  Buffer$1.poolSize = 8192; // not used by this implementation\n\n  // TODO: Legacy, not needed anymore. Remove in next major version.\n  Buffer$1._augment = function (arr) {\n    arr.__proto__ = Buffer$1.prototype;\n    return arr;\n  };\n\n  function from(that, value, encodingOrOffset, length) {\n    if (typeof value === 'number') {\n      throw new TypeError('\"value\" argument must not be a number');\n    }\n\n    if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n      return fromArrayBuffer(that, value, encodingOrOffset, length);\n    }\n\n    if (typeof value === 'string') {\n      return fromString(that, value, encodingOrOffset);\n    }\n\n    return fromObject(that, value);\n  }\n\n  /**\n   * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n   * if value is a number.\n   * Buffer.from(str[, encoding])\n   * Buffer.from(array)\n   * Buffer.from(buffer)\n   * Buffer.from(arrayBuffer[, byteOffset[, length]])\n   **/\n  Buffer$1.from = function (value, encodingOrOffset, length) {\n    return from(null, value, encodingOrOffset, length);\n  };\n\n  if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n    Buffer$1.prototype.__proto__ = Uint8Array.prototype;\n    Buffer$1.__proto__ = Uint8Array;\n  }\n\n  function assertSize(size) {\n    if (typeof size !== 'number') {\n      throw new TypeError('\"size\" argument must be a number');\n    } else if (size < 0) {\n      throw new RangeError('\"size\" argument must not be negative');\n    }\n  }\n\n  function alloc(that, size, fill, encoding) {\n    assertSize(size);\n    if (size <= 0) {\n      return createBuffer(that, size);\n    }\n    if (fill !== undefined) {\n      // Only pay attention to encoding if it's a string. This\n      // prevents accidentally sending in a number that would\n      // be interpretted as a start offset.\n      return typeof encoding === 'string' ? createBuffer(that, size).fill(fill, encoding) : createBuffer(that, size).fill(fill);\n    }\n    return createBuffer(that, size);\n  }\n\n  /**\n   * Creates a new filled Buffer instance.\n   * alloc(size[, fill[, encoding]])\n   **/\n  Buffer$1.alloc = function (size, fill, encoding) {\n    return alloc(null, size, fill, encoding);\n  };\n\n  function allocUnsafe(that, size) {\n    assertSize(size);\n    that = createBuffer(that, size < 0 ? 0 : checked(size) | 0);\n    if (!Buffer$1.TYPED_ARRAY_SUPPORT) {\n      for (var i = 0; i < size; ++i) {\n        that[i] = 0;\n      }\n    }\n    return that;\n  }\n\n  /**\n   * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n   * */\n  Buffer$1.allocUnsafe = function (size) {\n    return allocUnsafe(null, size);\n  };\n  /**\n   * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n   */\n  Buffer$1.allocUnsafeSlow = function (size) {\n    return allocUnsafe(null, size);\n  };\n\n  function fromString(that, string, encoding) {\n    if (typeof encoding !== 'string' || encoding === '') {\n      encoding = 'utf8';\n    }\n\n    if (!Buffer$1.isEncoding(encoding)) {\n      throw new TypeError('\"encoding\" must be a valid string encoding');\n    }\n\n    var length = byteLength(string, encoding) | 0;\n    that = createBuffer(that, length);\n\n    var actual = that.write(string, encoding);\n\n    if (actual !== length) {\n      // Writing a hex string, for example, that contains invalid characters will\n      // cause everything after the first invalid character to be ignored. (e.g.\n      // 'abxxcd' will be treated as 'ab')\n      that = that.slice(0, actual);\n    }\n\n    return that;\n  }\n\n  function fromArrayLike(that, array) {\n    var length = array.length < 0 ? 0 : checked(array.length) | 0;\n    that = createBuffer(that, length);\n    for (var i = 0; i < length; i += 1) {\n      that[i] = array[i] & 255;\n    }\n    return that;\n  }\n\n  function fromArrayBuffer(that, array, byteOffset, length) {\n    array.byteLength; // this throws if `array` is not a valid ArrayBuffer\n\n    if (byteOffset < 0 || array.byteLength < byteOffset) {\n      throw new RangeError('\\'offset\\' is out of bounds');\n    }\n\n    if (array.byteLength < byteOffset + (length || 0)) {\n      throw new RangeError('\\'length\\' is out of bounds');\n    }\n\n    if (byteOffset === undefined && length === undefined) {\n      array = new Uint8Array(array);\n    } else if (length === undefined) {\n      array = new Uint8Array(array, byteOffset);\n    } else {\n      array = new Uint8Array(array, byteOffset, length);\n    }\n\n    if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n      // Return an augmented `Uint8Array` instance, for best performance\n      that = array;\n      that.__proto__ = Buffer$1.prototype;\n    } else {\n      // Fallback: Return an object instance of the Buffer class\n      that = fromArrayLike(that, array);\n    }\n    return that;\n  }\n\n  function fromObject(that, obj) {\n    if (internalIsBuffer(obj)) {\n      var len = checked(obj.length) | 0;\n      that = createBuffer(that, len);\n\n      if (that.length === 0) {\n        return that;\n      }\n\n      obj.copy(that, 0, 0, len);\n      return that;\n    }\n\n    if (obj) {\n      if (typeof ArrayBuffer !== 'undefined' && obj.buffer instanceof ArrayBuffer || 'length' in obj) {\n        if (typeof obj.length !== 'number' || isnan(obj.length)) {\n          return createBuffer(that, 0);\n        }\n        return fromArrayLike(that, obj);\n      }\n\n      if (obj.type === 'Buffer' && isArray(obj.data)) {\n        return fromArrayLike(that, obj.data);\n      }\n    }\n\n    throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.');\n  }\n\n  function checked(length) {\n    // Note: cannot use `length < kMaxLength()` here because that fails when\n    // length is NaN (which is otherwise coerced to zero.)\n    if (length >= kMaxLength()) {\n      throw new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + kMaxLength().toString(16) + ' bytes');\n    }\n    return length | 0;\n  }\n\n  function SlowBuffer(length) {\n    if (+length != length) {\n      // eslint-disable-line eqeqeq\n      length = 0;\n    }\n    return Buffer$1.alloc(+length);\n  }\n  Buffer$1.isBuffer = isBuffer;\n  function internalIsBuffer(b) {\n    return !!(b != null && b._isBuffer);\n  }\n\n  Buffer$1.compare = function compare(a, b) {\n    if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n      throw new TypeError('Arguments must be Buffers');\n    }\n\n    if (a === b) return 0;\n\n    var x = a.length;\n    var y = b.length;\n\n    for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n      if (a[i] !== b[i]) {\n        x = a[i];\n        y = b[i];\n        break;\n      }\n    }\n\n    if (x < y) return -1;\n    if (y < x) return 1;\n    return 0;\n  };\n\n  Buffer$1.isEncoding = function isEncoding(encoding) {\n    switch (String(encoding).toLowerCase()) {\n      case 'hex':\n      case 'utf8':\n      case 'utf-8':\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n      case 'base64':\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return true;\n      default:\n        return false;\n    }\n  };\n\n  Buffer$1.concat = function concat(list, length) {\n    if (!isArray(list)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers');\n    }\n\n    if (list.length === 0) {\n      return Buffer$1.alloc(0);\n    }\n\n    var i;\n    if (length === undefined) {\n      length = 0;\n      for (i = 0; i < list.length; ++i) {\n        length += list[i].length;\n      }\n    }\n\n    var buffer = Buffer$1.allocUnsafe(length);\n    var pos = 0;\n    for (i = 0; i < list.length; ++i) {\n      var buf = list[i];\n      if (!internalIsBuffer(buf)) {\n        throw new TypeError('\"list\" argument must be an Array of Buffers');\n      }\n      buf.copy(buffer, pos);\n      pos += buf.length;\n    }\n    return buffer;\n  };\n\n  function byteLength(string, encoding) {\n    if (internalIsBuffer(string)) {\n      return string.length;\n    }\n    if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n      return string.byteLength;\n    }\n    if (typeof string !== 'string') {\n      string = '' + string;\n    }\n\n    var len = string.length;\n    if (len === 0) return 0;\n\n    // Use a for loop to avoid recursion\n    var loweredCase = false;\n    for (;;) {\n      switch (encoding) {\n        case 'ascii':\n        case 'latin1':\n        case 'binary':\n          return len;\n        case 'utf8':\n        case 'utf-8':\n        case undefined:\n          return utf8ToBytes(string).length;\n        case 'ucs2':\n        case 'ucs-2':\n        case 'utf16le':\n        case 'utf-16le':\n          return len * 2;\n        case 'hex':\n          return len >>> 1;\n        case 'base64':\n          return base64ToBytes(string).length;\n        default:\n          if (loweredCase) return utf8ToBytes(string).length; // assume utf8\n          encoding = ('' + encoding).toLowerCase();\n          loweredCase = true;\n      }\n    }\n  }\n  Buffer$1.byteLength = byteLength;\n\n  function slowToString(encoding, start, end) {\n    var loweredCase = false;\n\n    // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n    // property of a typed array.\n\n    // This behaves neither like String nor Uint8Array in that we set start/end\n    // to their upper/lower bounds if the value passed is out of range.\n    // undefined is handled specially as per ECMA-262 6th Edition,\n    // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n    if (start === undefined || start < 0) {\n      start = 0;\n    }\n    // Return early if start > this.length. Done here to prevent potential uint32\n    // coercion fail below.\n    if (start > this.length) {\n      return '';\n    }\n\n    if (end === undefined || end > this.length) {\n      end = this.length;\n    }\n\n    if (end <= 0) {\n      return '';\n    }\n\n    // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n    end >>>= 0;\n    start >>>= 0;\n\n    if (end <= start) {\n      return '';\n    }\n\n    if (!encoding) encoding = 'utf8';\n\n    while (true) {\n      switch (encoding) {\n        case 'hex':\n          return hexSlice(this, start, end);\n\n        case 'utf8':\n        case 'utf-8':\n          return utf8Slice(this, start, end);\n\n        case 'ascii':\n          return asciiSlice(this, start, end);\n\n        case 'latin1':\n        case 'binary':\n          return latin1Slice(this, start, end);\n\n        case 'base64':\n          return base64Slice(this, start, end);\n\n        case 'ucs2':\n        case 'ucs-2':\n        case 'utf16le':\n        case 'utf-16le':\n          return utf16leSlice(this, start, end);\n\n        default:\n          if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n          encoding = (encoding + '').toLowerCase();\n          loweredCase = true;\n      }\n    }\n  }\n\n  // The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n  // Buffer instances.\n  Buffer$1.prototype._isBuffer = true;\n\n  function swap(b, n, m) {\n    var i = b[n];\n    b[n] = b[m];\n    b[m] = i;\n  }\n\n  Buffer$1.prototype.swap16 = function swap16() {\n    var len = this.length;\n    if (len % 2 !== 0) {\n      throw new RangeError('Buffer size must be a multiple of 16-bits');\n    }\n    for (var i = 0; i < len; i += 2) {\n      swap(this, i, i + 1);\n    }\n    return this;\n  };\n\n  Buffer$1.prototype.swap32 = function swap32() {\n    var len = this.length;\n    if (len % 4 !== 0) {\n      throw new RangeError('Buffer size must be a multiple of 32-bits');\n    }\n    for (var i = 0; i < len; i += 4) {\n      swap(this, i, i + 3);\n      swap(this, i + 1, i + 2);\n    }\n    return this;\n  };\n\n  Buffer$1.prototype.swap64 = function swap64() {\n    var len = this.length;\n    if (len % 8 !== 0) {\n      throw new RangeError('Buffer size must be a multiple of 64-bits');\n    }\n    for (var i = 0; i < len; i += 8) {\n      swap(this, i, i + 7);\n      swap(this, i + 1, i + 6);\n      swap(this, i + 2, i + 5);\n      swap(this, i + 3, i + 4);\n    }\n    return this;\n  };\n\n  Buffer$1.prototype.toString = function toString() {\n    var length = this.length | 0;\n    if (length === 0) return '';\n    if (arguments.length === 0) return utf8Slice(this, 0, length);\n    return slowToString.apply(this, arguments);\n  };\n\n  Buffer$1.prototype.equals = function equals(b) {\n    if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer');\n    if (this === b) return true;\n    return Buffer$1.compare(this, b) === 0;\n  };\n\n  Buffer$1.prototype.inspect = function inspect() {\n    var str = '';\n    var max = INSPECT_MAX_BYTES;\n    if (this.length > 0) {\n      str = this.toString('hex', 0, max).match(/.{2}/g).join(' ');\n      if (this.length > max) str += ' ... ';\n    }\n    return '<Buffer ' + str + '>';\n  };\n\n  Buffer$1.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {\n    if (!internalIsBuffer(target)) {\n      throw new TypeError('Argument must be a Buffer');\n    }\n\n    if (start === undefined) {\n      start = 0;\n    }\n    if (end === undefined) {\n      end = target ? target.length : 0;\n    }\n    if (thisStart === undefined) {\n      thisStart = 0;\n    }\n    if (thisEnd === undefined) {\n      thisEnd = this.length;\n    }\n\n    if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n      throw new RangeError('out of range index');\n    }\n\n    if (thisStart >= thisEnd && start >= end) {\n      return 0;\n    }\n    if (thisStart >= thisEnd) {\n      return -1;\n    }\n    if (start >= end) {\n      return 1;\n    }\n\n    start >>>= 0;\n    end >>>= 0;\n    thisStart >>>= 0;\n    thisEnd >>>= 0;\n\n    if (this === target) return 0;\n\n    var x = thisEnd - thisStart;\n    var y = end - start;\n    var len = Math.min(x, y);\n\n    var thisCopy = this.slice(thisStart, thisEnd);\n    var targetCopy = target.slice(start, end);\n\n    for (var i = 0; i < len; ++i) {\n      if (thisCopy[i] !== targetCopy[i]) {\n        x = thisCopy[i];\n        y = targetCopy[i];\n        break;\n      }\n    }\n\n    if (x < y) return -1;\n    if (y < x) return 1;\n    return 0;\n  };\n\n  // Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n  // OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n  //\n  // Arguments:\n  // - buffer - a Buffer to search\n  // - val - a string, Buffer, or number\n  // - byteOffset - an index into `buffer`; will be clamped to an int32\n  // - encoding - an optional encoding, relevant is val is a string\n  // - dir - true for indexOf, false for lastIndexOf\n  function bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {\n    // Empty buffer means no match\n    if (buffer.length === 0) return -1;\n\n    // Normalize byteOffset\n    if (typeof byteOffset === 'string') {\n      encoding = byteOffset;\n      byteOffset = 0;\n    } else if (byteOffset > 0x7fffffff) {\n      byteOffset = 0x7fffffff;\n    } else if (byteOffset < -0x80000000) {\n      byteOffset = -0x80000000;\n    }\n    byteOffset = +byteOffset; // Coerce to Number.\n    if (isNaN(byteOffset)) {\n      // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n      byteOffset = dir ? 0 : buffer.length - 1;\n    }\n\n    // Normalize byteOffset: negative offsets start from the end of the buffer\n    if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n    if (byteOffset >= buffer.length) {\n      if (dir) return -1;else byteOffset = buffer.length - 1;\n    } else if (byteOffset < 0) {\n      if (dir) byteOffset = 0;else return -1;\n    }\n\n    // Normalize val\n    if (typeof val === 'string') {\n      val = Buffer$1.from(val, encoding);\n    }\n\n    // Finally, search either indexOf (if dir is true) or lastIndexOf\n    if (internalIsBuffer(val)) {\n      // Special case: looking for empty string/buffer always fails\n      if (val.length === 0) {\n        return -1;\n      }\n      return arrayIndexOf(buffer, val, byteOffset, encoding, dir);\n    } else if (typeof val === 'number') {\n      val = val & 0xFF; // Search for a byte value [0-255]\n      if (Buffer$1.TYPED_ARRAY_SUPPORT && typeof Uint8Array.prototype.indexOf === 'function') {\n        if (dir) {\n          return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);\n        } else {\n          return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);\n        }\n      }\n      return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);\n    }\n\n    throw new TypeError('val must be string, number or Buffer');\n  }\n\n  function arrayIndexOf(arr, val, byteOffset, encoding, dir) {\n    var indexSize = 1;\n    var arrLength = arr.length;\n    var valLength = val.length;\n\n    if (encoding !== undefined) {\n      encoding = String(encoding).toLowerCase();\n      if (encoding === 'ucs2' || encoding === 'ucs-2' || encoding === 'utf16le' || encoding === 'utf-16le') {\n        if (arr.length < 2 || val.length < 2) {\n          return -1;\n        }\n        indexSize = 2;\n        arrLength /= 2;\n        valLength /= 2;\n        byteOffset /= 2;\n      }\n    }\n\n    function read$$1(buf, i) {\n      if (indexSize === 1) {\n        return buf[i];\n      } else {\n        return buf.readUInt16BE(i * indexSize);\n      }\n    }\n\n    var i;\n    if (dir) {\n      var foundIndex = -1;\n      for (i = byteOffset; i < arrLength; i++) {\n        if (read$$1(arr, i) === read$$1(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n          if (foundIndex === -1) foundIndex = i;\n          if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;\n        } else {\n          if (foundIndex !== -1) i -= i - foundIndex;\n          foundIndex = -1;\n        }\n      }\n    } else {\n      if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n      for (i = byteOffset; i >= 0; i--) {\n        var found = true;\n        for (var j = 0; j < valLength; j++) {\n          if (read$$1(arr, i + j) !== read$$1(val, j)) {\n            found = false;\n            break;\n          }\n        }\n        if (found) return i;\n      }\n    }\n\n    return -1;\n  }\n\n  Buffer$1.prototype.includes = function includes(val, byteOffset, encoding) {\n    return this.indexOf(val, byteOffset, encoding) !== -1;\n  };\n\n  Buffer$1.prototype.indexOf = function indexOf(val, byteOffset, encoding) {\n    return bidirectionalIndexOf(this, val, byteOffset, encoding, true);\n  };\n\n  Buffer$1.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {\n    return bidirectionalIndexOf(this, val, byteOffset, encoding, false);\n  };\n\n  function hexWrite(buf, string, offset, length) {\n    offset = Number(offset) || 0;\n    var remaining = buf.length - offset;\n    if (!length) {\n      length = remaining;\n    } else {\n      length = Number(length);\n      if (length > remaining) {\n        length = remaining;\n      }\n    }\n\n    // must be an even number of digits\n    var strLen = string.length;\n    if (strLen % 2 !== 0) throw new TypeError('Invalid hex string');\n\n    if (length > strLen / 2) {\n      length = strLen / 2;\n    }\n    for (var i = 0; i < length; ++i) {\n      var parsed = parseInt(string.substr(i * 2, 2), 16);\n      if (isNaN(parsed)) return i;\n      buf[offset + i] = parsed;\n    }\n    return i;\n  }\n\n  function utf8Write(buf, string, offset, length) {\n    return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n  }\n\n  function asciiWrite(buf, string, offset, length) {\n    return blitBuffer(asciiToBytes(string), buf, offset, length);\n  }\n\n  function latin1Write(buf, string, offset, length) {\n    return asciiWrite(buf, string, offset, length);\n  }\n\n  function base64Write(buf, string, offset, length) {\n    return blitBuffer(base64ToBytes(string), buf, offset, length);\n  }\n\n  function ucs2Write(buf, string, offset, length) {\n    return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);\n  }\n\n  Buffer$1.prototype.write = function write$$1(string, offset, length, encoding) {\n    // Buffer#write(string)\n    if (offset === undefined) {\n      encoding = 'utf8';\n      length = this.length;\n      offset = 0;\n      // Buffer#write(string, encoding)\n    } else if (length === undefined && typeof offset === 'string') {\n      encoding = offset;\n      length = this.length;\n      offset = 0;\n      // Buffer#write(string, offset[, length][, encoding])\n    } else if (isFinite(offset)) {\n      offset = offset | 0;\n      if (isFinite(length)) {\n        length = length | 0;\n        if (encoding === undefined) encoding = 'utf8';\n      } else {\n        encoding = length;\n        length = undefined;\n      }\n      // legacy write(string, encoding, offset, length) - remove in v0.13\n    } else {\n      throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');\n    }\n\n    var remaining = this.length - offset;\n    if (length === undefined || length > remaining) length = remaining;\n\n    if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n      throw new RangeError('Attempt to write outside buffer bounds');\n    }\n\n    if (!encoding) encoding = 'utf8';\n\n    var loweredCase = false;\n    for (;;) {\n      switch (encoding) {\n        case 'hex':\n          return hexWrite(this, string, offset, length);\n\n        case 'utf8':\n        case 'utf-8':\n          return utf8Write(this, string, offset, length);\n\n        case 'ascii':\n          return asciiWrite(this, string, offset, length);\n\n        case 'latin1':\n        case 'binary':\n          return latin1Write(this, string, offset, length);\n\n        case 'base64':\n          // Warning: maxLength not taken into account in base64Write\n          return base64Write(this, string, offset, length);\n\n        case 'ucs2':\n        case 'ucs-2':\n        case 'utf16le':\n        case 'utf-16le':\n          return ucs2Write(this, string, offset, length);\n\n        default:\n          if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n          encoding = ('' + encoding).toLowerCase();\n          loweredCase = true;\n      }\n    }\n  };\n\n  Buffer$1.prototype.toJSON = function toJSON() {\n    return {\n      type: 'Buffer',\n      data: Array.prototype.slice.call(this._arr || this, 0)\n    };\n  };\n\n  function base64Slice(buf, start, end) {\n    if (start === 0 && end === buf.length) {\n      return fromByteArray(buf);\n    } else {\n      return fromByteArray(buf.slice(start, end));\n    }\n  }\n\n  function utf8Slice(buf, start, end) {\n    end = Math.min(buf.length, end);\n    var res = [];\n\n    var i = start;\n    while (i < end) {\n      var firstByte = buf[i];\n      var codePoint = null;\n      var bytesPerSequence = firstByte > 0xEF ? 4 : firstByte > 0xDF ? 3 : firstByte > 0xBF ? 2 : 1;\n\n      if (i + bytesPerSequence <= end) {\n        var secondByte, thirdByte, fourthByte, tempCodePoint;\n\n        switch (bytesPerSequence) {\n          case 1:\n            if (firstByte < 0x80) {\n              codePoint = firstByte;\n            }\n            break;\n          case 2:\n            secondByte = buf[i + 1];\n            if ((secondByte & 0xC0) === 0x80) {\n              tempCodePoint = (firstByte & 0x1F) << 0x6 | secondByte & 0x3F;\n              if (tempCodePoint > 0x7F) {\n                codePoint = tempCodePoint;\n              }\n            }\n            break;\n          case 3:\n            secondByte = buf[i + 1];\n            thirdByte = buf[i + 2];\n            if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n              tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | thirdByte & 0x3F;\n              if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n                codePoint = tempCodePoint;\n              }\n            }\n            break;\n          case 4:\n            secondByte = buf[i + 1];\n            thirdByte = buf[i + 2];\n            fourthByte = buf[i + 3];\n            if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n              tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | fourthByte & 0x3F;\n              if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n                codePoint = tempCodePoint;\n              }\n            }\n        }\n      }\n\n      if (codePoint === null) {\n        // we did not generate a valid codePoint so insert a\n        // replacement char (U+FFFD) and advance only 1 byte\n        codePoint = 0xFFFD;\n        bytesPerSequence = 1;\n      } else if (codePoint > 0xFFFF) {\n        // encode to utf16 (surrogate pair dance)\n        codePoint -= 0x10000;\n        res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n        codePoint = 0xDC00 | codePoint & 0x3FF;\n      }\n\n      res.push(codePoint);\n      i += bytesPerSequence;\n    }\n\n    return decodeCodePointsArray(res);\n  }\n\n  // Based on http://stackoverflow.com/a/22747272/680742, the browser with\n  // the lowest limit is Chrome, with 0x10000 args.\n  // We go 1 magnitude less, for safety\n  var MAX_ARGUMENTS_LENGTH = 0x1000;\n\n  function decodeCodePointsArray(codePoints) {\n    var len = codePoints.length;\n    if (len <= MAX_ARGUMENTS_LENGTH) {\n      return String.fromCharCode.apply(String, codePoints); // avoid extra slice()\n    }\n\n    // Decode in chunks to avoid \"call stack size exceeded\".\n    var res = '';\n    var i = 0;\n    while (i < len) {\n      res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));\n    }\n    return res;\n  }\n\n  function asciiSlice(buf, start, end) {\n    var ret = '';\n    end = Math.min(buf.length, end);\n\n    for (var i = start; i < end; ++i) {\n      ret += String.fromCharCode(buf[i] & 0x7F);\n    }\n    return ret;\n  }\n\n  function latin1Slice(buf, start, end) {\n    var ret = '';\n    end = Math.min(buf.length, end);\n\n    for (var i = start; i < end; ++i) {\n      ret += String.fromCharCode(buf[i]);\n    }\n    return ret;\n  }\n\n  function hexSlice(buf, start, end) {\n    var len = buf.length;\n\n    if (!start || start < 0) start = 0;\n    if (!end || end < 0 || end > len) end = len;\n\n    var out = '';\n    for (var i = start; i < end; ++i) {\n      out += toHex(buf[i]);\n    }\n    return out;\n  }\n\n  function utf16leSlice(buf, start, end) {\n    var bytes = buf.slice(start, end);\n    var res = '';\n    for (var i = 0; i < bytes.length; i += 2) {\n      res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n    }\n    return res;\n  }\n\n  Buffer$1.prototype.slice = function slice(start, end) {\n    var len = this.length;\n    start = ~~start;\n    end = end === undefined ? len : ~~end;\n\n    if (start < 0) {\n      start += len;\n      if (start < 0) start = 0;\n    } else if (start > len) {\n      start = len;\n    }\n\n    if (end < 0) {\n      end += len;\n      if (end < 0) end = 0;\n    } else if (end > len) {\n      end = len;\n    }\n\n    if (end < start) end = start;\n\n    var newBuf;\n    if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n      newBuf = this.subarray(start, end);\n      newBuf.__proto__ = Buffer$1.prototype;\n    } else {\n      var sliceLen = end - start;\n      newBuf = new Buffer$1(sliceLen, undefined);\n      for (var i = 0; i < sliceLen; ++i) {\n        newBuf[i] = this[i + start];\n      }\n    }\n\n    return newBuf;\n  };\n\n  /*\n   * Need to make sure that buffer isn't trying to write out of bounds.\n   */\n  function checkOffset(offset, ext, length) {\n    if (offset % 1 !== 0 || offset < 0) throw new RangeError('offset is not uint');\n    if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length');\n  }\n\n  Buffer$1.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {\n    offset = offset | 0;\n    byteLength = byteLength | 0;\n    if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n    var val = this[offset];\n    var mul = 1;\n    var i = 0;\n    while (++i < byteLength && (mul *= 0x100)) {\n      val += this[offset + i] * mul;\n    }\n\n    return val;\n  };\n\n  Buffer$1.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {\n    offset = offset | 0;\n    byteLength = byteLength | 0;\n    if (!noAssert) {\n      checkOffset(offset, byteLength, this.length);\n    }\n\n    var val = this[offset + --byteLength];\n    var mul = 1;\n    while (byteLength > 0 && (mul *= 0x100)) {\n      val += this[offset + --byteLength] * mul;\n    }\n\n    return val;\n  };\n\n  Buffer$1.prototype.readUInt8 = function readUInt8(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 1, this.length);\n    return this[offset];\n  };\n\n  Buffer$1.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 2, this.length);\n    return this[offset] | this[offset + 1] << 8;\n  };\n\n  Buffer$1.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 2, this.length);\n    return this[offset] << 8 | this[offset + 1];\n  };\n\n  Buffer$1.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 4, this.length);\n\n    return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 0x1000000;\n  };\n\n  Buffer$1.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 4, this.length);\n\n    return this[offset] * 0x1000000 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);\n  };\n\n  Buffer$1.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {\n    offset = offset | 0;\n    byteLength = byteLength | 0;\n    if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n    var val = this[offset];\n    var mul = 1;\n    var i = 0;\n    while (++i < byteLength && (mul *= 0x100)) {\n      val += this[offset + i] * mul;\n    }\n    mul *= 0x80;\n\n    if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n    return val;\n  };\n\n  Buffer$1.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {\n    offset = offset | 0;\n    byteLength = byteLength | 0;\n    if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n    var i = byteLength;\n    var mul = 1;\n    var val = this[offset + --i];\n    while (i > 0 && (mul *= 0x100)) {\n      val += this[offset + --i] * mul;\n    }\n    mul *= 0x80;\n\n    if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n    return val;\n  };\n\n  Buffer$1.prototype.readInt8 = function readInt8(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 1, this.length);\n    if (!(this[offset] & 0x80)) return this[offset];\n    return (0xff - this[offset] + 1) * -1;\n  };\n\n  Buffer$1.prototype.readInt16LE = function readInt16LE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 2, this.length);\n    var val = this[offset] | this[offset + 1] << 8;\n    return val & 0x8000 ? val | 0xFFFF0000 : val;\n  };\n\n  Buffer$1.prototype.readInt16BE = function readInt16BE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 2, this.length);\n    var val = this[offset + 1] | this[offset] << 8;\n    return val & 0x8000 ? val | 0xFFFF0000 : val;\n  };\n\n  Buffer$1.prototype.readInt32LE = function readInt32LE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 4, this.length);\n\n    return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;\n  };\n\n  Buffer$1.prototype.readInt32BE = function readInt32BE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 4, this.length);\n\n    return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];\n  };\n\n  Buffer$1.prototype.readFloatLE = function readFloatLE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 4, this.length);\n    return read(this, offset, true, 23, 4);\n  };\n\n  Buffer$1.prototype.readFloatBE = function readFloatBE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 4, this.length);\n    return read(this, offset, false, 23, 4);\n  };\n\n  Buffer$1.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 8, this.length);\n    return read(this, offset, true, 52, 8);\n  };\n\n  Buffer$1.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 8, this.length);\n    return read(this, offset, false, 52, 8);\n  };\n\n  function checkInt(buf, value, offset, ext, max, min) {\n    if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance');\n    if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds');\n    if (offset + ext > buf.length) throw new RangeError('Index out of range');\n  }\n\n  Buffer$1.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    byteLength = byteLength | 0;\n    if (!noAssert) {\n      var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n      checkInt(this, value, offset, byteLength, maxBytes, 0);\n    }\n\n    var mul = 1;\n    var i = 0;\n    this[offset] = value & 0xFF;\n    while (++i < byteLength && (mul *= 0x100)) {\n      this[offset + i] = value / mul & 0xFF;\n    }\n\n    return offset + byteLength;\n  };\n\n  Buffer$1.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    byteLength = byteLength | 0;\n    if (!noAssert) {\n      var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n      checkInt(this, value, offset, byteLength, maxBytes, 0);\n    }\n\n    var i = byteLength - 1;\n    var mul = 1;\n    this[offset + i] = value & 0xFF;\n    while (--i >= 0 && (mul *= 0x100)) {\n      this[offset + i] = value / mul & 0xFF;\n    }\n\n    return offset + byteLength;\n  };\n\n  Buffer$1.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);\n    if (!Buffer$1.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n    this[offset] = value & 0xff;\n    return offset + 1;\n  };\n\n  function objectWriteUInt16(buf, value, offset, littleEndian) {\n    if (value < 0) value = 0xffff + value + 1;\n    for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n      buf[offset + i] = (value & 0xff << 8 * (littleEndian ? i : 1 - i)) >>> (littleEndian ? i : 1 - i) * 8;\n    }\n  }\n\n  Buffer$1.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n    if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n      this[offset] = value & 0xff;\n      this[offset + 1] = value >>> 8;\n    } else {\n      objectWriteUInt16(this, value, offset, true);\n    }\n    return offset + 2;\n  };\n\n  Buffer$1.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n    if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n      this[offset] = value >>> 8;\n      this[offset + 1] = value & 0xff;\n    } else {\n      objectWriteUInt16(this, value, offset, false);\n    }\n    return offset + 2;\n  };\n\n  function objectWriteUInt32(buf, value, offset, littleEndian) {\n    if (value < 0) value = 0xffffffff + value + 1;\n    for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n      buf[offset + i] = value >>> (littleEndian ? i : 3 - i) * 8 & 0xff;\n    }\n  }\n\n  Buffer$1.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n    if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n      this[offset + 3] = value >>> 24;\n      this[offset + 2] = value >>> 16;\n      this[offset + 1] = value >>> 8;\n      this[offset] = value & 0xff;\n    } else {\n      objectWriteUInt32(this, value, offset, true);\n    }\n    return offset + 4;\n  };\n\n  Buffer$1.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n    if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n      this[offset] = value >>> 24;\n      this[offset + 1] = value >>> 16;\n      this[offset + 2] = value >>> 8;\n      this[offset + 3] = value & 0xff;\n    } else {\n      objectWriteUInt32(this, value, offset, false);\n    }\n    return offset + 4;\n  };\n\n  Buffer$1.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert) {\n      var limit = Math.pow(2, 8 * byteLength - 1);\n\n      checkInt(this, value, offset, byteLength, limit - 1, -limit);\n    }\n\n    var i = 0;\n    var mul = 1;\n    var sub = 0;\n    this[offset] = value & 0xFF;\n    while (++i < byteLength && (mul *= 0x100)) {\n      if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n        sub = 1;\n      }\n      this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n    }\n\n    return offset + byteLength;\n  };\n\n  Buffer$1.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert) {\n      var limit = Math.pow(2, 8 * byteLength - 1);\n\n      checkInt(this, value, offset, byteLength, limit - 1, -limit);\n    }\n\n    var i = byteLength - 1;\n    var mul = 1;\n    var sub = 0;\n    this[offset + i] = value & 0xFF;\n    while (--i >= 0 && (mul *= 0x100)) {\n      if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n        sub = 1;\n      }\n      this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n    }\n\n    return offset + byteLength;\n  };\n\n  Buffer$1.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);\n    if (!Buffer$1.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n    if (value < 0) value = 0xff + value + 1;\n    this[offset] = value & 0xff;\n    return offset + 1;\n  };\n\n  Buffer$1.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n    if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n      this[offset] = value & 0xff;\n      this[offset + 1] = value >>> 8;\n    } else {\n      objectWriteUInt16(this, value, offset, true);\n    }\n    return offset + 2;\n  };\n\n  Buffer$1.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n    if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n      this[offset] = value >>> 8;\n      this[offset + 1] = value & 0xff;\n    } else {\n      objectWriteUInt16(this, value, offset, false);\n    }\n    return offset + 2;\n  };\n\n  Buffer$1.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n    if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n      this[offset] = value & 0xff;\n      this[offset + 1] = value >>> 8;\n      this[offset + 2] = value >>> 16;\n      this[offset + 3] = value >>> 24;\n    } else {\n      objectWriteUInt32(this, value, offset, true);\n    }\n    return offset + 4;\n  };\n\n  Buffer$1.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n    if (value < 0) value = 0xffffffff + value + 1;\n    if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n      this[offset] = value >>> 24;\n      this[offset + 1] = value >>> 16;\n      this[offset + 2] = value >>> 8;\n      this[offset + 3] = value & 0xff;\n    } else {\n      objectWriteUInt32(this, value, offset, false);\n    }\n    return offset + 4;\n  };\n\n  function checkIEEE754(buf, value, offset, ext, max, min) {\n    if (offset + ext > buf.length) throw new RangeError('Index out of range');\n    if (offset < 0) throw new RangeError('Index out of range');\n  }\n\n  function writeFloat(buf, value, offset, littleEndian, noAssert) {\n    if (!noAssert) {\n      checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38);\n    }\n    write(buf, value, offset, littleEndian, 23, 4);\n    return offset + 4;\n  }\n\n  Buffer$1.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {\n    return writeFloat(this, value, offset, true, noAssert);\n  };\n\n  Buffer$1.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {\n    return writeFloat(this, value, offset, false, noAssert);\n  };\n\n  function writeDouble(buf, value, offset, littleEndian, noAssert) {\n    if (!noAssert) {\n      checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308);\n    }\n    write(buf, value, offset, littleEndian, 52, 8);\n    return offset + 8;\n  }\n\n  Buffer$1.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {\n    return writeDouble(this, value, offset, true, noAssert);\n  };\n\n  Buffer$1.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {\n    return writeDouble(this, value, offset, false, noAssert);\n  };\n\n  // copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\n  Buffer$1.prototype.copy = function copy(target, targetStart, start, end) {\n    if (!start) start = 0;\n    if (!end && end !== 0) end = this.length;\n    if (targetStart >= target.length) targetStart = target.length;\n    if (!targetStart) targetStart = 0;\n    if (end > 0 && end < start) end = start;\n\n    // Copy 0 bytes; we're done\n    if (end === start) return 0;\n    if (target.length === 0 || this.length === 0) return 0;\n\n    // Fatal error conditions\n    if (targetStart < 0) {\n      throw new RangeError('targetStart out of bounds');\n    }\n    if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds');\n    if (end < 0) throw new RangeError('sourceEnd out of bounds');\n\n    // Are we oob?\n    if (end > this.length) end = this.length;\n    if (target.length - targetStart < end - start) {\n      end = target.length - targetStart + start;\n    }\n\n    var len = end - start;\n    var i;\n\n    if (this === target && start < targetStart && targetStart < end) {\n      // descending copy from end\n      for (i = len - 1; i >= 0; --i) {\n        target[i + targetStart] = this[i + start];\n      }\n    } else if (len < 1000 || !Buffer$1.TYPED_ARRAY_SUPPORT) {\n      // ascending copy from start\n      for (i = 0; i < len; ++i) {\n        target[i + targetStart] = this[i + start];\n      }\n    } else {\n      Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);\n    }\n\n    return len;\n  };\n\n  // Usage:\n  //    buffer.fill(number[, offset[, end]])\n  //    buffer.fill(buffer[, offset[, end]])\n  //    buffer.fill(string[, offset[, end]][, encoding])\n  Buffer$1.prototype.fill = function fill(val, start, end, encoding) {\n    // Handle string cases:\n    if (typeof val === 'string') {\n      if (typeof start === 'string') {\n        encoding = start;\n        start = 0;\n        end = this.length;\n      } else if (typeof end === 'string') {\n        encoding = end;\n        end = this.length;\n      }\n      if (val.length === 1) {\n        var code = val.charCodeAt(0);\n        if (code < 256) {\n          val = code;\n        }\n      }\n      if (encoding !== undefined && typeof encoding !== 'string') {\n        throw new TypeError('encoding must be a string');\n      }\n      if (typeof encoding === 'string' && !Buffer$1.isEncoding(encoding)) {\n        throw new TypeError('Unknown encoding: ' + encoding);\n      }\n    } else if (typeof val === 'number') {\n      val = val & 255;\n    }\n\n    // Invalid ranges are not set to a default, so can range check early.\n    if (start < 0 || this.length < start || this.length < end) {\n      throw new RangeError('Out of range index');\n    }\n\n    if (end <= start) {\n      return this;\n    }\n\n    start = start >>> 0;\n    end = end === undefined ? this.length : end >>> 0;\n\n    if (!val) val = 0;\n\n    var i;\n    if (typeof val === 'number') {\n      for (i = start; i < end; ++i) {\n        this[i] = val;\n      }\n    } else {\n      var bytes = internalIsBuffer(val) ? val : utf8ToBytes(new Buffer$1(val, encoding).toString());\n      var len = bytes.length;\n      for (i = 0; i < end - start; ++i) {\n        this[i + start] = bytes[i % len];\n      }\n    }\n\n    return this;\n  };\n\n  // HELPER FUNCTIONS\n  // ================\n\n  var INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g;\n\n  function base64clean(str) {\n    // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n    str = stringtrim(str).replace(INVALID_BASE64_RE, '');\n    // Node converts strings with length < 2 to ''\n    if (str.length < 2) return '';\n    // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n    while (str.length % 4 !== 0) {\n      str = str + '=';\n    }\n    return str;\n  }\n\n  function stringtrim(str) {\n    if (str.trim) return str.trim();\n    return str.replace(/^\\s+|\\s+$/g, '');\n  }\n\n  function toHex(n) {\n    if (n < 16) return '0' + n.toString(16);\n    return n.toString(16);\n  }\n\n  function utf8ToBytes(string, units) {\n    units = units || Infinity;\n    var codePoint;\n    var length = string.length;\n    var leadSurrogate = null;\n    var bytes = [];\n\n    for (var i = 0; i < length; ++i) {\n      codePoint = string.charCodeAt(i);\n\n      // is surrogate component\n      if (codePoint > 0xD7FF && codePoint < 0xE000) {\n        // last char was a lead\n        if (!leadSurrogate) {\n          // no lead yet\n          if (codePoint > 0xDBFF) {\n            // unexpected trail\n            if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n            continue;\n          } else if (i + 1 === length) {\n            // unpaired lead\n            if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n            continue;\n          }\n\n          // valid lead\n          leadSurrogate = codePoint;\n\n          continue;\n        }\n\n        // 2 leads in a row\n        if (codePoint < 0xDC00) {\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          leadSurrogate = codePoint;\n          continue;\n        }\n\n        // valid surrogate pair\n        codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n      } else if (leadSurrogate) {\n        // valid bmp char, but last char was a lead\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n      }\n\n      leadSurrogate = null;\n\n      // encode utf8\n      if (codePoint < 0x80) {\n        if ((units -= 1) < 0) break;\n        bytes.push(codePoint);\n      } else if (codePoint < 0x800) {\n        if ((units -= 2) < 0) break;\n        bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);\n      } else if (codePoint < 0x10000) {\n        if ((units -= 3) < 0) break;\n        bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n      } else if (codePoint < 0x110000) {\n        if ((units -= 4) < 0) break;\n        bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n      } else {\n        throw new Error('Invalid code point');\n      }\n    }\n\n    return bytes;\n  }\n\n  function asciiToBytes(str) {\n    var byteArray = [];\n    for (var i = 0; i < str.length; ++i) {\n      // Node's code seems to be doing this and not & 0x7F..\n      byteArray.push(str.charCodeAt(i) & 0xFF);\n    }\n    return byteArray;\n  }\n\n  function utf16leToBytes(str, units) {\n    var c, hi, lo;\n    var byteArray = [];\n    for (var i = 0; i < str.length; ++i) {\n      if ((units -= 2) < 0) break;\n\n      c = str.charCodeAt(i);\n      hi = c >> 8;\n      lo = c % 256;\n      byteArray.push(lo);\n      byteArray.push(hi);\n    }\n\n    return byteArray;\n  }\n\n  function base64ToBytes(str) {\n    return toByteArray(base64clean(str));\n  }\n\n  function blitBuffer(src, dst, offset, length) {\n    for (var i = 0; i < length; ++i) {\n      if (i + offset >= dst.length || i >= src.length) break;\n      dst[i + offset] = src[i];\n    }\n    return i;\n  }\n\n  function isnan(val) {\n    return val !== val; // eslint-disable-line no-self-compare\n  }\n\n  // the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n  // The _isBuffer check is for Safari 5-7 support, because it's missing\n  // Object.prototype.constructor. Remove this eventually\n  function isBuffer(obj) {\n    return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj));\n  }\n\n  function isFastBuffer(obj) {\n    return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj);\n  }\n\n  // For Node v0.10 support. Remove this eventually.\n  function isSlowBuffer(obj) {\n    return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0));\n  }\n\n  var bufferEs6 = Object.freeze({\n    INSPECT_MAX_BYTES: INSPECT_MAX_BYTES,\n    kMaxLength: _kMaxLength,\n    Buffer: Buffer$1,\n    SlowBuffer: SlowBuffer,\n    isBuffer: isBuffer\n  });\n\n  /**\n   * Module dependencies.\n   * @ignore\n   */\n\n  // Test if we're in Node via presence of \"global\" not absence of \"window\"\n  // to support hybrid environments like Electron\n  if (typeof commonjsGlobal !== 'undefined') {\n    var Buffer$2 = bufferEs6.Buffer; // TODO just use global Buffer\n  }\n\n  /**\n   * A class representation of the BSON Binary type.\n   *\n   * Sub types\n   *  - **BSON.BSON_BINARY_SUBTYPE_DEFAULT**, default BSON type.\n   *  - **BSON.BSON_BINARY_SUBTYPE_FUNCTION**, BSON function type.\n   *  - **BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY**, BSON byte array type.\n   *  - **BSON.BSON_BINARY_SUBTYPE_UUID**, BSON uuid type.\n   *  - **BSON.BSON_BINARY_SUBTYPE_MD5**, BSON md5 type.\n   *  - **BSON.BSON_BINARY_SUBTYPE_USER_DEFINED**, BSON user defined type.\n   *\n   * @class\n   * @param {Buffer} buffer a buffer object containing the binary data.\n   * @param {Number} [subType] the option binary type.\n   * @return {Binary}\n   */\n  function Binary(buffer, subType) {\n    if (!(this instanceof Binary)) return new Binary(buffer, subType);\n\n    if (buffer != null && !(typeof buffer === 'string') && !Buffer$2.isBuffer(buffer) && !(buffer instanceof Uint8Array) && !Array.isArray(buffer)) {\n      throw new Error('only String, Buffer, Uint8Array or Array accepted');\n    }\n\n    this._bsontype = 'Binary';\n\n    if (buffer instanceof Number) {\n      this.sub_type = buffer;\n      this.position = 0;\n    } else {\n      this.sub_type = subType == null ? BSON_BINARY_SUBTYPE_DEFAULT : subType;\n      this.position = 0;\n    }\n\n    if (buffer != null && !(buffer instanceof Number)) {\n      // Only accept Buffer, Uint8Array or Arrays\n      if (typeof buffer === 'string') {\n        // Different ways of writing the length of the string for the different types\n        if (typeof Buffer$2 !== 'undefined') {\n          this.buffer = new Buffer$2(buffer);\n        } else if (typeof Uint8Array !== 'undefined' || Object.prototype.toString.call(buffer) === '[object Array]') {\n          this.buffer = writeStringToArray(buffer);\n        } else {\n          throw new TypeError('only String, Buffer, Uint8Array or Array accepted');\n        }\n      } else {\n        this.buffer = buffer;\n      }\n      this.position = buffer.length;\n    } else {\n      if (typeof Buffer$2 !== 'undefined') {\n        this.buffer = new Buffer$2(Binary.BUFFER_SIZE);\n      } else if (typeof Uint8Array !== 'undefined') {\n        this.buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE));\n      } else {\n        this.buffer = new Array(Binary.BUFFER_SIZE);\n      }\n      // Set position to start of buffer\n      this.position = 0;\n    }\n  }\n\n  /**\n   * Updates this binary with byte_value.\n   *\n   * @method\n   * @param {string} byte_value a single byte we wish to write.\n   */\n  Binary.prototype.put = function put(byte_value) {\n    // If it's a string and a has more than one character throw an error\n    if (byte_value['length'] != null && typeof byte_value !== 'number' && byte_value.length !== 1) throw new TypeError('only accepts single character String, Uint8Array or Array');\n    if (typeof byte_value !== 'number' && byte_value < 0 || byte_value > 255) throw new TypeError('only accepts number in a valid unsigned byte range 0-255');\n\n    // Decode the byte value once\n    var decoded_byte = null;\n    if (typeof byte_value === 'string') {\n      decoded_byte = byte_value.charCodeAt(0);\n    } else if (byte_value['length'] != null) {\n      decoded_byte = byte_value[0];\n    } else {\n      decoded_byte = byte_value;\n    }\n\n    if (this.buffer.length > this.position) {\n      this.buffer[this.position++] = decoded_byte;\n    } else {\n      if (typeof Buffer$2 !== 'undefined' && Buffer$2.isBuffer(this.buffer)) {\n        // Create additional overflow buffer\n        var buffer = new Buffer$2(Binary.BUFFER_SIZE + this.buffer.length);\n        // Combine the two buffers together\n        this.buffer.copy(buffer, 0, 0, this.buffer.length);\n        this.buffer = buffer;\n        this.buffer[this.position++] = decoded_byte;\n      } else {\n        buffer = null;\n        // Create a new buffer (typed or normal array)\n        if (Object.prototype.toString.call(this.buffer) === '[object Uint8Array]') {\n          buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE + this.buffer.length));\n        } else {\n          buffer = new Array(Binary.BUFFER_SIZE + this.buffer.length);\n        }\n\n        // We need to copy all the content to the new array\n        for (var i = 0; i < this.buffer.length; i++) {\n          buffer[i] = this.buffer[i];\n        }\n\n        // Reassign the buffer\n        this.buffer = buffer;\n        // Write the byte\n        this.buffer[this.position++] = decoded_byte;\n      }\n    }\n  };\n\n  /**\n   * Writes a buffer or string to the binary.\n   *\n   * @method\n   * @param {(Buffer|string)} string a string or buffer to be written to the Binary BSON object.\n   * @param {number} offset specify the binary of where to write the content.\n   * @return {null}\n   */\n  Binary.prototype.write = function write(string, offset) {\n    offset = typeof offset === 'number' ? offset : this.position;\n\n    // If the buffer is to small let's extend the buffer\n    if (this.buffer.length < offset + string.length) {\n      var buffer = null;\n      // If we are in node.js\n      if (typeof Buffer$2 !== 'undefined' && Buffer$2.isBuffer(this.buffer)) {\n        buffer = new Buffer$2(this.buffer.length + string.length);\n        this.buffer.copy(buffer, 0, 0, this.buffer.length);\n      } else if (Object.prototype.toString.call(this.buffer) === '[object Uint8Array]') {\n        // Create a new buffer\n        buffer = new Uint8Array(new ArrayBuffer(this.buffer.length + string.length));\n        // Copy the content\n        for (var i = 0; i < this.position; i++) {\n          buffer[i] = this.buffer[i];\n        }\n      }\n\n      // Assign the new buffer\n      this.buffer = buffer;\n    }\n\n    if (typeof Buffer$2 !== 'undefined' && Buffer$2.isBuffer(string) && Buffer$2.isBuffer(this.buffer)) {\n      string.copy(this.buffer, offset, 0, string.length);\n      this.position = offset + string.length > this.position ? offset + string.length : this.position;\n      // offset = string.length\n    } else if (typeof Buffer$2 !== 'undefined' && typeof string === 'string' && Buffer$2.isBuffer(this.buffer)) {\n      this.buffer.write(string, offset, 'binary');\n      this.position = offset + string.length > this.position ? offset + string.length : this.position;\n      // offset = string.length;\n    } else if (Object.prototype.toString.call(string) === '[object Uint8Array]' || Object.prototype.toString.call(string) === '[object Array]' && typeof string !== 'string') {\n      for (i = 0; i < string.length; i++) {\n        this.buffer[offset++] = string[i];\n      }\n\n      this.position = offset > this.position ? offset : this.position;\n    } else if (typeof string === 'string') {\n      for (i = 0; i < string.length; i++) {\n        this.buffer[offset++] = string.charCodeAt(i);\n      }\n\n      this.position = offset > this.position ? offset : this.position;\n    }\n  };\n\n  /**\n   * Reads **length** bytes starting at **position**.\n   *\n   * @method\n   * @param {number} position read from the given position in the Binary.\n   * @param {number} length the number of bytes to read.\n   * @return {Buffer}\n   */\n  Binary.prototype.read = function read(position, length) {\n    length = length && length > 0 ? length : this.position;\n\n    // Let's return the data based on the type we have\n    if (this.buffer['slice']) {\n      return this.buffer.slice(position, position + length);\n    } else {\n      // Create a buffer to keep the result\n      var buffer = typeof Uint8Array !== 'undefined' ? new Uint8Array(new ArrayBuffer(length)) : new Array(length);\n      for (var i = 0; i < length; i++) {\n        buffer[i] = this.buffer[position++];\n      }\n    }\n    // Return the buffer\n    return buffer;\n  };\n\n  /**\n   * Returns the value of this binary as a string.\n   *\n   * @method\n   * @return {string}\n   */\n  Binary.prototype.value = function value(asRaw) {\n    asRaw = asRaw == null ? false : asRaw;\n\n    // Optimize to serialize for the situation where the data == size of buffer\n    if (asRaw && typeof Buffer$2 !== 'undefined' && Buffer$2.isBuffer(this.buffer) && this.buffer.length === this.position) return this.buffer;\n\n    // If it's a node.js buffer object\n    if (typeof Buffer$2 !== 'undefined' && Buffer$2.isBuffer(this.buffer)) {\n      return asRaw ? this.buffer.slice(0, this.position) : this.buffer.toString('binary', 0, this.position);\n    } else {\n      if (asRaw) {\n        // we support the slice command use it\n        if (this.buffer['slice'] != null) {\n          return this.buffer.slice(0, this.position);\n        } else {\n          // Create a new buffer to copy content to\n          var newBuffer = Object.prototype.toString.call(this.buffer) === '[object Uint8Array]' ? new Uint8Array(new ArrayBuffer(this.position)) : new Array(this.position);\n          // Copy content\n          for (var i = 0; i < this.position; i++) {\n            newBuffer[i] = this.buffer[i];\n          }\n          // Return the buffer\n          return newBuffer;\n        }\n      } else {\n        return convertArraytoUtf8BinaryString(this.buffer, 0, this.position);\n      }\n    }\n  };\n\n  /**\n   * Length.\n   *\n   * @method\n   * @return {number} the length of the binary.\n   */\n  Binary.prototype.length = function length() {\n    return this.position;\n  };\n\n  /**\n   * @ignore\n   */\n  Binary.prototype.toJSON = function () {\n    return this.buffer != null ? this.buffer.toString('base64') : '';\n  };\n\n  /**\n   * @ignore\n   */\n  Binary.prototype.toString = function (format) {\n    return this.buffer != null ? this.buffer.slice(0, this.position).toString(format) : '';\n  };\n\n  /**\n   * Binary default subtype\n   * @ignore\n   */\n  var BSON_BINARY_SUBTYPE_DEFAULT = 0;\n\n  /**\n   * @ignore\n   */\n  var writeStringToArray = function writeStringToArray(data) {\n    // Create a buffer\n    var buffer = typeof Uint8Array !== 'undefined' ? new Uint8Array(new ArrayBuffer(data.length)) : new Array(data.length);\n    // Write the content to the buffer\n    for (var i = 0; i < data.length; i++) {\n      buffer[i] = data.charCodeAt(i);\n    }\n    // Write the string to the buffer\n    return buffer;\n  };\n\n  /**\n   * Convert Array ot Uint8Array to Binary String\n   *\n   * @ignore\n   */\n  var convertArraytoUtf8BinaryString = function convertArraytoUtf8BinaryString(byteArray, startIndex, endIndex) {\n    var result = '';\n    for (var i = startIndex; i < endIndex; i++) {\n      result = result + String.fromCharCode(byteArray[i]);\n    }\n    return result;\n  };\n\n  Binary.BUFFER_SIZE = 256;\n\n  /**\n   * Default BSON type\n   *\n   * @classconstant SUBTYPE_DEFAULT\n   **/\n  Binary.SUBTYPE_DEFAULT = 0;\n  /**\n   * Function BSON type\n   *\n   * @classconstant SUBTYPE_DEFAULT\n   **/\n  Binary.SUBTYPE_FUNCTION = 1;\n  /**\n   * Byte Array BSON type\n   *\n   * @classconstant SUBTYPE_DEFAULT\n   **/\n  Binary.SUBTYPE_BYTE_ARRAY = 2;\n  /**\n   * OLD UUID BSON type\n   *\n   * @classconstant SUBTYPE_DEFAULT\n   **/\n  Binary.SUBTYPE_UUID_OLD = 3;\n  /**\n   * UUID BSON type\n   *\n   * @classconstant SUBTYPE_DEFAULT\n   **/\n  Binary.SUBTYPE_UUID = 4;\n  /**\n   * MD5 BSON type\n   *\n   * @classconstant SUBTYPE_DEFAULT\n   **/\n  Binary.SUBTYPE_MD5 = 5;\n  /**\n   * User BSON type\n   *\n   * @classconstant SUBTYPE_DEFAULT\n   **/\n  Binary.SUBTYPE_USER_DEFINED = 128;\n\n  /**\n   * Expose.\n   */\n  var binary = Binary;\n  var Binary_1 = Binary;\n  binary.Binary = Binary_1;\n\n  var Long$1 = long_1.Long,\n      Double$1 = double_1.Double,\n      Timestamp$1 = timestamp.Timestamp,\n      ObjectID$1 = objectid.ObjectID,\n      Code$1 = code.Code,\n      MinKey$1 = min_key.MinKey,\n      MaxKey$1 = max_key.MaxKey,\n      DBRef$1 = db_ref.DBRef,\n      BSONRegExp$1 = regexp.BSONRegExp,\n      Binary$1 = binary.Binary;\n\n  var deserialize = function deserialize(buffer, options, isArray) {\n    options = options == null ? {} : options;\n    var index = options && options.index ? options.index : 0;\n    // Read the document size\n    var size = buffer[index] | buffer[index + 1] << 8 | buffer[index + 2] << 16 | buffer[index + 3] << 24;\n\n    if (size < 5) {\n      throw new Error('bson size must be >= 5, is ' + size);\n    }\n\n    if (options.allowObjectSmallerThanBufferSize && buffer.length < size) {\n      throw new Error('buffer length ' + buffer.length + ' must be >= bson size ' + size);\n    }\n\n    if (!options.allowObjectSmallerThanBufferSize && buffer.length !== size) {\n      throw new Error('buffer length ' + buffer.length + ' must === bson size ' + size);\n    }\n\n    if (size + index > buffer.length) {\n      throw new Error('(bson size ' + size + ' + options.index ' + index + ' must be <= buffer length ' + buffer.length + ')');\n    }\n\n    // Illegal end value\n    if (buffer[index + size - 1] !== 0) {\n      throw new Error(\"One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00\");\n    }\n\n    // Start deserializtion\n    return deserializeObject(buffer, index, options, isArray);\n  };\n\n  var deserializeObject = function deserializeObject(buffer, index, options, isArray) {\n    var evalFunctions = options['evalFunctions'] == null ? false : options['evalFunctions'];\n    var cacheFunctions = options['cacheFunctions'] == null ? false : options['cacheFunctions'];\n    var cacheFunctionsCrc32 = options['cacheFunctionsCrc32'] == null ? false : options['cacheFunctionsCrc32'];\n\n    if (!cacheFunctionsCrc32) var crc32 = null;\n\n    var fieldsAsRaw = options['fieldsAsRaw'] == null ? null : options['fieldsAsRaw'];\n\n    // Return raw bson buffer instead of parsing it\n    var raw = options['raw'] == null ? false : options['raw'];\n\n    // Return BSONRegExp objects instead of native regular expressions\n    var bsonRegExp = typeof options['bsonRegExp'] === 'boolean' ? options['bsonRegExp'] : false;\n\n    // Controls the promotion of values vs wrapper classes\n    var promoteBuffers = options['promoteBuffers'] == null ? false : options['promoteBuffers'];\n    var promoteLongs = options['promoteLongs'] == null ? true : options['promoteLongs'];\n    var promoteValues = options['promoteValues'] == null ? true : options['promoteValues'];\n\n    // Set the start index\n    var startIndex = index;\n\n    // Validate that we have at least 4 bytes of buffer\n    if (buffer.length < 5) throw new Error('corrupt bson message < 5 bytes long');\n\n    // Read the document size\n    var size = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n    // Ensure buffer is valid size\n    if (size < 5 || size > buffer.length) throw new Error('corrupt bson message');\n\n    // Create holding object\n    var object = isArray ? [] : {};\n    // Used for arrays to skip having to perform utf8 decoding\n    var arrayIndex = 0,\n        done = false;\n\n    // While we have more left data left keep parsing\n    while (!done) {\n      // Read the type\n      var elementType = buffer[index++];\n\n      // If we get a zero it's the last byte, exit\n      if (elementType === 0) break;\n\n      // Get the start search index\n      var i = index;\n      // Locate the end of the c string\n      while (buffer[i] !== 0x00 && i < buffer.length) {\n        i++;\n      }\n\n      // If are at the end of the buffer there is a problem with the document\n      if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n      var name = isArray ? arrayIndex++ : buffer.toString('utf8', index, i);\n\n      index = i + 1;\n\n      if (elementType === BSON.BSON_DATA_STRING) {\n        var stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n        if (stringSize <= 0 || stringSize > buffer.length - index || buffer[index + stringSize - 1] !== 0) throw new Error('bad string length in bson');\n\n        var s = buffer.toString('utf8', index, index + stringSize - 1);\n        for (i = 0; i < s.length; i++) {\n          if (s.charCodeAt(i) === 0xfffd) {\n            throw new Error('Invalid UTF-8 string in BSON document');\n          }\n        }\n\n        object[name] = s;\n        index = index + stringSize;\n      } else if (elementType === BSON.BSON_DATA_OID) {\n        var oid = new Buffer(12);\n        buffer.copy(oid, 0, index, index + 12);\n        object[name] = new ObjectID$1(oid);\n        index = index + 12;\n      } else if (elementType === BSON.BSON_DATA_INT && promoteValues === false) {\n        object[name] = new int_32(buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24);\n      } else if (elementType === BSON.BSON_DATA_INT) {\n        object[name] = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      } else if (elementType === BSON.BSON_DATA_NUMBER && promoteValues === false) {\n        object[name] = new Double$1(buffer.readDoubleLE(index));\n        index = index + 8;\n      } else if (elementType === BSON.BSON_DATA_NUMBER) {\n        object[name] = buffer.readDoubleLE(index);\n        index = index + 8;\n      } else if (elementType === BSON.BSON_DATA_DATE) {\n        var lowBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n        var highBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n        object[name] = new Date(new Long$1(lowBits, highBits).toNumber());\n      } else if (elementType === BSON.BSON_DATA_BOOLEAN) {\n        if (buffer[index] !== 0 && buffer[index] !== 1) throw new Error('illegal boolean type value');\n        object[name] = buffer[index++] === 1;\n      } else if (elementType === BSON.BSON_DATA_OBJECT) {\n        var _index = index;\n        var objectSize = buffer[index] | buffer[index + 1] << 8 | buffer[index + 2] << 16 | buffer[index + 3] << 24;\n        if (objectSize <= 0 || objectSize > buffer.length - index) throw new Error('bad embedded document length in bson');\n\n        // We have a raw value\n        if (raw) {\n          object[name] = buffer.slice(index, index + objectSize);\n        } else {\n          object[name] = deserializeObject(buffer, _index, options, false);\n        }\n\n        index = index + objectSize;\n      } else if (elementType === BSON.BSON_DATA_ARRAY) {\n        _index = index;\n        objectSize = buffer[index] | buffer[index + 1] << 8 | buffer[index + 2] << 16 | buffer[index + 3] << 24;\n        var arrayOptions = options;\n\n        // Stop index\n        var stopIndex = index + objectSize;\n\n        // All elements of array to be returned as raw bson\n        if (fieldsAsRaw && fieldsAsRaw[name]) {\n          arrayOptions = {};\n          for (var n in options) {\n            arrayOptions[n] = options[n];\n          }arrayOptions['raw'] = true;\n        }\n\n        object[name] = deserializeObject(buffer, _index, arrayOptions, true);\n        index = index + objectSize;\n\n        if (buffer[index - 1] !== 0) throw new Error('invalid array terminator byte');\n        if (index !== stopIndex) throw new Error('corrupted array bson');\n      } else if (elementType === BSON.BSON_DATA_UNDEFINED) {\n        object[name] = undefined;\n      } else if (elementType === BSON.BSON_DATA_NULL) {\n        object[name] = null;\n      } else if (elementType === BSON.BSON_DATA_LONG) {\n        // Unpack the low and high bits\n        lowBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n        highBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n        var long = new Long$1(lowBits, highBits);\n        // Promote the long if possible\n        if (promoteLongs && promoteValues === true) {\n          object[name] = long.lessThanOrEqual(JS_INT_MAX_LONG) && long.greaterThanOrEqual(JS_INT_MIN_LONG) ? long.toNumber() : long;\n        } else {\n          object[name] = long;\n        }\n      } else if (elementType === BSON.BSON_DATA_DECIMAL128) {\n        // Buffer to contain the decimal bytes\n        var bytes = new Buffer(16);\n        // Copy the next 16 bytes into the bytes buffer\n        buffer.copy(bytes, 0, index, index + 16);\n        // Update index\n        index = index + 16;\n        // Assign the new Decimal128 value\n        var decimal128$$1 = new decimal128(bytes);\n        // If we have an alternative mapper use that\n        object[name] = decimal128$$1.toObject ? decimal128$$1.toObject() : decimal128$$1;\n      } else if (elementType === BSON.BSON_DATA_BINARY) {\n        var binarySize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n        var totalBinarySize = binarySize;\n        var subType = buffer[index++];\n\n        // Did we have a negative binary size, throw\n        if (binarySize < 0) throw new Error('Negative binary type element size found');\n\n        // Is the length longer than the document\n        if (binarySize > buffer.length) throw new Error('Binary type size larger than document size');\n\n        // Decode as raw Buffer object if options specifies it\n        if (buffer['slice'] != null) {\n          // If we have subtype 2 skip the 4 bytes for the size\n          if (subType === Binary$1.SUBTYPE_BYTE_ARRAY) {\n            binarySize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n            if (binarySize < 0) throw new Error('Negative binary type element size found for subtype 0x02');\n            if (binarySize > totalBinarySize - 4) throw new Error('Binary type with subtype 0x02 contains to long binary size');\n            if (binarySize < totalBinarySize - 4) throw new Error('Binary type with subtype 0x02 contains to short binary size');\n          }\n\n          if (promoteBuffers && promoteValues) {\n            object[name] = buffer.slice(index, index + binarySize);\n          } else {\n            object[name] = new Binary$1(buffer.slice(index, index + binarySize), subType);\n          }\n        } else {\n          var _buffer = typeof Uint8Array !== 'undefined' ? new Uint8Array(new ArrayBuffer(binarySize)) : new Array(binarySize);\n          // If we have subtype 2 skip the 4 bytes for the size\n          if (subType === Binary$1.SUBTYPE_BYTE_ARRAY) {\n            binarySize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n            if (binarySize < 0) throw new Error('Negative binary type element size found for subtype 0x02');\n            if (binarySize > totalBinarySize - 4) throw new Error('Binary type with subtype 0x02 contains to long binary size');\n            if (binarySize < totalBinarySize - 4) throw new Error('Binary type with subtype 0x02 contains to short binary size');\n          }\n\n          // Copy the data\n          for (i = 0; i < binarySize; i++) {\n            _buffer[i] = buffer[index + i];\n          }\n\n          if (promoteBuffers && promoteValues) {\n            object[name] = _buffer;\n          } else {\n            object[name] = new Binary$1(_buffer, subType);\n          }\n        }\n\n        // Update the index\n        index = index + binarySize;\n      } else if (elementType === BSON.BSON_DATA_REGEXP && bsonRegExp === false) {\n        // Get the start search index\n        i = index;\n        // Locate the end of the c string\n        while (buffer[i] !== 0x00 && i < buffer.length) {\n          i++;\n        }\n        // If are at the end of the buffer there is a problem with the document\n        if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n        // Return the C string\n        var source = buffer.toString('utf8', index, i);\n        // Create the regexp\n        index = i + 1;\n\n        // Get the start search index\n        i = index;\n        // Locate the end of the c string\n        while (buffer[i] !== 0x00 && i < buffer.length) {\n          i++;\n        }\n        // If are at the end of the buffer there is a problem with the document\n        if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n        // Return the C string\n        var regExpOptions = buffer.toString('utf8', index, i);\n        index = i + 1;\n\n        // For each option add the corresponding one for javascript\n        var optionsArray = new Array(regExpOptions.length);\n\n        // Parse options\n        for (i = 0; i < regExpOptions.length; i++) {\n          switch (regExpOptions[i]) {\n            case 'm':\n              optionsArray[i] = 'm';\n              break;\n            case 's':\n              optionsArray[i] = 'g';\n              break;\n            case 'i':\n              optionsArray[i] = 'i';\n              break;\n          }\n        }\n\n        object[name] = new RegExp(source, optionsArray.join(''));\n      } else if (elementType === BSON.BSON_DATA_REGEXP && bsonRegExp === true) {\n        // Get the start search index\n        i = index;\n        // Locate the end of the c string\n        while (buffer[i] !== 0x00 && i < buffer.length) {\n          i++;\n        }\n        // If are at the end of the buffer there is a problem with the document\n        if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n        // Return the C string\n        source = buffer.toString('utf8', index, i);\n        index = i + 1;\n\n        // Get the start search index\n        i = index;\n        // Locate the end of the c string\n        while (buffer[i] !== 0x00 && i < buffer.length) {\n          i++;\n        }\n        // If are at the end of the buffer there is a problem with the document\n        if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n        // Return the C string\n        regExpOptions = buffer.toString('utf8', index, i);\n        index = i + 1;\n\n        // Set the object\n        object[name] = new BSONRegExp$1(source, regExpOptions);\n      } else if (elementType === BSON.BSON_DATA_SYMBOL) {\n        stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n        if (stringSize <= 0 || stringSize > buffer.length - index || buffer[index + stringSize - 1] !== 0) throw new Error('bad string length in bson');\n        // symbol is deprecated - upgrade to string.\n        object[name] = buffer.toString('utf8', index, index + stringSize - 1);\n        index = index + stringSize;\n      } else if (elementType === BSON.BSON_DATA_TIMESTAMP) {\n        lowBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n        highBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n        object[name] = new Timestamp$1(lowBits, highBits);\n      } else if (elementType === BSON.BSON_DATA_MIN_KEY) {\n        object[name] = new MinKey$1();\n      } else if (elementType === BSON.BSON_DATA_MAX_KEY) {\n        object[name] = new MaxKey$1();\n      } else if (elementType === BSON.BSON_DATA_CODE) {\n        stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n        if (stringSize <= 0 || stringSize > buffer.length - index || buffer[index + stringSize - 1] !== 0) throw new Error('bad string length in bson');\n        var functionString = buffer.toString('utf8', index, index + stringSize - 1);\n\n        // If we are evaluating the functions\n        if (evalFunctions) {\n          // If we have cache enabled let's look for the md5 of the function in the cache\n          if (cacheFunctions) {\n            var hash = cacheFunctionsCrc32 ? crc32(functionString) : functionString;\n            // Got to do this to avoid V8 deoptimizing the call due to finding eval\n            object[name] = isolateEvalWithHash(functionCache, hash, functionString, object);\n          } else {\n            object[name] = isolateEval(functionString);\n          }\n        } else {\n          object[name] = new Code$1(functionString);\n        }\n\n        // Update parse index position\n        index = index + stringSize;\n      } else if (elementType === BSON.BSON_DATA_CODE_W_SCOPE) {\n        var totalSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n        // Element cannot be shorter than totalSize + stringSize + documentSize + terminator\n        if (totalSize < 4 + 4 + 4 + 1) {\n          throw new Error('code_w_scope total size shorter minimum expected length');\n        }\n\n        // Get the code string size\n        stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n        // Check if we have a valid string\n        if (stringSize <= 0 || stringSize > buffer.length - index || buffer[index + stringSize - 1] !== 0) throw new Error('bad string length in bson');\n\n        // Javascript function\n        functionString = buffer.toString('utf8', index, index + stringSize - 1);\n        // Update parse index position\n        index = index + stringSize;\n        // Parse the element\n        _index = index;\n        // Decode the size of the object document\n        objectSize = buffer[index] | buffer[index + 1] << 8 | buffer[index + 2] << 16 | buffer[index + 3] << 24;\n        // Decode the scope object\n        var scopeObject = deserializeObject(buffer, _index, options, false);\n        // Adjust the index\n        index = index + objectSize;\n\n        // Check if field length is to short\n        if (totalSize < 4 + 4 + objectSize + stringSize) {\n          throw new Error('code_w_scope total size is to short, truncating scope');\n        }\n\n        // Check if totalSize field is to long\n        if (totalSize > 4 + 4 + objectSize + stringSize) {\n          throw new Error('code_w_scope total size is to long, clips outer document');\n        }\n\n        // If we are evaluating the functions\n        if (evalFunctions) {\n          // If we have cache enabled let's look for the md5 of the function in the cache\n          if (cacheFunctions) {\n            hash = cacheFunctionsCrc32 ? crc32(functionString) : functionString;\n            // Got to do this to avoid V8 deoptimizing the call due to finding eval\n            object[name] = isolateEvalWithHash(functionCache, hash, functionString, object);\n          } else {\n            object[name] = isolateEval(functionString);\n          }\n\n          object[name].scope = scopeObject;\n        } else {\n          object[name] = new Code$1(functionString, scopeObject);\n        }\n      } else if (elementType === BSON.BSON_DATA_DBPOINTER) {\n        // Get the code string size\n        stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n        // Check if we have a valid string\n        if (stringSize <= 0 || stringSize > buffer.length - index || buffer[index + stringSize - 1] !== 0) throw new Error('bad string length in bson');\n        // Namespace\n        var namespace = buffer.toString('utf8', index, index + stringSize - 1);\n        // Update parse index position\n        index = index + stringSize;\n\n        // Read the oid\n        var oidBuffer = new Buffer(12);\n        buffer.copy(oidBuffer, 0, index, index + 12);\n        oid = new ObjectID$1(oidBuffer);\n\n        // Update the index\n        index = index + 12;\n        for (i = 0; i < namespace.length; i++) {\n          if (namespace.charCodeAt(i) === 0xfffd) {\n            throw new Error('Invalid UTF-8 string in BSON document');\n          }\n        }\n\n        // Upgrade to DBRef type\n        object[name] = new DBRef$1(namespace, oid);\n      } else {\n        throw new Error('Detected unknown BSON type ' + elementType.toString(16) + ' for fieldname \"' + name + '\", are you using the latest BSON parser?');\n      }\n    }\n\n    // Check if the deserialization was against a valid array/object\n    if (size !== index - startIndex) {\n      if (isArray) throw new Error('corrupt array bson');\n      throw new Error('corrupt object bson');\n    }\n\n    // check if object's $ keys are those of a DBRef\n    var dollarKeys = Object.keys(object).filter(function (k) {\n      return k.startsWith('$');\n    });\n    var valid = true;\n    dollarKeys.forEach(function (k) {\n      if (['$ref', '$id', '$db'].indexOf(k) === -1) valid = false;\n    });\n\n    // if a $key not in \"$ref\", \"$id\", \"$db\", don't make a DBRef\n    if (!valid) return object;\n\n    if (object['$id'] != null && object['$ref'] != null) {\n      var copy = Object.assign({}, object);\n      delete copy.$ref;\n      delete copy.$id;\n      delete copy.$db;\n      return new DBRef$1(object.$ref, object.$id, object.$db || null, copy);\n    }\n\n    return object;\n  };\n\n  /**\n   * Ensure eval is isolated.\n   *\n   * @ignore\n   * @api private\n   */\n  var isolateEvalWithHash = function isolateEvalWithHash(functionCache, hash, functionString, object) {\n    // Contains the value we are going to set\n    var value = null;\n\n    // Check for cache hit, eval if missing and return cached function\n    if (functionCache[hash] == null) {\n      eval('value = ' + functionString);\n      functionCache[hash] = value;\n    }\n    // Set the object\n    return functionCache[hash].bind(object);\n  };\n\n  /**\n   * Ensure eval is isolated.\n   *\n   * @ignore\n   * @api private\n   */\n  var isolateEval = function isolateEval(functionString) {\n    // Contains the value we are going to set\n    var value = null;\n    // Eval the function\n    eval('value = ' + functionString);\n    return value;\n  };\n\n  var BSON = {};\n\n  /**\n   * Contains the function cache if we have that enable to allow for avoiding the eval step on each deserialization, comparison is by md5\n   *\n   * @ignore\n   * @api private\n   */\n  var functionCache = BSON.functionCache = {};\n\n  /**\n   * Number BSON Type\n   *\n   * @classconstant BSON_DATA_NUMBER\n   **/\n  BSON.BSON_DATA_NUMBER = 1;\n  /**\n   * String BSON Type\n   *\n   * @classconstant BSON_DATA_STRING\n   **/\n  BSON.BSON_DATA_STRING = 2;\n  /**\n   * Object BSON Type\n   *\n   * @classconstant BSON_DATA_OBJECT\n   **/\n  BSON.BSON_DATA_OBJECT = 3;\n  /**\n   * Array BSON Type\n   *\n   * @classconstant BSON_DATA_ARRAY\n   **/\n  BSON.BSON_DATA_ARRAY = 4;\n  /**\n   * Binary BSON Type\n   *\n   * @classconstant BSON_DATA_BINARY\n   **/\n  BSON.BSON_DATA_BINARY = 5;\n  /**\n   * Binary BSON Type\n   *\n   * @classconstant BSON_DATA_UNDEFINED\n   **/\n  BSON.BSON_DATA_UNDEFINED = 6;\n  /**\n   * ObjectID BSON Type\n   *\n   * @classconstant BSON_DATA_OID\n   **/\n  BSON.BSON_DATA_OID = 7;\n  /**\n   * Boolean BSON Type\n   *\n   * @classconstant BSON_DATA_BOOLEAN\n   **/\n  BSON.BSON_DATA_BOOLEAN = 8;\n  /**\n   * Date BSON Type\n   *\n   * @classconstant BSON_DATA_DATE\n   **/\n  BSON.BSON_DATA_DATE = 9;\n  /**\n   * null BSON Type\n   *\n   * @classconstant BSON_DATA_NULL\n   **/\n  BSON.BSON_DATA_NULL = 10;\n  /**\n   * RegExp BSON Type\n   *\n   * @classconstant BSON_DATA_REGEXP\n   **/\n  BSON.BSON_DATA_REGEXP = 11;\n  /**\n   * Code BSON Type\n   *\n   * @classconstant BSON_DATA_DBPOINTER\n   **/\n  BSON.BSON_DATA_DBPOINTER = 12;\n  /**\n   * Code BSON Type\n   *\n   * @classconstant BSON_DATA_CODE\n   **/\n  BSON.BSON_DATA_CODE = 13;\n  /**\n   * Symbol BSON Type\n   *\n   * @classconstant BSON_DATA_SYMBOL\n   **/\n  BSON.BSON_DATA_SYMBOL = 14;\n  /**\n   * Code with Scope BSON Type\n   *\n   * @classconstant BSON_DATA_CODE_W_SCOPE\n   **/\n  BSON.BSON_DATA_CODE_W_SCOPE = 15;\n  /**\n   * 32 bit Integer BSON Type\n   *\n   * @classconstant BSON_DATA_INT\n   **/\n  BSON.BSON_DATA_INT = 16;\n  /**\n   * Timestamp BSON Type\n   *\n   * @classconstant BSON_DATA_TIMESTAMP\n   **/\n  BSON.BSON_DATA_TIMESTAMP = 17;\n  /**\n   * Long BSON Type\n   *\n   * @classconstant BSON_DATA_LONG\n   **/\n  BSON.BSON_DATA_LONG = 18;\n  /**\n   * Long BSON Type\n   *\n   * @classconstant BSON_DATA_DECIMAL128\n   **/\n  BSON.BSON_DATA_DECIMAL128 = 19;\n  /**\n   * MinKey BSON Type\n   *\n   * @classconstant BSON_DATA_MIN_KEY\n   **/\n  BSON.BSON_DATA_MIN_KEY = 0xff;\n  /**\n   * MaxKey BSON Type\n   *\n   * @classconstant BSON_DATA_MAX_KEY\n   **/\n  BSON.BSON_DATA_MAX_KEY = 0x7f;\n\n  /**\n   * Binary Default Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_DEFAULT\n   **/\n  BSON.BSON_BINARY_SUBTYPE_DEFAULT = 0;\n  /**\n   * Binary Function Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_FUNCTION\n   **/\n  BSON.BSON_BINARY_SUBTYPE_FUNCTION = 1;\n  /**\n   * Binary Byte Array Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY\n   **/\n  BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2;\n  /**\n   * Binary UUID Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_UUID\n   **/\n  BSON.BSON_BINARY_SUBTYPE_UUID = 3;\n  /**\n   * Binary MD5 Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_MD5\n   **/\n  BSON.BSON_BINARY_SUBTYPE_MD5 = 4;\n  /**\n   * Binary User Defined Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED\n   **/\n  BSON.BSON_BINARY_SUBTYPE_USER_DEFINED = 128;\n\n  // BSON MAX VALUES\n  BSON.BSON_INT32_MAX = 0x7fffffff;\n  BSON.BSON_INT32_MIN = -0x80000000;\n\n  BSON.BSON_INT64_MAX = Math.pow(2, 63) - 1;\n  BSON.BSON_INT64_MIN = -Math.pow(2, 63);\n\n  // JS MAX PRECISE VALUES\n  BSON.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\n  BSON.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\n  // Internal long versions\n  var JS_INT_MAX_LONG = Long$1.fromNumber(0x20000000000000); // Any integer up to 2^53 can be precisely represented by a double.\n  var JS_INT_MIN_LONG = Long$1.fromNumber(-0x20000000000000); // Any integer down to -2^53 can be precisely represented by a double.\n\n  var deserializer = deserialize;\n\n  // Copyright (c) 2008, Fair Oaks Labs, Inc.\n  // All rights reserved.\n  //\n  // Redistribution and use in source and binary forms, with or without\n  // modification, are permitted provided that the following conditions are met:\n  //\n  //  * Redistributions of source code must retain the above copyright notice,\n  //    this list of conditions and the following disclaimer.\n  //\n  //  * Redistributions in binary form must reproduce the above copyright notice,\n  //    this list of conditions and the following disclaimer in the documentation\n  //    and/or other materials provided with the distribution.\n  //\n  //  * Neither the name of Fair Oaks Labs, Inc. nor the names of its contributors\n  //    may be used to endorse or promote products derived from this software\n  //    without specific prior written permission.\n  //\n  // THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n  // AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n  // IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n  // ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n  // LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n  // CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n  // SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n  // INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n  // CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n  // ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n  // POSSIBILITY OF SUCH DAMAGE.\n  //\n  //\n  // Modifications to writeIEEE754 to support negative zeroes made by Brian White\n\n  var readIEEE754 = function readIEEE754(buffer, offset, endian, mLen, nBytes) {\n    var e,\n        m,\n        bBE = endian === 'big',\n        eLen = nBytes * 8 - mLen - 1,\n        eMax = (1 << eLen) - 1,\n        eBias = eMax >> 1,\n        nBits = -7,\n        i = bBE ? 0 : nBytes - 1,\n        d = bBE ? 1 : -1,\n        s = buffer[offset + i];\n\n    i += d;\n\n    e = s & (1 << -nBits) - 1;\n    s >>= -nBits;\n    nBits += eLen;\n    for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n    m = e & (1 << -nBits) - 1;\n    e >>= -nBits;\n    nBits += mLen;\n    for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n    if (e === 0) {\n      e = 1 - eBias;\n    } else if (e === eMax) {\n      return m ? NaN : (s ? -1 : 1) * Infinity;\n    } else {\n      m = m + Math.pow(2, mLen);\n      e = e - eBias;\n    }\n    return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n  };\n\n  var writeIEEE754 = function writeIEEE754(buffer, value, offset, endian, mLen, nBytes) {\n    var e,\n        m,\n        c,\n        bBE = endian === 'big',\n        eLen = nBytes * 8 - mLen - 1,\n        eMax = (1 << eLen) - 1,\n        eBias = eMax >> 1,\n        rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0,\n        i = bBE ? nBytes - 1 : 0,\n        d = bBE ? -1 : 1,\n        s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n\n    value = Math.abs(value);\n\n    if (isNaN(value) || value === Infinity) {\n      m = isNaN(value) ? 1 : 0;\n      e = eMax;\n    } else {\n      e = Math.floor(Math.log(value) / Math.LN2);\n      if (value * (c = Math.pow(2, -e)) < 1) {\n        e--;\n        c *= 2;\n      }\n      if (e + eBias >= 1) {\n        value += rt / c;\n      } else {\n        value += rt * Math.pow(2, 1 - eBias);\n      }\n      if (value * c >= 2) {\n        e++;\n        c /= 2;\n      }\n\n      if (e + eBias >= eMax) {\n        m = 0;\n        e = eMax;\n      } else if (e + eBias >= 1) {\n        m = (value * c - 1) * Math.pow(2, mLen);\n        e = e + eBias;\n      } else {\n        m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n        e = 0;\n      }\n    }\n\n    if (isNaN(value)) m = 0;\n\n    while (mLen >= 8) {\n      buffer[offset + i] = m & 0xff;\n      i += d;\n      m /= 256;\n      mLen -= 8;\n    }\n\n    e = e << mLen | m;\n\n    if (isNaN(value)) e += 8;\n\n    eLen += mLen;\n\n    while (eLen > 0) {\n      buffer[offset + i] = e & 0xff;\n      i += d;\n      e /= 256;\n      eLen -= 8;\n    }\n\n    buffer[offset + i - d] |= s * 128;\n  };\n\n  var readIEEE754_1 = readIEEE754;\n  var writeIEEE754_1 = writeIEEE754;\n\n  var float_parser = {\n    readIEEE754: readIEEE754_1,\n    writeIEEE754: writeIEEE754_1\n  };\n\n  /**\n   * Normalizes our expected stringified form of a function across versions of node\n   * @param {Function} fn The function to stringify\n   */\n\n  function normalizedFunctionString(fn) {\n    return fn.toString().replace('function(', 'function (');\n  }\n\n  var utils = {\n    normalizedFunctionString: normalizedFunctionString\n  };\n\n  var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n    return typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n  };\n\n  var writeIEEE754$1 = float_parser.writeIEEE754,\n      Long$2 = long_1.Long,\n      MinKey$2 = min_key.MinKey,\n      Binary$2 = binary.Binary;\n\n  var normalizedFunctionString$1 = utils.normalizedFunctionString;\n\n  // try {\n  //   var _Buffer = Uint8Array;\n  // } catch (e) {\n  //   _Buffer = Buffer;\n  // }\n\n  var regexp$1 = /\\x00/; // eslint-disable-line no-control-regex\n\n  // To ensure that 0.4 of node works correctly\n  var isDate = function isDate(d) {\n    return (typeof d === 'undefined' ? 'undefined' : _typeof(d)) === 'object' && Object.prototype.toString.call(d) === '[object Date]';\n  };\n\n  var isRegExp = function isRegExp(d) {\n    return Object.prototype.toString.call(d) === '[object RegExp]';\n  };\n\n  var serializeString = function serializeString(buffer, key, value, index, isArray) {\n    // Encode String type\n    buffer[index++] = BSON$1.BSON_DATA_STRING;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes + 1;\n    buffer[index - 1] = 0;\n    // Write the string\n    var size = buffer.write(value, index + 4, 'utf8');\n    // Write the size of the string to buffer\n    buffer[index + 3] = size + 1 >> 24 & 0xff;\n    buffer[index + 2] = size + 1 >> 16 & 0xff;\n    buffer[index + 1] = size + 1 >> 8 & 0xff;\n    buffer[index] = size + 1 & 0xff;\n    // Update index\n    index = index + 4 + size;\n    // Write zero\n    buffer[index++] = 0;\n    return index;\n  };\n\n  var serializeNumber = function serializeNumber(buffer, key, value, index, isArray) {\n    // We have an integer value\n    if (Math.floor(value) === value && value >= BSON$1.JS_INT_MIN && value <= BSON$1.JS_INT_MAX) {\n      // If the value fits in 32 bits encode as int, if it fits in a double\n      // encode it as a double, otherwise long\n      if (value >= BSON$1.BSON_INT32_MIN && value <= BSON$1.BSON_INT32_MAX) {\n        // Set int type 32 bits or less\n        buffer[index++] = BSON$1.BSON_DATA_INT;\n        // Number of written bytes\n        var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n        // Encode the name\n        index = index + numberOfWrittenBytes;\n        buffer[index++] = 0;\n        // Write the int value\n        buffer[index++] = value & 0xff;\n        buffer[index++] = value >> 8 & 0xff;\n        buffer[index++] = value >> 16 & 0xff;\n        buffer[index++] = value >> 24 & 0xff;\n      } else if (value >= BSON$1.JS_INT_MIN && value <= BSON$1.JS_INT_MAX) {\n        // Encode as double\n        buffer[index++] = BSON$1.BSON_DATA_NUMBER;\n        // Number of written bytes\n        numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n        // Encode the name\n        index = index + numberOfWrittenBytes;\n        buffer[index++] = 0;\n        // Write float\n        writeIEEE754$1(buffer, value, index, 'little', 52, 8);\n        // Ajust index\n        index = index + 8;\n      } else {\n        // Set long type\n        buffer[index++] = BSON$1.BSON_DATA_LONG;\n        // Number of written bytes\n        numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n        // Encode the name\n        index = index + numberOfWrittenBytes;\n        buffer[index++] = 0;\n        var longVal = Long$2.fromNumber(value);\n        var lowBits = longVal.getLowBits();\n        var highBits = longVal.getHighBits();\n        // Encode low bits\n        buffer[index++] = lowBits & 0xff;\n        buffer[index++] = lowBits >> 8 & 0xff;\n        buffer[index++] = lowBits >> 16 & 0xff;\n        buffer[index++] = lowBits >> 24 & 0xff;\n        // Encode high bits\n        buffer[index++] = highBits & 0xff;\n        buffer[index++] = highBits >> 8 & 0xff;\n        buffer[index++] = highBits >> 16 & 0xff;\n        buffer[index++] = highBits >> 24 & 0xff;\n      }\n    } else {\n      // Encode as double\n      buffer[index++] = BSON$1.BSON_DATA_NUMBER;\n      // Number of written bytes\n      numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n      // Encode the name\n      index = index + numberOfWrittenBytes;\n      buffer[index++] = 0;\n      // Write float\n      writeIEEE754$1(buffer, value, index, 'little', 52, 8);\n      // Ajust index\n      index = index + 8;\n    }\n\n    return index;\n  };\n\n  var serializeNull = function serializeNull(buffer, key, value, index, isArray) {\n    // Set long type\n    buffer[index++] = BSON$1.BSON_DATA_NULL;\n\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    return index;\n  };\n\n  var serializeBoolean = function serializeBoolean(buffer, key, value, index, isArray) {\n    // Write the type\n    buffer[index++] = BSON$1.BSON_DATA_BOOLEAN;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    // Encode the boolean value\n    buffer[index++] = value ? 1 : 0;\n    return index;\n  };\n\n  var serializeDate = function serializeDate(buffer, key, value, index, isArray) {\n    // Write the type\n    buffer[index++] = BSON$1.BSON_DATA_DATE;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n\n    // Write the date\n    var dateInMilis = Long$2.fromNumber(value.getTime());\n    var lowBits = dateInMilis.getLowBits();\n    var highBits = dateInMilis.getHighBits();\n    // Encode low bits\n    buffer[index++] = lowBits & 0xff;\n    buffer[index++] = lowBits >> 8 & 0xff;\n    buffer[index++] = lowBits >> 16 & 0xff;\n    buffer[index++] = lowBits >> 24 & 0xff;\n    // Encode high bits\n    buffer[index++] = highBits & 0xff;\n    buffer[index++] = highBits >> 8 & 0xff;\n    buffer[index++] = highBits >> 16 & 0xff;\n    buffer[index++] = highBits >> 24 & 0xff;\n    return index;\n  };\n\n  var serializeRegExp = function serializeRegExp(buffer, key, value, index, isArray) {\n    // Write the type\n    buffer[index++] = BSON$1.BSON_DATA_REGEXP;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    if (value.source && value.source.match(regexp$1) != null) {\n      throw Error('value ' + value.source + ' must not contain null bytes');\n    }\n    // Adjust the index\n    index = index + buffer.write(value.source, index, 'utf8');\n    // Write zero\n    buffer[index++] = 0x00;\n    // Write the parameters\n    if (value.ignoreCase) buffer[index++] = 0x69; // i\n    if (value.global) buffer[index++] = 0x73; // s\n    if (value.multiline) buffer[index++] = 0x6d; // m\n\n    // Add ending zero\n    buffer[index++] = 0x00;\n    return index;\n  };\n\n  var serializeBSONRegExp = function serializeBSONRegExp(buffer, key, value, index, isArray) {\n    // Write the type\n    buffer[index++] = BSON$1.BSON_DATA_REGEXP;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n\n    // Check the pattern for 0 bytes\n    if (value.pattern.match(regexp$1) != null) {\n      // The BSON spec doesn't allow keys with null bytes because keys are\n      // null-terminated.\n      throw Error('pattern ' + value.pattern + ' must not contain null bytes');\n    }\n\n    // Adjust the index\n    index = index + buffer.write(value.pattern, index, 'utf8');\n    // Write zero\n    buffer[index++] = 0x00;\n    // Write the options\n    index = index + buffer.write(value.options.split('').sort().join(''), index, 'utf8');\n    // Add ending zero\n    buffer[index++] = 0x00;\n    return index;\n  };\n\n  var serializeMinMax = function serializeMinMax(buffer, key, value, index, isArray) {\n    // Write the type of either min or max key\n    if (value === null) {\n      buffer[index++] = BSON$1.BSON_DATA_NULL;\n    } else if (value instanceof MinKey$2) {\n      buffer[index++] = BSON$1.BSON_DATA_MIN_KEY;\n    } else {\n      buffer[index++] = BSON$1.BSON_DATA_MAX_KEY;\n    }\n\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    return index;\n  };\n\n  var serializeObjectId = function serializeObjectId(buffer, key, value, index, isArray) {\n    // Write the type\n    buffer[index++] = BSON$1.BSON_DATA_OID;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n\n    // Write the objectId into the shared buffer\n    if (typeof value.id === 'string') {\n      buffer.write(value.id, index, 'binary');\n    } else if (value.id && value.id.copy) {\n      value.id.copy(buffer, index, 0, 12);\n    } else {\n      throw new TypeError('object [' + JSON.stringify(value) + '] is not a valid ObjectId');\n    }\n\n    // Ajust index\n    return index + 12;\n  };\n\n  var serializeBuffer = function serializeBuffer(buffer, key, value, index, isArray) {\n    // Write the type\n    buffer[index++] = BSON$1.BSON_DATA_BINARY;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    // Get size of the buffer (current write point)\n    var size = value.length;\n    // Write the size of the string to buffer\n    buffer[index++] = size & 0xff;\n    buffer[index++] = size >> 8 & 0xff;\n    buffer[index++] = size >> 16 & 0xff;\n    buffer[index++] = size >> 24 & 0xff;\n    // Write the default subtype\n    buffer[index++] = BSON$1.BSON_BINARY_SUBTYPE_DEFAULT;\n    // Copy the content form the binary field to the buffer\n    value.copy(buffer, index, 0, size);\n    // Adjust the index\n    index = index + size;\n    return index;\n  };\n\n  var serializeObject = function serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, isArray, path) {\n    for (var i = 0; i < path.length; i++) {\n      if (path[i] === value) throw new Error('cyclic dependency detected');\n    }\n\n    // Push value to stack\n    path.push(value);\n    // Write the type\n    buffer[index++] = Array.isArray(value) ? BSON$1.BSON_DATA_ARRAY : BSON$1.BSON_DATA_OBJECT;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    var endIndex = serializeInto(buffer, value, checkKeys, index, depth + 1, serializeFunctions, ignoreUndefined, path);\n    // Pop stack\n    path.pop();\n    return endIndex;\n  };\n\n  var serializeDecimal128 = function serializeDecimal128(buffer, key, value, index, isArray) {\n    buffer[index++] = BSON$1.BSON_DATA_DECIMAL128;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    // Write the data from the value\n    value.bytes.copy(buffer, index, 0, 16);\n    return index + 16;\n  };\n\n  var serializeLong = function serializeLong(buffer, key, value, index, isArray) {\n    // Write the type\n    buffer[index++] = value._bsontype === 'Long' ? BSON$1.BSON_DATA_LONG : BSON$1.BSON_DATA_TIMESTAMP;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    // Write the date\n    var lowBits = value.getLowBits();\n    var highBits = value.getHighBits();\n    // Encode low bits\n    buffer[index++] = lowBits & 0xff;\n    buffer[index++] = lowBits >> 8 & 0xff;\n    buffer[index++] = lowBits >> 16 & 0xff;\n    buffer[index++] = lowBits >> 24 & 0xff;\n    // Encode high bits\n    buffer[index++] = highBits & 0xff;\n    buffer[index++] = highBits >> 8 & 0xff;\n    buffer[index++] = highBits >> 16 & 0xff;\n    buffer[index++] = highBits >> 24 & 0xff;\n    return index;\n  };\n\n  var serializeInt32 = function serializeInt32(buffer, key, value, index, isArray) {\n    // Set int type 32 bits or less\n    buffer[index++] = BSON$1.BSON_DATA_INT;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    // Write the int value\n    buffer[index++] = value & 0xff;\n    buffer[index++] = value >> 8 & 0xff;\n    buffer[index++] = value >> 16 & 0xff;\n    buffer[index++] = value >> 24 & 0xff;\n    return index;\n  };\n\n  var serializeDouble = function serializeDouble(buffer, key, value, index, isArray) {\n    // Encode as double\n    buffer[index++] = BSON$1.BSON_DATA_NUMBER;\n\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n\n    // Write float\n    writeIEEE754$1(buffer, value.value, index, 'little', 52, 8);\n\n    // Adjust index\n    index = index + 8;\n    return index;\n  };\n\n  var serializeFunction = function serializeFunction(buffer, key, value, index, checkKeys, depth, isArray) {\n    buffer[index++] = BSON$1.BSON_DATA_CODE;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    // Function string\n    var functionString = normalizedFunctionString$1(value);\n\n    // Write the string\n    var size = buffer.write(functionString, index + 4, 'utf8') + 1;\n    // Write the size of the string to buffer\n    buffer[index] = size & 0xff;\n    buffer[index + 1] = size >> 8 & 0xff;\n    buffer[index + 2] = size >> 16 & 0xff;\n    buffer[index + 3] = size >> 24 & 0xff;\n    // Update index\n    index = index + 4 + size - 1;\n    // Write zero\n    buffer[index++] = 0;\n    return index;\n  };\n\n  var serializeCode = function serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, isArray) {\n    if (value.scope && _typeof(value.scope) === 'object') {\n      // Write the type\n      buffer[index++] = BSON$1.BSON_DATA_CODE_W_SCOPE;\n      // Number of written bytes\n      var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n      // Encode the name\n      index = index + numberOfWrittenBytes;\n      buffer[index++] = 0;\n\n      // Starting index\n      var startIndex = index;\n\n      // Serialize the function\n      // Get the function string\n      var functionString = typeof value.code === 'string' ? value.code : value.code.toString();\n      // Index adjustment\n      index = index + 4;\n      // Write string into buffer\n      var codeSize = buffer.write(functionString, index + 4, 'utf8') + 1;\n      // Write the size of the string to buffer\n      buffer[index] = codeSize & 0xff;\n      buffer[index + 1] = codeSize >> 8 & 0xff;\n      buffer[index + 2] = codeSize >> 16 & 0xff;\n      buffer[index + 3] = codeSize >> 24 & 0xff;\n      // Write end 0\n      buffer[index + 4 + codeSize - 1] = 0;\n      // Write the\n      index = index + codeSize + 4;\n\n      //\n      // Serialize the scope value\n      var endIndex = serializeInto(buffer, value.scope, checkKeys, index, depth + 1, serializeFunctions, ignoreUndefined);\n      index = endIndex - 1;\n\n      // Writ the total\n      var totalSize = endIndex - startIndex;\n\n      // Write the total size of the object\n      buffer[startIndex++] = totalSize & 0xff;\n      buffer[startIndex++] = totalSize >> 8 & 0xff;\n      buffer[startIndex++] = totalSize >> 16 & 0xff;\n      buffer[startIndex++] = totalSize >> 24 & 0xff;\n      // Write trailing zero\n      buffer[index++] = 0;\n    } else {\n      buffer[index++] = BSON$1.BSON_DATA_CODE;\n      // Number of written bytes\n      numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n      // Encode the name\n      index = index + numberOfWrittenBytes;\n      buffer[index++] = 0;\n      // Function string\n      functionString = value.code.toString();\n      // Write the string\n      var size = buffer.write(functionString, index + 4, 'utf8') + 1;\n      // Write the size of the string to buffer\n      buffer[index] = size & 0xff;\n      buffer[index + 1] = size >> 8 & 0xff;\n      buffer[index + 2] = size >> 16 & 0xff;\n      buffer[index + 3] = size >> 24 & 0xff;\n      // Update index\n      index = index + 4 + size - 1;\n      // Write zero\n      buffer[index++] = 0;\n    }\n\n    return index;\n  };\n\n  var serializeBinary = function serializeBinary(buffer, key, value, index, isArray) {\n    // Write the type\n    buffer[index++] = BSON$1.BSON_DATA_BINARY;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    // Extract the buffer\n    var data = value.value(true);\n    // Calculate size\n    var size = value.position;\n    // Add the deprecated 02 type 4 bytes of size to total\n    if (value.sub_type === Binary$2.SUBTYPE_BYTE_ARRAY) size = size + 4;\n    // Write the size of the string to buffer\n    buffer[index++] = size & 0xff;\n    buffer[index++] = size >> 8 & 0xff;\n    buffer[index++] = size >> 16 & 0xff;\n    buffer[index++] = size >> 24 & 0xff;\n    // Write the subtype to the buffer\n    buffer[index++] = value.sub_type;\n\n    // If we have binary type 2 the 4 first bytes are the size\n    if (value.sub_type === Binary$2.SUBTYPE_BYTE_ARRAY) {\n      size = size - 4;\n      buffer[index++] = size & 0xff;\n      buffer[index++] = size >> 8 & 0xff;\n      buffer[index++] = size >> 16 & 0xff;\n      buffer[index++] = size >> 24 & 0xff;\n    }\n\n    // Write the data to the object\n    data.copy(buffer, index, 0, value.position);\n    // Adjust the index\n    index = index + value.position;\n    return index;\n  };\n\n  var serializeSymbol = function serializeSymbol(buffer, key, value, index, isArray) {\n    // Write the type\n    buffer[index++] = BSON$1.BSON_DATA_SYMBOL;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    // Write the string\n    var size = buffer.write(value.value, index + 4, 'utf8') + 1;\n    // Write the size of the string to buffer\n    buffer[index] = size & 0xff;\n    buffer[index + 1] = size >> 8 & 0xff;\n    buffer[index + 2] = size >> 16 & 0xff;\n    buffer[index + 3] = size >> 24 & 0xff;\n    // Update index\n    index = index + 4 + size - 1;\n    // Write zero\n    buffer[index++] = 0x00;\n    return index;\n  };\n\n  var serializeDBRef = function serializeDBRef(buffer, key, value, index, depth, serializeFunctions, isArray) {\n    // Write the type\n    buffer[index++] = BSON$1.BSON_DATA_OBJECT;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n\n    var startIndex = index;\n    var endIndex;\n    var output = {\n      $ref: value.collection,\n      $id: value.oid\n    };\n\n    if (value.db != null) output.$db = value.db;\n\n    output = Object.assign(output, value.fields);\n    endIndex = serializeInto(buffer, output, false, index, depth + 1, serializeFunctions);\n\n    // Calculate object size\n    var size = endIndex - startIndex;\n    // Write the size\n    buffer[startIndex++] = size & 0xff;\n    buffer[startIndex++] = size >> 8 & 0xff;\n    buffer[startIndex++] = size >> 16 & 0xff;\n    buffer[startIndex++] = size >> 24 & 0xff;\n    // Set index\n    return endIndex;\n  };\n\n  var serializeInto = function serializeInto(buffer, object, checkKeys, startingIndex, depth, serializeFunctions, ignoreUndefined, path) {\n    startingIndex = startingIndex || 0;\n    path = path || [];\n\n    // Push the object to the path\n    path.push(object);\n\n    // Start place to serialize into\n    var index = startingIndex + 4;\n\n    // Special case isArray\n    if (Array.isArray(object)) {\n      // Get object keys\n      for (var i = 0; i < object.length; i++) {\n        var key = '' + i;\n        var value = object[i];\n\n        // Is there an override value\n        if (value && value.toBSON) {\n          if (typeof value.toBSON !== 'function') throw new TypeError('toBSON is not a function');\n          value = value.toBSON();\n        }\n\n        var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n        if (type === 'string') {\n          index = serializeString(buffer, key, value, index, true);\n        } else if (type === 'number') {\n          index = serializeNumber(buffer, key, value, index, true);\n        } else if (type === 'boolean') {\n          index = serializeBoolean(buffer, key, value, index, true);\n        } else if (value instanceof Date || isDate(value)) {\n          index = serializeDate(buffer, key, value, index, true);\n        } else if (value === undefined) {\n          index = serializeNull(buffer, key, value, index, true);\n        } else if (value === null) {\n          index = serializeNull(buffer, key, value, index, true);\n        } else if (value['_bsontype'] === 'ObjectID') {\n          index = serializeObjectId(buffer, key, value, index, true);\n        } else if (Buffer.isBuffer(value)) {\n          index = serializeBuffer(buffer, key, value, index, true);\n        } else if (value instanceof RegExp || isRegExp(value)) {\n          index = serializeRegExp(buffer, key, value, index, true);\n        } else if (type === 'object' && value['_bsontype'] == null) {\n          index = serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, true, path);\n        } else if (type === 'object' && value['_bsontype'] === 'Decimal128') {\n          index = serializeDecimal128(buffer, key, value, index, true);\n        } else if (value['_bsontype'] === 'Long' || value['_bsontype'] === 'Timestamp') {\n          index = serializeLong(buffer, key, value, index, true);\n        } else if (value['_bsontype'] === 'Double') {\n          index = serializeDouble(buffer, key, value, index, true);\n        } else if (typeof value === 'function' && serializeFunctions) {\n          index = serializeFunction(buffer, key, value, index, checkKeys, depth, serializeFunctions, true);\n        } else if (value['_bsontype'] === 'Code') {\n          index = serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, true);\n        } else if (value['_bsontype'] === 'Binary') {\n          index = serializeBinary(buffer, key, value, index, true);\n        } else if (value['_bsontype'] === 'Symbol') {\n          index = serializeSymbol(buffer, key, value, index, true);\n        } else if (value['_bsontype'] === 'DBRef') {\n          index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions, true);\n        } else if (value['_bsontype'] === 'BSONRegExp') {\n          index = serializeBSONRegExp(buffer, key, value, index, true);\n        } else if (value['_bsontype'] === 'Int32') {\n          index = serializeInt32(buffer, key, value, index, true);\n        } else if (value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n          index = serializeMinMax(buffer, key, value, index, true);\n        }\n      }\n    } else if (object instanceof map) {\n      var iterator = object.entries();\n      var done = false;\n\n      while (!done) {\n        // Unpack the next entry\n        var entry = iterator.next();\n        done = entry.done;\n        // Are we done, then skip and terminate\n        if (done) continue;\n\n        // Get the entry values\n        key = entry.value[0];\n        value = entry.value[1];\n\n        // Check the type of the value\n        type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\n        // Check the key and throw error if it's illegal\n        if (key !== '$db' && key !== '$ref' && key !== '$id') {\n          if (key.match(regexp$1) != null) {\n            // The BSON spec doesn't allow keys with null bytes because keys are\n            // null-terminated.\n            throw Error('key ' + key + ' must not contain null bytes');\n          }\n\n          if (checkKeys) {\n            if ('$' === key[0]) {\n              throw Error('key ' + key + \" must not start with '$'\");\n            } else if (~key.indexOf('.')) {\n              throw Error('key ' + key + \" must not contain '.'\");\n            }\n          }\n        }\n\n        if (type === 'string') {\n          index = serializeString(buffer, key, value, index);\n        } else if (type === 'number') {\n          index = serializeNumber(buffer, key, value, index);\n        } else if (type === 'boolean') {\n          index = serializeBoolean(buffer, key, value, index);\n        } else if (value instanceof Date || isDate(value)) {\n          index = serializeDate(buffer, key, value, index);\n        } else if (value === null || value === undefined && ignoreUndefined === false) {\n          index = serializeNull(buffer, key, value, index);\n        } else if (value['_bsontype'] === 'ObjectID') {\n          index = serializeObjectId(buffer, key, value, index);\n        } else if (Buffer.isBuffer(value)) {\n          index = serializeBuffer(buffer, key, value, index);\n        } else if (value instanceof RegExp || isRegExp(value)) {\n          index = serializeRegExp(buffer, key, value, index);\n        } else if (type === 'object' && value['_bsontype'] == null) {\n          index = serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, false, path);\n        } else if (type === 'object' && value['_bsontype'] === 'Decimal128') {\n          index = serializeDecimal128(buffer, key, value, index);\n        } else if (value['_bsontype'] === 'Long' || value['_bsontype'] === 'Timestamp') {\n          index = serializeLong(buffer, key, value, index);\n        } else if (value['_bsontype'] === 'Double') {\n          index = serializeDouble(buffer, key, value, index);\n        } else if (value['_bsontype'] === 'Code') {\n          index = serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined);\n        } else if (typeof value === 'function' && serializeFunctions) {\n          index = serializeFunction(buffer, key, value, index, checkKeys, depth, serializeFunctions);\n        } else if (value['_bsontype'] === 'Binary') {\n          index = serializeBinary(buffer, key, value, index);\n        } else if (value['_bsontype'] === 'Symbol') {\n          index = serializeSymbol(buffer, key, value, index);\n        } else if (value['_bsontype'] === 'DBRef') {\n          index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions);\n        } else if (value['_bsontype'] === 'BSONRegExp') {\n          index = serializeBSONRegExp(buffer, key, value, index);\n        } else if (value['_bsontype'] === 'Int32') {\n          index = serializeInt32(buffer, key, value, index);\n        } else if (value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n          index = serializeMinMax(buffer, key, value, index);\n        }\n      }\n    } else {\n      // Did we provide a custom serialization method\n      if (object.toBSON) {\n        if (typeof object.toBSON !== 'function') throw new TypeError('toBSON is not a function');\n        object = object.toBSON();\n        if (object != null && (typeof object === 'undefined' ? 'undefined' : _typeof(object)) !== 'object') throw new TypeError('toBSON function did not return an object');\n      }\n\n      // Iterate over all the keys\n      for (key in object) {\n        value = object[key];\n        // Is there an override value\n        if (value && value.toBSON) {\n          if (typeof value.toBSON !== 'function') throw new TypeError('toBSON is not a function');\n          value = value.toBSON();\n        }\n\n        // Check the type of the value\n        type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\n        // Check the key and throw error if it's illegal\n        if (key !== '$db' && key !== '$ref' && key !== '$id') {\n          if (key.match(regexp$1) != null) {\n            // The BSON spec doesn't allow keys with null bytes because keys are\n            // null-terminated.\n            throw Error('key ' + key + ' must not contain null bytes');\n          }\n\n          if (checkKeys) {\n            if ('$' === key[0]) {\n              throw Error('key ' + key + \" must not start with '$'\");\n            } else if (~key.indexOf('.')) {\n              throw Error('key ' + key + \" must not contain '.'\");\n            }\n          }\n        }\n\n        if (type === 'string') {\n          index = serializeString(buffer, key, value, index);\n        } else if (type === 'number') {\n          index = serializeNumber(buffer, key, value, index);\n        } else if (type === 'boolean') {\n          index = serializeBoolean(buffer, key, value, index);\n        } else if (value instanceof Date || isDate(value)) {\n          index = serializeDate(buffer, key, value, index);\n        } else if (value === undefined) {\n          if (ignoreUndefined === false) index = serializeNull(buffer, key, value, index);\n        } else if (value === null) {\n          index = serializeNull(buffer, key, value, index);\n        } else if (value['_bsontype'] === 'ObjectID') {\n          index = serializeObjectId(buffer, key, value, index);\n        } else if (Buffer.isBuffer(value)) {\n          index = serializeBuffer(buffer, key, value, index);\n        } else if (value instanceof RegExp || isRegExp(value)) {\n          index = serializeRegExp(buffer, key, value, index);\n        } else if (type === 'object' && value['_bsontype'] == null) {\n          index = serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, false, path);\n        } else if (type === 'object' && value['_bsontype'] === 'Decimal128') {\n          index = serializeDecimal128(buffer, key, value, index);\n        } else if (value['_bsontype'] === 'Long' || value['_bsontype'] === 'Timestamp') {\n          index = serializeLong(buffer, key, value, index);\n        } else if (value['_bsontype'] === 'Double') {\n          index = serializeDouble(buffer, key, value, index);\n        } else if (value['_bsontype'] === 'Code') {\n          index = serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined);\n        } else if (typeof value === 'function' && serializeFunctions) {\n          index = serializeFunction(buffer, key, value, index, checkKeys, depth, serializeFunctions);\n        } else if (value['_bsontype'] === 'Binary') {\n          index = serializeBinary(buffer, key, value, index);\n        } else if (value['_bsontype'] === 'Symbol') {\n          index = serializeSymbol(buffer, key, value, index);\n        } else if (value['_bsontype'] === 'DBRef') {\n          index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions);\n        } else if (value['_bsontype'] === 'BSONRegExp') {\n          index = serializeBSONRegExp(buffer, key, value, index);\n        } else if (value['_bsontype'] === 'Int32') {\n          index = serializeInt32(buffer, key, value, index);\n        } else if (value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n          index = serializeMinMax(buffer, key, value, index);\n        }\n      }\n    }\n\n    // Remove the path\n    path.pop();\n\n    // Final padding byte for object\n    buffer[index++] = 0x00;\n\n    // Final size\n    var size = index - startingIndex;\n    // Write the size of the object\n    buffer[startingIndex++] = size & 0xff;\n    buffer[startingIndex++] = size >> 8 & 0xff;\n    buffer[startingIndex++] = size >> 16 & 0xff;\n    buffer[startingIndex++] = size >> 24 & 0xff;\n    return index;\n  };\n\n  var BSON$1 = {};\n\n  /**\n   * Contains the function cache if we have that enable to allow for avoiding the eval step on each deserialization, comparison is by md5\n   *\n   * @ignore\n   * @api private\n   */\n  // var functionCache = (BSON.functionCache = {});\n\n  /**\n   * Number BSON Type\n   *\n   * @classconstant BSON_DATA_NUMBER\n   **/\n  BSON$1.BSON_DATA_NUMBER = 1;\n  /**\n   * String BSON Type\n   *\n   * @classconstant BSON_DATA_STRING\n   **/\n  BSON$1.BSON_DATA_STRING = 2;\n  /**\n   * Object BSON Type\n   *\n   * @classconstant BSON_DATA_OBJECT\n   **/\n  BSON$1.BSON_DATA_OBJECT = 3;\n  /**\n   * Array BSON Type\n   *\n   * @classconstant BSON_DATA_ARRAY\n   **/\n  BSON$1.BSON_DATA_ARRAY = 4;\n  /**\n   * Binary BSON Type\n   *\n   * @classconstant BSON_DATA_BINARY\n   **/\n  BSON$1.BSON_DATA_BINARY = 5;\n  /**\n   * ObjectID BSON Type, deprecated\n   *\n   * @classconstant BSON_DATA_UNDEFINED\n   **/\n  BSON$1.BSON_DATA_UNDEFINED = 6;\n  /**\n   * ObjectID BSON Type\n   *\n   * @classconstant BSON_DATA_OID\n   **/\n  BSON$1.BSON_DATA_OID = 7;\n  /**\n   * Boolean BSON Type\n   *\n   * @classconstant BSON_DATA_BOOLEAN\n   **/\n  BSON$1.BSON_DATA_BOOLEAN = 8;\n  /**\n   * Date BSON Type\n   *\n   * @classconstant BSON_DATA_DATE\n   **/\n  BSON$1.BSON_DATA_DATE = 9;\n  /**\n   * null BSON Type\n   *\n   * @classconstant BSON_DATA_NULL\n   **/\n  BSON$1.BSON_DATA_NULL = 10;\n  /**\n   * RegExp BSON Type\n   *\n   * @classconstant BSON_DATA_REGEXP\n   **/\n  BSON$1.BSON_DATA_REGEXP = 11;\n  /**\n   * Code BSON Type\n   *\n   * @classconstant BSON_DATA_CODE\n   **/\n  BSON$1.BSON_DATA_CODE = 13;\n  /**\n   * Symbol BSON Type\n   *\n   * @classconstant BSON_DATA_SYMBOL\n   **/\n  BSON$1.BSON_DATA_SYMBOL = 14;\n  /**\n   * Code with Scope BSON Type\n   *\n   * @classconstant BSON_DATA_CODE_W_SCOPE\n   **/\n  BSON$1.BSON_DATA_CODE_W_SCOPE = 15;\n  /**\n   * 32 bit Integer BSON Type\n   *\n   * @classconstant BSON_DATA_INT\n   **/\n  BSON$1.BSON_DATA_INT = 16;\n  /**\n   * Timestamp BSON Type\n   *\n   * @classconstant BSON_DATA_TIMESTAMP\n   **/\n  BSON$1.BSON_DATA_TIMESTAMP = 17;\n  /**\n   * Long BSON Type\n   *\n   * @classconstant BSON_DATA_LONG\n   **/\n  BSON$1.BSON_DATA_LONG = 18;\n  /**\n   * Long BSON Type\n   *\n   * @classconstant BSON_DATA_DECIMAL128\n   **/\n  BSON$1.BSON_DATA_DECIMAL128 = 19;\n  /**\n   * MinKey BSON Type\n   *\n   * @classconstant BSON_DATA_MIN_KEY\n   **/\n  BSON$1.BSON_DATA_MIN_KEY = 0xff;\n  /**\n   * MaxKey BSON Type\n   *\n   * @classconstant BSON_DATA_MAX_KEY\n   **/\n  BSON$1.BSON_DATA_MAX_KEY = 0x7f;\n  /**\n   * Binary Default Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_DEFAULT\n   **/\n  BSON$1.BSON_BINARY_SUBTYPE_DEFAULT = 0;\n  /**\n   * Binary Function Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_FUNCTION\n   **/\n  BSON$1.BSON_BINARY_SUBTYPE_FUNCTION = 1;\n  /**\n   * Binary Byte Array Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY\n   **/\n  BSON$1.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2;\n  /**\n   * Binary UUID Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_UUID\n   **/\n  BSON$1.BSON_BINARY_SUBTYPE_UUID = 3;\n  /**\n   * Binary MD5 Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_MD5\n   **/\n  BSON$1.BSON_BINARY_SUBTYPE_MD5 = 4;\n  /**\n   * Binary User Defined Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED\n   **/\n  BSON$1.BSON_BINARY_SUBTYPE_USER_DEFINED = 128;\n\n  // BSON MAX VALUES\n  BSON$1.BSON_INT32_MAX = 0x7fffffff;\n  BSON$1.BSON_INT32_MIN = -0x80000000;\n\n  BSON$1.BSON_INT64_MAX = Math.pow(2, 63) - 1;\n  BSON$1.BSON_INT64_MIN = -Math.pow(2, 63);\n\n  // JS MAX PRECISE VALUES\n  BSON$1.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\n  BSON$1.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\n  // Internal long versions\n  // var JS_INT_MAX_LONG = Long.fromNumber(0x20000000000000); // Any integer up to 2^53 can be precisely represented by a double.\n  // var JS_INT_MIN_LONG = Long.fromNumber(-0x20000000000000); // Any integer down to -2^53 can be precisely represented by a double.\n\n  var serializer = serializeInto;\n\n  var Long$3 = long_1.Long,\n      Double$2 = double_1.Double,\n      Timestamp$2 = timestamp.Timestamp,\n      ObjectID$2 = objectid.ObjectID,\n      _Symbol$1 = symbol.Symbol,\n      BSONRegExp$2 = regexp.BSONRegExp,\n      Code$2 = code.Code,\n      MinKey$3 = min_key.MinKey,\n      MaxKey$2 = max_key.MaxKey,\n      DBRef$2 = db_ref.DBRef,\n      Binary$3 = binary.Binary;\n\n  var normalizedFunctionString$2 = utils.normalizedFunctionString;\n\n  // To ensure that 0.4 of node works correctly\n  var isDate$1 = function isDate(d) {\n    return (typeof d === 'undefined' ? 'undefined' : _typeof(d)) === 'object' && Object.prototype.toString.call(d) === '[object Date]';\n  };\n\n  var calculateObjectSize = function calculateObjectSize(object, serializeFunctions, ignoreUndefined) {\n    var totalLength = 4 + 1;\n\n    if (Array.isArray(object)) {\n      for (var i = 0; i < object.length; i++) {\n        totalLength += calculateElement(i.toString(), object[i], serializeFunctions, true, ignoreUndefined);\n      }\n    } else {\n      // If we have toBSON defined, override the current object\n\n      if (object.toBSON) {\n        object = object.toBSON();\n      }\n\n      // Calculate size\n      for (var key in object) {\n        totalLength += calculateElement(key, object[key], serializeFunctions, false, ignoreUndefined);\n      }\n    }\n\n    return totalLength;\n  };\n\n  /**\n   * @ignore\n   * @api private\n   */\n  function calculateElement(name, value, serializeFunctions, isArray, ignoreUndefined) {\n    // If we have toBSON defined, override the current object\n    if (value && value.toBSON) {\n      value = value.toBSON();\n    }\n\n    switch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\n      case 'string':\n        return 1 + Buffer.byteLength(name, 'utf8') + 1 + 4 + Buffer.byteLength(value, 'utf8') + 1;\n      case 'number':\n        if (Math.floor(value) === value && value >= BSON$2.JS_INT_MIN && value <= BSON$2.JS_INT_MAX) {\n          if (value >= BSON$2.BSON_INT32_MIN && value <= BSON$2.BSON_INT32_MAX) {\n            // 32 bit\n            return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (4 + 1);\n          } else {\n            return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n          }\n        } else {\n          // 64 bit\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n        }\n      case 'undefined':\n        if (isArray || !ignoreUndefined) return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1;\n        return 0;\n      case 'boolean':\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (1 + 1);\n      case 'object':\n        if (value == null || value instanceof MinKey$3 || value instanceof MaxKey$2 || value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1;\n        } else if (value instanceof ObjectID$2 || value['_bsontype'] === 'ObjectID') {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (12 + 1);\n        } else if (value instanceof Date || isDate$1(value)) {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n        } else if (typeof Buffer !== 'undefined' && Buffer.isBuffer(value)) {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (1 + 4 + 1) + value.length;\n        } else if (value instanceof Long$3 || value instanceof Double$2 || value instanceof Timestamp$2 || value['_bsontype'] === 'Long' || value['_bsontype'] === 'Double' || value['_bsontype'] === 'Timestamp') {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n        } else if (value instanceof decimal128 || value['_bsontype'] === 'Decimal128') {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (16 + 1);\n        } else if (value instanceof Code$2 || value['_bsontype'] === 'Code') {\n          // Calculate size depending on the availability of a scope\n          if (value.scope != null && Object.keys(value.scope).length > 0) {\n            return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + 4 + 4 + Buffer.byteLength(value.code.toString(), 'utf8') + 1 + calculateObjectSize(value.scope, serializeFunctions, ignoreUndefined);\n          } else {\n            return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + 4 + Buffer.byteLength(value.code.toString(), 'utf8') + 1;\n          }\n        } else if (value instanceof Binary$3 || value['_bsontype'] === 'Binary') {\n          // Check what kind of subtype we have\n          if (value.sub_type === Binary$3.SUBTYPE_BYTE_ARRAY) {\n            return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (value.position + 1 + 4 + 1 + 4);\n          } else {\n            return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (value.position + 1 + 4 + 1);\n          }\n        } else if (value instanceof _Symbol$1 || value['_bsontype'] === 'Symbol') {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + Buffer.byteLength(value.value, 'utf8') + 4 + 1 + 1;\n        } else if (value instanceof DBRef$2 || value['_bsontype'] === 'DBRef') {\n          // Set up correct object for serialization\n          var ordered_values = {\n            $ref: value.collection,\n            $id: value.oid\n          };\n\n          // Add db reference if it exists\n          if (value.db != null) {\n            ordered_values['$db'] = value.db;\n          }\n\n          ordered_values = Object.assign(ordered_values, value.fields);\n\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + calculateObjectSize(ordered_values, serializeFunctions, ignoreUndefined);\n        } else if (value instanceof RegExp || Object.prototype.toString.call(value) === '[object RegExp]') {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + Buffer.byteLength(value.source, 'utf8') + 1 + (value.global ? 1 : 0) + (value.ignoreCase ? 1 : 0) + (value.multiline ? 1 : 0) + 1;\n        } else if (value instanceof BSONRegExp$2 || value['_bsontype'] === 'BSONRegExp') {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + Buffer.byteLength(value.pattern, 'utf8') + 1 + Buffer.byteLength(value.options, 'utf8') + 1;\n        } else {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + calculateObjectSize(value, serializeFunctions, ignoreUndefined) + 1;\n        }\n      case 'function':\n        // WTF for 0.4.X where typeof /someregexp/ === 'function'\n        if (value instanceof RegExp || Object.prototype.toString.call(value) === '[object RegExp]' || String.call(value) === '[object RegExp]') {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + Buffer.byteLength(value.source, 'utf8') + 1 + (value.global ? 1 : 0) + (value.ignoreCase ? 1 : 0) + (value.multiline ? 1 : 0) + 1;\n        } else {\n          if (serializeFunctions && value.scope != null && Object.keys(value.scope).length > 0) {\n            return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + 4 + 4 + Buffer.byteLength(normalizedFunctionString$2(value), 'utf8') + 1 + calculateObjectSize(value.scope, serializeFunctions, ignoreUndefined);\n          } else if (serializeFunctions) {\n            return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + 4 + Buffer.byteLength(normalizedFunctionString$2(value), 'utf8') + 1;\n          }\n        }\n    }\n\n    return 0;\n  }\n\n  var BSON$2 = {};\n\n  // BSON MAX VALUES\n  BSON$2.BSON_INT32_MAX = 0x7fffffff;\n  BSON$2.BSON_INT32_MIN = -0x80000000;\n\n  // JS MAX PRECISE VALUES\n  BSON$2.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\n  BSON$2.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\n  var calculate_size = calculateObjectSize;\n\n  // Parts of the parser\n\n\n  /**\n   * @ignore\n   * @api private\n   */\n  // Default Max Size\n  var MAXSIZE = 1024 * 1024 * 17;\n\n  // Current Internal Temporary Serialization Buffer\n  var buffer = new Buffer(MAXSIZE);\n\n  var BSON$3 = function BSON() {};\n\n  /**\n   * Serialize a Javascript object.\n   *\n   * @param {Object} object the Javascript object to serialize.\n   * @param {Boolean} [options.checkKeys] the serializer will check if keys are valid.\n   * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n   * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n   * @param {Number} [options.minInternalBufferSize=1024*1024*17] minimum size of the internal temporary serialization buffer **(default:1024*1024*17)**.\n   * @return {Buffer} returns the Buffer object containing the serialized object.\n   * @api public\n   */\n  BSON$3.prototype.serialize = function serialize(object, options) {\n    options = options || {};\n    // Unpack the options\n    var checkKeys = typeof options.checkKeys === 'boolean' ? options.checkKeys : false;\n    var serializeFunctions = typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n    var ignoreUndefined = typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n    var minInternalBufferSize = typeof options.minInternalBufferSize === 'number' ? options.minInternalBufferSize : MAXSIZE;\n\n    // Resize the internal serialization buffer if needed\n    if (buffer.length < minInternalBufferSize) {\n      buffer = new Buffer(minInternalBufferSize);\n    }\n\n    // Attempt to serialize\n    var serializationIndex = serializer(buffer, object, checkKeys, 0, 0, serializeFunctions, ignoreUndefined, []);\n    // Create the final buffer\n    var finishedBuffer = new Buffer(serializationIndex);\n    // Copy into the finished buffer\n    buffer.copy(finishedBuffer, 0, 0, finishedBuffer.length);\n    // Return the buffer\n    return finishedBuffer;\n  };\n\n  /**\n   * Serialize a Javascript object using a predefined Buffer and index into the buffer, useful when pre-allocating the space for serialization.\n   *\n   * @param {Object} object the Javascript object to serialize.\n   * @param {Buffer} buffer the Buffer you pre-allocated to store the serialized BSON object.\n   * @param {Boolean} [options.checkKeys] the serializer will check if keys are valid.\n   * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n   * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n   * @param {Number} [options.index] the index in the buffer where we wish to start serializing into.\n   * @return {Number} returns the index pointing to the last written byte in the buffer.\n   * @api public\n   */\n  BSON$3.prototype.serializeWithBufferAndIndex = function (object, finalBuffer, options) {\n    options = options || {};\n    // Unpack the options\n    var checkKeys = typeof options.checkKeys === 'boolean' ? options.checkKeys : false;\n    var serializeFunctions = typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n    var ignoreUndefined = typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n    var startIndex = typeof options.index === 'number' ? options.index : 0;\n\n    // Attempt to serialize\n    var serializationIndex = serializer(buffer, object, checkKeys, 0, 0, serializeFunctions, ignoreUndefined);\n    buffer.copy(finalBuffer, startIndex, 0, serializationIndex);\n\n    // Return the index\n    return startIndex + serializationIndex - 1;\n  };\n\n  /**\n   * Deserialize data as BSON.\n   *\n   * @param {Buffer} buffer the buffer containing the serialized set of BSON documents.\n   * @param {Object} [options.evalFunctions=false] evaluate functions in the BSON document scoped to the object deserialized.\n   * @param {Object} [options.cacheFunctions=false] cache evaluated functions for reuse.\n   * @param {Object} [options.cacheFunctionsCrc32=false] use a crc32 code for caching, otherwise use the string of the function.\n   * @param {Object} [options.promoteLongs=true] when deserializing a Long will fit it into a Number if it's smaller than 53 bits\n   * @param {Object} [options.promoteBuffers=false] when deserializing a Binary will return it as a node.js Buffer instance.\n   * @param {Object} [options.promoteValues=false] when deserializing will promote BSON values to their Node.js closest equivalent types.\n   * @param {Object} [options.fieldsAsRaw=null] allow to specify if there what fields we wish to return as unserialized raw buffer.\n   * @param {Object} [options.bsonRegExp=false] return BSON regular expressions as BSONRegExp instances.\n   * @param {boolean} [options.allowObjectSmallerThanBufferSize=false] allows the buffer to be larger than the parsed BSON object\n   * @return {Object} returns the deserialized Javascript Object.\n   * @api public\n   */\n  BSON$3.prototype.deserialize = function (buffer, options) {\n    return deserializer(buffer, options);\n  };\n\n  /**\n   * Calculate the bson size for a passed in Javascript object.\n   *\n   * @param {Object} object the Javascript object to calculate the BSON byte size for.\n   * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n   * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n   * @return {Number} returns the number of bytes the BSON object will take up.\n   * @api public\n   */\n  BSON$3.prototype.calculateObjectSize = function (object, options) {\n    options = options || {};\n\n    var serializeFunctions = typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n    var ignoreUndefined = typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n\n    return calculate_size(object, serializeFunctions, ignoreUndefined);\n  };\n\n  /**\n   * Deserialize stream data as BSON documents.\n   *\n   * @param {Buffer} data the buffer containing the serialized set of BSON documents.\n   * @param {Number} startIndex the start index in the data Buffer where the deserialization is to start.\n   * @param {Number} numberOfDocuments number of documents to deserialize.\n   * @param {Array} documents an array where to store the deserialized documents.\n   * @param {Number} docStartIndex the index in the documents array from where to start inserting documents.\n   * @param {Object} [options] additional options used for the deserialization.\n   * @param {Object} [options.evalFunctions=false] evaluate functions in the BSON document scoped to the object deserialized.\n   * @param {Object} [options.cacheFunctions=false] cache evaluated functions for reuse.\n   * @param {Object} [options.cacheFunctionsCrc32=false] use a crc32 code for caching, otherwise use the string of the function.\n   * @param {Object} [options.promoteLongs=true] when deserializing a Long will fit it into a Number if it's smaller than 53 bits\n   * @param {Object} [options.promoteBuffers=false] when deserializing a Binary will return it as a node.js Buffer instance.\n   * @param {Object} [options.promoteValues=false] when deserializing will promote BSON values to their Node.js closest equivalent types.\n   * @param {Object} [options.fieldsAsRaw=null] allow to specify if there what fields we wish to return as unserialized raw buffer.\n   * @param {Object} [options.bsonRegExp=false] return BSON regular expressions as BSONRegExp instances.\n   * @return {Number} returns the next index in the buffer after deserialization **x** numbers of documents.\n   * @api public\n   */\n  BSON$3.prototype.deserializeStream = function (data, startIndex, numberOfDocuments, documents, docStartIndex, options) {\n    options = Object.assign({ allowObjectSmallerThanBufferSize: true }, options);\n    var index = startIndex;\n    // Loop over all documents\n    for (var i = 0; i < numberOfDocuments; i++) {\n      // Find size of the document\n      var size = data[index] | data[index + 1] << 8 | data[index + 2] << 16 | data[index + 3] << 24;\n      // Update options with index\n      options.index = index;\n      // Parse the document at this point\n      documents[docStartIndex + i] = this.deserialize(data, options);\n      // Adjust index by the document size\n      index = index + size;\n    }\n\n    // Return object containing end index of parsing and list of documents\n    return index;\n  };\n\n  /**\n   * @ignore\n   * @api private\n   */\n  // BSON MAX VALUES\n  BSON$3.BSON_INT32_MAX = 0x7fffffff;\n  BSON$3.BSON_INT32_MIN = -0x80000000;\n\n  BSON$3.BSON_INT64_MAX = Math.pow(2, 63) - 1;\n  BSON$3.BSON_INT64_MIN = -Math.pow(2, 63);\n\n  // JS MAX PRECISE VALUES\n  BSON$3.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\n  BSON$3.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\n  // Internal long versions\n  // var JS_INT_MAX_LONG = Long.fromNumber(0x20000000000000); // Any integer up to 2^53 can be precisely represented by a double.\n  // var JS_INT_MIN_LONG = Long.fromNumber(-0x20000000000000); // Any integer down to -2^53 can be precisely represented by a double.\n\n  /**\n   * Number BSON Type\n   *\n   * @classconstant BSON_DATA_NUMBER\n   **/\n  BSON$3.BSON_DATA_NUMBER = 1;\n  /**\n   * String BSON Type\n   *\n   * @classconstant BSON_DATA_STRING\n   **/\n  BSON$3.BSON_DATA_STRING = 2;\n  /**\n   * Object BSON Type\n   *\n   * @classconstant BSON_DATA_OBJECT\n   **/\n  BSON$3.BSON_DATA_OBJECT = 3;\n  /**\n   * Array BSON Type\n   *\n   * @classconstant BSON_DATA_ARRAY\n   **/\n  BSON$3.BSON_DATA_ARRAY = 4;\n  /**\n   * Binary BSON Type\n   *\n   * @classconstant BSON_DATA_BINARY\n   **/\n  BSON$3.BSON_DATA_BINARY = 5;\n  /**\n   * ObjectID BSON Type\n   *\n   * @classconstant BSON_DATA_OID\n   **/\n  BSON$3.BSON_DATA_OID = 7;\n  /**\n   * Boolean BSON Type\n   *\n   * @classconstant BSON_DATA_BOOLEAN\n   **/\n  BSON$3.BSON_DATA_BOOLEAN = 8;\n  /**\n   * Date BSON Type\n   *\n   * @classconstant BSON_DATA_DATE\n   **/\n  BSON$3.BSON_DATA_DATE = 9;\n  /**\n   * null BSON Type\n   *\n   * @classconstant BSON_DATA_NULL\n   **/\n  BSON$3.BSON_DATA_NULL = 10;\n  /**\n   * RegExp BSON Type\n   *\n   * @classconstant BSON_DATA_REGEXP\n   **/\n  BSON$3.BSON_DATA_REGEXP = 11;\n  /**\n   * Code BSON Type\n   *\n   * @classconstant BSON_DATA_CODE\n   **/\n  BSON$3.BSON_DATA_CODE = 13;\n  /**\n   * Symbol BSON Type\n   *\n   * @classconstant BSON_DATA_SYMBOL\n   **/\n  BSON$3.BSON_DATA_SYMBOL = 14;\n  /**\n   * Code with Scope BSON Type\n   *\n   * @classconstant BSON_DATA_CODE_W_SCOPE\n   **/\n  BSON$3.BSON_DATA_CODE_W_SCOPE = 15;\n  /**\n   * 32 bit Integer BSON Type\n   *\n   * @classconstant BSON_DATA_INT\n   **/\n  BSON$3.BSON_DATA_INT = 16;\n  /**\n   * Timestamp BSON Type\n   *\n   * @classconstant BSON_DATA_TIMESTAMP\n   **/\n  BSON$3.BSON_DATA_TIMESTAMP = 17;\n  /**\n   * Long BSON Type\n   *\n   * @classconstant BSON_DATA_LONG\n   **/\n  BSON$3.BSON_DATA_LONG = 18;\n  /**\n   * MinKey BSON Type\n   *\n   * @classconstant BSON_DATA_MIN_KEY\n   **/\n  BSON$3.BSON_DATA_MIN_KEY = 0xff;\n  /**\n   * MaxKey BSON Type\n   *\n   * @classconstant BSON_DATA_MAX_KEY\n   **/\n  BSON$3.BSON_DATA_MAX_KEY = 0x7f;\n\n  /**\n   * Binary Default Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_DEFAULT\n   **/\n  BSON$3.BSON_BINARY_SUBTYPE_DEFAULT = 0;\n  /**\n   * Binary Function Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_FUNCTION\n   **/\n  BSON$3.BSON_BINARY_SUBTYPE_FUNCTION = 1;\n  /**\n   * Binary Byte Array Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY\n   **/\n  BSON$3.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2;\n  /**\n   * Binary UUID Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_UUID\n   **/\n  BSON$3.BSON_BINARY_SUBTYPE_UUID = 3;\n  /**\n   * Binary MD5 Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_MD5\n   **/\n  BSON$3.BSON_BINARY_SUBTYPE_MD5 = 4;\n  /**\n   * Binary User Defined Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED\n   **/\n  BSON$3.BSON_BINARY_SUBTYPE_USER_DEFINED = 128;\n\n  // Return BSON\n  var bson = BSON$3;\n  var Code_1$1 = code;\n  var Map_1 = map;\n  var Symbol_1$1 = symbol;\n  var BSON_1 = BSON$3;\n  var DBRef_1$1 = db_ref;\n  var Binary_1$1 = binary;\n  var ObjectID_1$1 = objectid;\n  var Long_1$1 = long_1;\n  var Timestamp_1$1 = timestamp;\n  var Double_1$1 = double_1;\n  var Int32_1$1 = int_32;\n  var MinKey_1$1 = min_key;\n  var MaxKey_1$1 = max_key;\n  var BSONRegExp_1$1 = regexp;\n  var Decimal128_1$1 = decimal128;\n  bson.Code = Code_1$1;\n  bson.Map = Map_1;\n  bson.Symbol = Symbol_1$1;\n  bson.BSON = BSON_1;\n  bson.DBRef = DBRef_1$1;\n  bson.Binary = Binary_1$1;\n  bson.ObjectID = ObjectID_1$1;\n  bson.Long = Long_1$1;\n  bson.Timestamp = Timestamp_1$1;\n  bson.Double = Double_1$1;\n  bson.Int32 = Int32_1$1;\n  bson.MinKey = MinKey_1$1;\n  bson.MaxKey = MaxKey_1$1;\n  bson.BSONRegExp = BSONRegExp_1$1;\n  bson.Decimal128 = Decimal128_1$1;\n\n  // BSON MAX VALUES\n  bson.BSON_INT32_MAX = 0x7fffffff;\n  bson.BSON_INT32_MIN = -0x80000000;\n\n  bson.BSON_INT64_MAX = Math.pow(2, 63) - 1;\n  bson.BSON_INT64_MIN = -Math.pow(2, 63);\n\n  // JS MAX PRECISE VALUES\n  bson.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\n  bson.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\n  // Add BSON types to function creation\n  bson.Binary = binary;\n  bson.Code = code;\n  bson.DBRef = db_ref;\n  bson.Decimal128 = decimal128;\n  bson.Double = double_1;\n  bson.Int32 = int_32;\n  bson.Long = long_1;\n  bson.Map = map;\n  bson.MaxKey = max_key;\n  bson.MinKey = min_key;\n  bson.ObjectId = objectid;\n  bson.ObjectID = objectid;\n  bson.BSONRegExp = regexp;\n  bson.Symbol = symbol;\n  bson.Timestamp = timestamp;\n\n  // Return the BSON\n  var jsBson = bson;\n\n  return jsBson;\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(9), __webpack_require__(7).Buffer, __webpack_require__(49)))\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Auth = exports.AuthFactory = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global window, document, fetch */\n\nexports.newAuth = newAuth;\n\nvar _storage = __webpack_require__(14);\n\nvar _providers = __webpack_require__(6);\n\nvar _errors = __webpack_require__(3);\n\nvar _common = __webpack_require__(1);\n\nvar authCommon = _interopRequireWildcard(_common);\n\nvar _common2 = __webpack_require__(2);\n\nvar common = _interopRequireWildcard(_common2);\n\nvar _detectBrowser = __webpack_require__(40);\n\nvar _platform = _interopRequireWildcard(_detectBrowser);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar jwtDecode = __webpack_require__(47);\n\nvar EMBEDDED_USER_AUTH_DATA_PARTS = 4;\n\n/** @private */\n\nvar AuthFactory = exports.AuthFactory = function () {\n  function AuthFactory() {\n    _classCallCheck(this, AuthFactory);\n\n    throw new _errors.StitchError('Auth can only be made from the AuthFactory.create function');\n  }\n\n  _createClass(AuthFactory, null, [{\n    key: 'create',\n    value: function create(client, rootUrl, options) {\n      return newAuth(client, rootUrl, options);\n    }\n  }]);\n\n  return AuthFactory;\n}();\n\n/** @private */\n\n\nfunction newAuth(client, rootUrl, options) {\n  var auth = Object.create(Auth.prototype);\n  var namespace = void 0;\n  if (!client || client.clientAppID === '') {\n    namespace = 'admin';\n  } else {\n    namespace = 'client.' + client.clientAppID;\n  }\n\n  options = Object.assign({\n    codec: authCommon.APP_CLIENT_CODEC,\n    namespace: namespace,\n    storageType: 'localStorage'\n  }, options);\n\n  auth.client = client;\n  auth.rootUrl = rootUrl;\n  auth.codec = options.codec;\n  auth.platform = options.platform || _platform;\n  auth.storage = (0, _storage.createStorage)(options);\n  auth.providers = (0, _providers.createProviders)(auth, options);\n\n  return Promise.all([auth._get(), auth.storage.get(authCommon.REFRESH_TOKEN_KEY), auth.storage.get(authCommon.USER_LOGGED_IN_PT_KEY), auth.storage.get(authCommon.DEVICE_ID_KEY)]).then(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 4),\n        authObj = _ref2[0],\n        rt = _ref2[1],\n        loggedInProviderType = _ref2[2],\n        deviceId = _ref2[3];\n\n    auth.auth = authObj;\n    auth.authedId = authObj.userId;\n    auth.rt = rt;\n    auth.loggedInProviderType = loggedInProviderType;\n    auth.deviceId = deviceId;\n\n    return auth;\n  });\n}\n\n/** @private */\n\nvar Auth = exports.Auth = function () {\n  function Auth(client, rootUrl, options) {\n    _classCallCheck(this, Auth);\n\n    throw new _errors.StitchError('Auth can only be made from the AuthFactory.create function');\n  }\n\n  /**\n   * Create the device info for this client.\n   *\n   * @private\n   * @memberof module:auth\n   * @method getDeviceInfo\n   * @param {String} appId The app ID for this client\n   * @param {String} appVersion The version of the app\n   * @returns {Object} The device info object\n   */\n\n\n  _createClass(Auth, [{\n    key: 'getDeviceInfo',\n    value: function getDeviceInfo(deviceId, appId) {\n      var appVersion = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n      var deviceInfo = { appId: appId, appVersion: appVersion, sdkVersion: common.SDK_VERSION };\n\n      if (deviceId) {\n        deviceInfo.deviceId = deviceId;\n      }\n\n      if (this.platform) {\n        deviceInfo.platform = this.platform.name;\n        deviceInfo.platformVersion = this.platform.version;\n      }\n\n      return deviceInfo;\n    }\n  }, {\n    key: 'provider',\n    value: function provider(name) {\n      if (!this.providers.hasOwnProperty(name)) {\n        throw new Error('Invalid auth provider specified: ' + name);\n      }\n\n      return this.providers[name];\n    }\n  }, {\n    key: 'refreshToken',\n    value: function refreshToken() {\n      var _this = this;\n\n      return this.client.doSessionPost().then(function (json) {\n        return _this.set(json);\n      });\n    }\n  }, {\n    key: 'pageRootUrl',\n    value: function pageRootUrl() {\n      return [window.location.protocol, '//', window.location.host, window.location.pathname].join('');\n    }\n  }, {\n    key: 'error',\n    value: function error() {\n      return this._error;\n    }\n  }, {\n    key: 'isAppClient',\n    value: function isAppClient() {\n      if (!this.client) {\n        return true; // Handle the case where Auth is constructed with null\n      }\n      return this.client.type === common.APP_CLIENT_TYPE;\n    }\n  }, {\n    key: 'handleRedirect',\n    value: function handleRedirect() {\n      var _this2 = this;\n\n      if (typeof window === 'undefined') {\n        // This means we're running in some environment other\n        // than a browser - so handling a redirect makes no sense here.\n        return;\n      }\n      if (!window.location || !window.location.hash) {\n        return;\n      }\n\n      return Promise.all([this.storage.get(authCommon.STATE_KEY), this.storage.get(authCommon.STITCH_REDIRECT_PROVIDER)]).then(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            ourState = _ref4[0],\n            redirectProvider = _ref4[1];\n\n        var redirectFragment = window.location.hash.substring(1);\n        var redirectState = _this2.parseRedirectFragment(redirectFragment, ourState);\n        if (redirectState.lastError || redirectState.found && !redirectProvider) {\n          console.error('StitchClient: error from redirect: ' + (redirectState.lastError ? redirectState.lastError : 'provider type not set'));\n          _this2._error = redirectState.lastError;\n          window.history.replaceState(null, '', _this2.pageRootUrl());\n          return Promise.reject();\n        }\n\n        if (!redirectState.found) {\n          return Promise.reject();\n        }\n\n        return Promise.all([_this2.storage.remove(authCommon.STATE_KEY), _this2.storage.remove(authCommon.STITCH_REDIRECT_PROVIDER)]).then(function () {\n          return { redirectState: redirectState, redirectProvider: redirectProvider };\n        });\n      }).then(function (_ref5) {\n        var redirectState = _ref5.redirectState,\n            redirectProvider = _ref5.redirectProvider;\n\n        if (!redirectState.stateValid) {\n          console.error('StitchClient: state values did not match!');\n          window.history.replaceState(null, '', _this2.pageRootUrl());\n          return;\n        }\n\n        if (!redirectState.ua) {\n          console.error('StitchClient: no UA value was returned from redirect!');\n          return;\n        }\n\n        // If we get here, the state is valid - set auth appropriately.\n        return _this2.set(redirectState.ua, redirectProvider);\n      }).then(function () {\n        return window.history.replaceState(null, '', _this2.pageRootUrl());\n      }).catch(function (error) {\n        if (error) {\n          throw error;\n        }\n      });\n    }\n  }, {\n    key: 'getCookie',\n    value: function getCookie(name) {\n      var splitCookies = document.cookie.split(' ');\n      for (var i = 0; i < splitCookies.length; i++) {\n        var cookie = splitCookies[i];\n        var sepIdx = cookie.indexOf('=');\n        var cookieName = cookie.substring(0, sepIdx);\n        if (cookieName === name) {\n          var cookieVal = cookie.substring(sepIdx + 1, cookie.length);\n          if (cookieVal[cookieVal.length - 1] === ';') {\n            return cookieVal.substring(0, cookie.length - 1);\n          }\n          return cookieVal;\n        }\n      }\n    }\n  }, {\n    key: 'handleCookie',\n    value: function handleCookie() {\n      var _this3 = this;\n\n      if (typeof window === 'undefined' || typeof document === 'undefined') {\n        // This means we're running in some environment other\n        // than a browser - so handling a cookie makes no sense here.\n        return;\n      }\n      if (!document.cookie) {\n        return;\n      }\n\n      var uaCookie = this.getCookie(authCommon.USER_AUTH_COOKIE_NAME);\n      if (!uaCookie) {\n        return;\n      }\n\n      document.cookie = authCommon.USER_AUTH_COOKIE_NAME + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT;';\n      var userAuth = this.unmarshallUserAuth(uaCookie);\n      return this.set(userAuth, _providers.PROVIDER_TYPE_MONGODB_CLOUD).then(function () {\n        return window.history.replaceState(null, '', _this3.pageRootUrl());\n      });\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.auth = null;\n      this.authedId = null;\n      this.rt = null;\n      this.loggedInProviderType = null;\n\n      return Promise.all([this.storage.remove(authCommon.USER_AUTH_KEY), this.storage.remove(authCommon.REFRESH_TOKEN_KEY), this.storage.remove(authCommon.USER_LOGGED_IN_PT_KEY), this.storage.remove(authCommon.STITCH_REDIRECT_PROVIDER)]);\n    }\n  }, {\n    key: 'getDeviceId',\n    value: function getDeviceId() {\n      return this.deviceId;\n    }\n\n    // Returns whether or not the access token is expired or is going to expire within 'withinSeconds'\n    // seconds, according to current system time. Returns false if the token is malformed in any way.\n\n  }, {\n    key: 'isAccessTokenExpired',\n    value: function isAccessTokenExpired() {\n      var withinSeconds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : authCommon.DEFAULT_ACCESS_TOKEN_EXPIRE_WITHIN_SECS;\n\n      var token = this.getAccessToken();\n      if (!token) {\n        return false;\n      }\n\n      var decodedToken = void 0;\n      try {\n        decodedToken = jwtDecode(token);\n      } catch (e) {\n        return false;\n      }\n\n      if (!decodedToken) {\n        return false;\n      }\n\n      return decodedToken.exp && Math.floor(Date.now() / 1000) >= decodedToken.exp - withinSeconds;\n    }\n  }, {\n    key: 'getAccessToken',\n    value: function getAccessToken() {\n      return this.auth.accessToken;\n    }\n  }, {\n    key: 'getRefreshToken',\n    value: function getRefreshToken() {\n      return this.rt;\n    }\n  }, {\n    key: 'set',\n    value: function set(json) {\n      var _this4 = this;\n\n      var authType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n      if (!json) {\n        return;\n      }\n\n      var newUserAuth = {};\n      var setters = [];\n\n      if (authType) {\n        this.loggedInProviderType = authType;\n        setters.push(this.storage.set(authCommon.USER_LOGGED_IN_PT_KEY, authType));\n      }\n\n      if (json[this.codec.refreshToken]) {\n        this.rt = json[this.codec.refreshToken];\n        delete json[this.codec.refreshToken];\n        setters.push(this.storage.set(authCommon.REFRESH_TOKEN_KEY, this.rt));\n      }\n\n      if (json[this.codec.deviceId]) {\n        this.deviceId = json[this.codec.deviceId];\n        delete json[this.codec.deviceId];\n        setters.push(this.storage.set(authCommon.DEVICE_ID_KEY, this.deviceId));\n      }\n\n      // Merge in new fields with old fields. Typically the first json value\n      // is complete with every field inside a user auth, but subsequent requests\n      // do not include everything. This merging behavior is safe so long as json\n      // value responses with absent fields do not indicate that the field should\n      // be unset.\n      if (json[this.codec.accessToken]) {\n        newUserAuth.accessToken = json[this.codec.accessToken];\n      }\n      if (json[this.codec.userId]) {\n        newUserAuth.userId = json[this.codec.userId];\n      }\n\n      this.auth = Object.assign(this.auth ? this.auth : {}, newUserAuth);\n      this.authedId = this.auth.userId;\n      setters.push(this.storage.set(authCommon.USER_AUTH_KEY, JSON.stringify(this.auth)));\n      return Promise.all(setters).then(function () {\n        return _this4.auth;\n      });\n    }\n  }, {\n    key: '_get',\n    value: function _get() {\n      var _this5 = this;\n\n      return this.storage.get(authCommon.USER_AUTH_KEY).then(function (data) {\n        if (!data) {\n          return {};\n        }\n\n        try {\n          return JSON.parse(data);\n        } catch (e) {\n          // Need to back out and clear auth otherwise we will never\n          // be able to do anything useful.\n          return _this5.clear().then(function () {\n            throw new _errors.StitchError('Failure retrieving stored auth');\n          });\n        }\n      });\n    }\n  }, {\n    key: 'getLoggedInProviderType',\n    value: function getLoggedInProviderType() {\n      return this.loggedInProviderType;\n    }\n  }, {\n    key: 'parseRedirectFragment',\n    value: function parseRedirectFragment(fragment, ourState) {\n      // After being redirected from oauth, the URL will look like:\n      // https://todo.examples.stitch.mongodb.com/#_stitch_state=...&_stitch_ua=...\n      // This function parses out stitch-specific tokens from the fragment and\n      // builds an object describing the result.\n      var vars = fragment.split('&');\n      var result = { ua: null, found: false, stateValid: false, lastError: null };\n      var shouldBreak = false;\n      for (var i = 0; i < vars.length && !shouldBreak; ++i) {\n        var pairParts = vars[i].split('=');\n        var pairKey = decodeURIComponent(pairParts[0]);\n        switch (pairKey) {\n          case authCommon.STITCH_ERROR_KEY:\n            result.lastError = decodeURIComponent(pairParts[1]);\n            result.found = true;\n            shouldBreak = true;\n            break;\n          case authCommon.USER_AUTH_KEY:\n            try {\n              result.ua = this.unmarshallUserAuth(decodeURIComponent(pairParts[1]));\n              result.found = true;\n            } catch (e) {\n              result.lastError = e;\n            }\n            continue;\n          case authCommon.STITCH_LINK_KEY:\n            result.found = true;\n            continue;\n          case authCommon.STATE_KEY:\n            result.found = true;\n            var theirState = decodeURIComponent(pairParts[1]);\n            if (ourState && ourState === theirState) {\n              result.stateValid = true;\n            }\n            continue;\n          default:\n            continue;\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: 'unmarshallUserAuth',\n    value: function unmarshallUserAuth(data) {\n      var _ref6;\n\n      var parts = data.split('$');\n      if (parts.length !== EMBEDDED_USER_AUTH_DATA_PARTS) {\n        throw new RangeError('invalid user auth data provided: ' + data);\n      }\n\n      return _ref6 = {}, _defineProperty(_ref6, this.codec.accessToken, parts[0]), _defineProperty(_ref6, this.codec.refreshToken, parts[1]), _defineProperty(_ref6, this.codec.userId, parts[2]), _defineProperty(_ref6, this.codec.deviceId, parts[3]), _ref6;\n    }\n  }, {\n    key: 'fetchArgsWithLink',\n    value: function fetchArgsWithLink(fetchArgs, link) {\n      if (link) {\n        fetchArgs.headers.Authorization = 'Bearer ' + this.getAccessToken();\n      }\n\n      return fetchArgs;\n    }\n  }]);\n\n  return Auth;\n}();\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MemoryStorage = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.createStorage = createStorage;\n\nvar _common = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MemoryStorage = exports.MemoryStorage = function () {\n  function MemoryStorage() {\n    _classCallCheck(this, MemoryStorage);\n\n    this._data = {};\n    this._orderedKeys = [];\n    this.length = 0;\n  }\n\n  _createClass(MemoryStorage, [{\n    key: 'getItem',\n    value: function getItem(key) {\n      return key in this._data ? this._data[key] : null;\n    }\n  }, {\n    key: 'setItem',\n    value: function setItem(key, value) {\n      this._orderedKeys.push(key);\n      this._data[key] = value;\n      this.length++;\n      return this._data[key];\n    }\n  }, {\n    key: 'removeItem',\n    value: function removeItem(key) {\n      this._orderedKeys.pop(key);\n      delete this._data[key];\n      this.length--;\n      return undefined;\n    }\n  }, {\n    key: 'key',\n    value: function key(index) {\n      return this._orderedKeys[index];\n    }\n  }]);\n\n  return MemoryStorage;\n}();\n\nvar _VERSION = 1;\nvar _VERSION_KEY = '__stitch_storage_version__';\n\n/**\n  * Run a migration on the currently used storage\n  * that checks to see if the current version is up to date.\n  * If the version has not been set, this method will migrate\n  * to the latest version.\n  *\n  * @private\n  * @param {Integer} version version number of storage\n  * @param {Object} storage storage class being checked\n  * @returns {Promise} nullable promise containing migration logic\n  */\nfunction _runMigration(version, storage) {\n  switch (version) {\n    case null:\n    case undefined:\n      // return a promise,\n      // mapping each of the store's keys to a Promise\n      // that fetches the each value for each key,\n      // sets the old value to the new \"namespaced\" key\n      // remove the old key value pair,\n      // and set the version number\n      var migrations = [_common.USER_AUTH_KEY, _common.REFRESH_TOKEN_KEY, _common.DEVICE_ID_KEY, _common.STATE_KEY].map(function (key) {\n        return Promise.resolve(storage.store.getItem(key)).then(function (item) {\n          return !!item && storage.store.setItem(storage._generateKey(key), item);\n        }).then(function () {\n          return storage.store.removeItem(key);\n        });\n      });\n      return Promise.all(migrations).then(function () {\n        return storage.store.setItem(_VERSION_KEY, _VERSION);\n      });\n    // in future versions, `case 1:`, `case 2:` and so on\n    // could be added to perform similar migrations\n    default:\n      break;\n  }\n}\n\n/** @private */\n\nvar Storage = function () {\n  /**\n   * @param {Storage} store implementer of Storage interface\n   * @param {String} namespace clientAppID to be used for namespacing\n   * @param\n  */\n  function Storage(store, namespace) {\n    var _this = this;\n\n    _classCallCheck(this, Storage);\n\n    this.store = store;\n    this.namespace = '_stitch.' + namespace;\n\n    this._migration = Promise.resolve(this.store.getItem(_VERSION_KEY)).then(function (version) {\n      return _runMigration(version, _this);\n    });\n  }\n\n  _createClass(Storage, [{\n    key: '_generateKey',\n    value: function _generateKey(key) {\n      return this.namespace + '.' + key;\n    }\n  }, {\n    key: 'get',\n    value: function get(key) {\n      var _this2 = this;\n\n      return Promise.resolve(this._migration).then(function () {\n        return _this2.store.getItem(_this2._generateKey(key));\n      });\n    }\n  }, {\n    key: 'set',\n    value: function set(key, value) {\n      var _this3 = this;\n\n      return Promise.resolve(this._migration).then(function () {\n        return _this3.store.setItem(_this3._generateKey(key), value);\n      }).then(function () {\n        return value;\n      });\n    }\n  }, {\n    key: 'remove',\n    value: function remove(key) {\n      var _this4 = this;\n\n      return Promise.resolve(this._migration).then(function () {\n        return _this4.store.removeItem(_this4._generateKey(key));\n      });\n    }\n  }]);\n\n  return Storage;\n}();\n\nfunction createStorage(options) {\n  var storageType = options.storageType,\n      storage = options.storage,\n      namespace = options.namespace;\n\n\n  if (storageType === 'localStorage') {\n    if (typeof window !== 'undefined' && 'localStorage' in window && window.localStorage !== null) {\n      return new Storage(window.localStorage, namespace);\n    }\n  } else if (storageType === 'sessionStorage') {\n    if (typeof window !== 'undefined' && 'sessionStorage' in window && window.sessionStorage !== null) {\n      return new Storage(window.sessionStorage, namespace);\n    }\n  } else if (storageType == 'customStorage') {\n    //eslint-disable-line eqeqeq\n    return new Storage(storage, namespace);\n  }\n\n  // default to memory storage\n  return new Storage(new MemoryStorage(), namespace);\n}\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BSON = exports.StitchAdminClientFactory = exports.StitchClientFactory = undefined;\n\nvar _client = __webpack_require__(4);\n\nvar _admin = __webpack_require__(10);\n\nvar _mongodbExtjson = __webpack_require__(5);\n\nexports.StitchClientFactory = _client.StitchClientFactory;\nexports.StitchAdminClientFactory = _admin.StitchAdminClientFactory;\nexports.BSON = _mongodbExtjson.BSON;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Convenience wrapper around AWS S3 service (not meant to be instantiated directly,\n * use `.service('aws-s3', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {S3Service} a S3Service instance.\n */\nvar S3Service = function () {\n  function S3Service(stitchClient, serviceName) {\n    _classCallCheck(this, S3Service);\n\n    this.client = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Put an object to S3 via Stitch. For small uploads\n   *\n   * @param {String} bucket which S3 bucket to use\n   * @param {String} key which key (filename) to use\n   * @param {String} acl which policy to apply\n   * @param {String} contentType content type of uploaded data\n   * @param {String|BSON.Binary} body the content to put in the bucket\n   * @return {Promise} which resolves to an object containing a single field \"location\"\n   *                   which is the URL of the object that was put into the S3 bucket\n   */\n\n\n  _createClass(S3Service, [{\n    key: 'put',\n    value: function put(bucket, key, acl, contentType, body) {\n      return (0, _util.serviceResponse)(this, {\n        action: 'put',\n        args: { bucket: bucket, key: key, acl: acl, contentType: contentType, body: body }\n      });\n    }\n\n    /**\n     * Sign a policy for putting via Stitch. For large uploads\n     *\n     * @param {String} bucket which S3 bucket to use\n     * @param {String} key which key (filename) to use\n     * @param {String} acl which policy to apply\n     * @param {String} contentType content type of uploaded data\n     * @return {Promise}\n     */\n\n  }, {\n    key: 'signPolicy',\n    value: function signPolicy(bucket, key, acl, contentType) {\n      return (0, _util.serviceResponse)(this, {\n        action: 'signPolicy',\n        args: { bucket: bucket, key: key, acl: acl, contentType: contentType }\n      });\n    }\n  }]);\n\n  return S3Service;\n}();\n\nexports.default = S3Service;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Convenience wrapper around AWS SES service (not meant to be instantiated directly,\n * use `.service('aws-ses', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {SESService} a SESService instance.\n */\nvar SESService = function () {\n  function SESService(stitchClient, serviceName) {\n    _classCallCheck(this, SESService);\n\n    this.client = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Send an email\n   *\n   * @method\n   * @param {String} fromAddress the email to send from\n   * @param {String} toAddress the email to send to\n   * @param {String} subject the subject of the email\n   * @param {String} body the body of the email\n   * @return {Promise} resolving to an object which contains the single string field\n   *                   \"messageId\", which is the SES message ID for the email message.\n   */\n\n\n  _createClass(SESService, [{\n    key: 'send',\n    value: function send(fromAddress, toAddress, subject, body) {\n      return (0, _util.serviceResponse)(this, {\n        action: 'send',\n        args: { fromAddress: fromAddress, toAddress: toAddress, subject: subject, body: body }\n      });\n    }\n  }]);\n\n  return SESService;\n}();\n\nexports.default = SESService;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Convenience wrapper for HTTP service (not meant to be instantiated directly,\n * use `.service('http', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {HTTPService} a HTTPService instance.\n */\nvar HTTPService = function () {\n  function HTTPService(client, serviceName) {\n    _classCallCheck(this, HTTPService);\n\n    this.client = client;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Send a GET request to a resource (result must be application/json)\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of GET args\n   * @param {Object} [options] optional settings for the GET operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n\n\n  _createClass(HTTPService, [{\n    key: 'get',\n    value: function get(urlOrOptions) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return buildResponse('get', this, buildArgs(urlOrOptions, options));\n    }\n\n    /**\n     * Send a POST request to a resource with payload\n     *\n     * @param {String|Object} urlOrOptions the url to request, or an object of POST args\n     * @param {Object} [options] optional settings for the POST operation\n     * @param {String} [options.authUrl] url that grants a cookie\n     * @return {Promise}\n     */\n\n  }, {\n    key: 'post',\n    value: function post(urlOrOptions) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return buildResponse('post', this, buildArgs(urlOrOptions, options));\n    }\n\n    /**\n     * Send a PUT request to a resource with payload\n     *\n     * @param {String|Object} urlOrOptions the url to request, or an object of PUT args\n     * @param {Object} [options] optional settings for the PUT operation\n     * @param {String} [options.authUrl] url that grants a cookie\n     * @return {Promise}\n     */\n\n  }, {\n    key: 'put',\n    value: function put(urlOrOptions) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return buildResponse('put', this, buildArgs(urlOrOptions, options));\n    }\n\n    /**\n     * Send a PATCH request to a resource with payload\n     *\n     * @param {String|Object} urlOrOptions the url to request, or an object of PATCH args\n     * @param {Object} [options] optional settings for the PATCH operation\n     * @param {String} [options.authUrl] url that grants a cookie\n     * @return {Promise}\n     */\n\n  }, {\n    key: 'patch',\n    value: function patch(urlOrOptions) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return buildResponse('patch', this, buildArgs(urlOrOptions, options));\n    }\n\n    /**\n     * Send a DELETE request to a resource\n     *\n     * @param {String|Object} urlOrOptions the url to request, or an object of DELETE args\n     * @param {Object} [options] optional settings for the DELETE operation\n     * @param {String} [options.authUrl] url that grants a cookie\n     * @return {Promise}\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete(urlOrOptions) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return buildResponse('delete', this, buildArgs(urlOrOptions, options));\n    }\n\n    /**\n     * Send a HEAD request to a resource\n     *\n     * @param {String|Object} urlOrOptions the url to request, or an object of HEAD args\n     * @param {Object} [options] optional settings for the HEAD operation\n     * @param {String} [options.authUrl] url that grants a cookie\n     * @return {Promise}\n     */\n\n  }, {\n    key: 'head',\n    value: function head(urlOrOptions) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return buildResponse('head', this, buildArgs(urlOrOptions, options));\n    }\n  }]);\n\n  return HTTPService;\n}();\n\nfunction buildArgs(urlOrOptions, options) {\n  var args = void 0;\n  if (typeof urlOrOptions !== 'string') {\n    args = urlOrOptions;\n  } else {\n    args = { url: urlOrOptions };\n    if (!!options.authUrl) args.authUrl = options.authUrl;\n  }\n\n  return args;\n}\n\nfunction buildResponse(action, service, args) {\n  return (0, _util.serviceResponse)(service, {\n    action: action,\n    args: args\n  });\n}\n\nexports.default = HTTPService;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _s3_service = __webpack_require__(16);\n\nvar _s3_service2 = _interopRequireDefault(_s3_service);\n\nvar _ses_service = __webpack_require__(17);\n\nvar _ses_service2 = _interopRequireDefault(_ses_service);\n\nvar _http_service = __webpack_require__(18);\n\nvar _http_service2 = _interopRequireDefault(_http_service);\n\nvar _mongodb_service = __webpack_require__(22);\n\nvar _mongodb_service2 = _interopRequireDefault(_mongodb_service);\n\nvar _twilio_service = __webpack_require__(23);\n\nvar _twilio_service2 = _interopRequireDefault(_twilio_service);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  'aws-s3': _s3_service2.default,\n  'aws-ses': _ses_service2.default,\n  'aws_s3': _s3_service2.default,\n  'aws_ses': _ses_service2.default,\n  'http': _http_service2.default,\n  'mongodb': _mongodb_service2.default,\n  'twilio': _twilio_service2.default\n};\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Creates a new Collection instance (not meant to be instantiated directly,\n * use `.collection()` on a {@link DB} instance).\n *\n * @class\n * @return {Collection} a Collection instance.\n */\nvar Collection = function () {\n  /**\n   * @hideconstructor\n   */\n  function Collection(db, name) {\n    _classCallCheck(this, Collection);\n\n    this.db = db;\n    this.name = name;\n  }\n\n  /**\n   * Inserts a single document.\n   *\n   * @method\n   * @param {Object} doc The document to insert.\n   * @return {Promise<Object, Error>} a Promise for the operation.\n   */\n\n\n  _createClass(Collection, [{\n    key: 'insertOne',\n    value: function insertOne(doc) {\n      var args = { document: doc };\n      return buildResponse('insertOne', this, buildArgs(this, args));\n    }\n\n    /**\n     * Inserts multiple documents.\n     *\n     * @method\n     * @param {Array} docs The documents to insert.\n     * @return {Promise<Object, Error>} Returns a Promise for the operation.\n     */\n\n  }, {\n    key: 'insertMany',\n    value: function insertMany(docs) {\n      var args = { documents: Array.isArray(docs) ? docs : [docs] };\n      return buildResponse('insertMany', this, buildArgs(this, args));\n    }\n\n    /**\n     * Deletes a single document.\n     *\n     * @method\n     * @param {Object} query The query used to match a single document.\n     * @return {Promise<Object, Error>} Returns a Promise for the operation.\n     */\n\n  }, {\n    key: 'deleteOne',\n    value: function deleteOne(query) {\n      return buildResponse('deleteOne', this, buildArgs(this, { query: query }));\n    }\n\n    /**\n     * Deletes all documents matching query.\n     *\n     * @method\n     * @param {Object} query The query used to match the documents to delete.\n     * @return {Promise<Object, Error>} Returns a Promise for the operation.\n     */\n\n  }, {\n    key: 'deleteMany',\n    value: function deleteMany(query) {\n      return buildResponse('deleteMany', this, buildArgs(this, { query: query }));\n    }\n\n    /**\n     * Updates a single document.\n     *\n     * @method\n     * @param {Object} query The query used to match a single document.\n     * @param {Object} update The update operations to perform on the matching document.\n     * @param {Object} [options] Additional options object.\n     * @param {Boolean} [options.upsert=false] Perform an upsert operation.\n     * @return {Promise<Object, Error>} A Promise for the operation.\n     */\n\n  }, {\n    key: 'updateOne',\n    value: function updateOne(query, update) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      return updateOp(this, false, query, update, options);\n    }\n\n    /**\n     * Updates multiple documents.\n     *\n     * @method\n     * @param {Object} query The query used to match the documents.\n     * @param {Object} update The update operations to perform on the matching documents.\n     * @param {Object} [options] Additional options object.\n     * @param {Boolean} [options.upsert=false] Perform an upsert operation.\n     * @return {Promise<Object, Error>} Returns a Promise for the operation.\n     */\n\n  }, {\n    key: 'updateMany',\n    value: function updateMany(query, update) {\n      return updateOp(this, true, query, update);\n    }\n\n    /**\n     * Finds documents.\n     *\n     * @method\n     * @param {Object} query The query used to match documents.\n     * @param {Object} [project] The query document projection.\n     * @return {MongoQuery} An object which allows for `limit` and `sort` parameters to be set.\n     * `execute` will return a {Promise} for the operation.\n     */\n\n  }, {\n    key: 'find',\n    value: function find(query, project) {\n      return new MongoQuery(this, query, project);\n    }\n\n    /**\n     * Finds one document.\n     *\n     * @method\n     * @param {Object} query The query used to match documents.\n     * @param {Object} [project] The query document projection.\n     * @return {Promise<Object, Error>} Returns a Promise for the operation\n     */\n\n  }, {\n    key: 'findOne',\n    value: function findOne(query, project) {\n      return buildResponse('findOne', this, buildArgs(this, { query: query, project: project }));\n    }\n\n    /**\n     * Executes an aggregation pipeline.\n     *\n     * @param {Array} pipeline The aggregation pipeline.\n     * @returns {Array} The results of the aggregation.\n     */\n\n  }, {\n    key: 'aggregate',\n    value: function aggregate(pipeline) {\n      return aggregateOp(this, pipeline);\n    }\n\n    /**\n     * Gets the number of documents matching the filter.\n     *\n     * @param {Object} query The query used to match documents.\n     * @param {Object} options Additional count options.\n     * @param {Number} [options.limit=null] The maximum number of documents to return.\n     * @return {Number} The results of the count operation.\n     */\n\n  }, {\n    key: 'count',\n    value: function count(query) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var outgoingOptions = void 0;\n      if (options.limit) {\n        outgoingOptions = { limit: options.limit };\n      }\n\n      return buildResponse('count', this, buildArgs(this, { count: true, query: query }, outgoingOptions));\n    }\n  }]);\n\n  return Collection;\n}();\n\n// private\n\nfunction updateOp(service, isMulti, query, update) {\n  var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n\n  var action = isMulti ? 'updateMany' : 'updateOne';\n\n  var outgoingOptions = void 0;\n  if (!isMulti && options.upsert) {\n    outgoingOptions = { upsert: true };\n  }\n\n  return buildResponse(action, service, buildArgs(service, { query: query, update: update }, outgoingOptions));\n}\n\nfunction findOp(_ref) {\n  var service = _ref.service,\n      query = _ref.query,\n      project = _ref.project,\n      limit = _ref.limit,\n      sort = _ref.sort;\n\n  return buildResponse('find', service, buildArgs(service, { query: query, project: project, limit: limit, sort: sort }));\n}\n\nfunction aggregateOp(service, pipeline) {\n  return buildResponse('aggregate', service, buildArgs(service, { pipeline: pipeline }));\n}\n\nfunction buildArgs(_ref2, args) {\n  var database = _ref2.db.name,\n      collection = _ref2.name;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  return Object.assign({ database: database, collection: collection }, args, options);\n}\n\nfunction buildResponse(action, service, args) {\n  return (0, _util.serviceResponse)(service.db, {\n    serviceName: service.db.service,\n    action: action,\n    args: args\n  });\n}\n\n// mongo query (find) support\n\nfunction MongoQuery(service, query, project) {\n  if (this instanceof MongoQuery) {\n    this.service = service;\n    this.query = query;\n    this.project = project;\n    return this;\n  }\n  return new MongoQuery(service, query, project);\n}\n\nMongoQuery.prototype.limit = function (limit) {\n  this.limit = limit;\n  return this;\n};\n\nMongoQuery.prototype.sort = function (sort) {\n  this.sort = sort;\n  return this;\n};\n\nMongoQuery.prototype.execute = function (resolve) {\n  return findOp(this);\n};\n\nexports.default = Collection;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _collection = __webpack_require__(20);\n\nvar _collection2 = _interopRequireDefault(_collection);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Creates a new DB instance (not meant to be instantiated directly, use `.db()` on\n * a {@link MongoDBService} instance).\n * @class\n * @return {DB} a DB instance.\n */\nvar DB = function () {\n  /**\n   * @hideconstructor\n   */\n  function DB(client, service, name) {\n    _classCallCheck(this, DB);\n\n    this.client = client;\n    this.service = service;\n    this.name = name;\n  }\n\n  /**\n   * Returns a Collection instance representing a MongoDB Collection object.\n   *\n   * @method\n   * @param {String} name The collection name.\n   * @param {Object} [options] Additional options.\n   * @return {Collection} returns a Collection instance representing a MongoDb collection.\n   */\n\n\n  _createClass(DB, [{\n    key: 'collection',\n    value: function collection(name) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return new _collection2.default(this, name, options);\n    }\n  }]);\n\n  return DB;\n}();\n\nexports.default = DB;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _db = __webpack_require__(21);\n\nvar _db2 = _interopRequireDefault(_db);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Creates a new MongoDBService instance (not meant to be instantiated directly, use\n * `.service('mongodb', '<service-name>')` on a {@link StitchClient} instance.\n *\n * @class\n * @return {MongoDBService} a MongoDBService instance.\n */\nvar MongoDBService = function () {\n  /**\n   * @hideconstructor\n   */\n  function MongoDBService(stitchClient, serviceName) {\n    _classCallCheck(this, MongoDBService);\n\n    this.stitchClient = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Get a DB instance\n   *\n   * @method\n   * @param {String} databaseName The MongoDB database name\n   * @param {Object} [options] Additional options.\n   * @return {DB} returns a DB instance representing a MongoDB database.\n   */\n\n\n  _createClass(MongoDBService, [{\n    key: 'db',\n    value: function db(databaseName) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return new _db2.default(this.stitchClient, this.serviceName, databaseName);\n    }\n  }]);\n\n  return MongoDBService;\n}();\n\nexports.default = MongoDBService;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Create a new TwilioService instance (not meant to be instantiated directly,\n * use `.service('twilio', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {TwilioService} a TwilioService instance.\n */\nvar TwilioService = function () {\n  function TwilioService(stitchClient, serviceName) {\n    _classCallCheck(this, TwilioService);\n\n    this.client = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Send a text message to a number\n   *\n   * @method\n   * @param {String} from number to send from\n   * @param {String} to number to send to\n   * @param {String} body SMS body content\n   * @return {Promise} which resolves to 'null' when message is sent successfully,\n   *                   or is rejected when there is an error\n   */\n\n\n  _createClass(TwilioService, [{\n    key: 'send',\n    value: function send(from, to, body) {\n      return (0, _util.serviceResponse)(this, {\n        action: 'send',\n        args: { from: from, to: to, body: body }\n      });\n    }\n  }]);\n\n  return TwilioService;\n}();\n\nexports.default = TwilioService;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {\n\n/**\n * Module dependencies.\n * @ignore\n */\n\nfunction convert(integer) {\n  var str = Number(integer).toString(16);\n  return str.length === 1 ? '0' + str : str;\n}\n\nfunction toExtendedJSON(obj) {\n  var base64String = Buffer.isBuffer(obj.buffer) ? obj.buffer.toString('base64') : Buffer.from(obj.buffer).toString('base64');\n\n  return {\n    $binary: {\n      base64: base64String,\n      subType: convert(obj.sub_type)\n    }\n  };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  var type = doc.$binary.subType ? parseInt(doc.$binary.subType, 16) : 0;\n\n  var data = new Buffer(doc.$binary.base64, 'base64');\n\n  return new BSON.Binary(data, type);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7).Buffer))\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj) {\n  if (obj.scope) {\n    return { $code: obj.code, $scope: obj.scope };\n  }\n\n  return { $code: obj.code };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Code(doc.$code, doc.$scope);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj) {\n  var o = {\n    $ref: obj.collection,\n    $id: obj.oid\n  };\n  if (obj.db) o.$db = obj.db;\n  o = Object.assign(o, obj.fields);\n  return o;\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  var copy = Object.assign({}, doc);\n  ['$ref', '$id', '$db'].forEach(function (k) {\n    return delete copy[k];\n  });\n  return new BSON.DBRef(doc.$ref, doc.$id, doc.$db, copy);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj) {\n  return { $numberDecimal: obj.toString() };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Decimal128.fromString(doc.$numberDecimal);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj, options) {\n  if (options && options.relaxed && isFinite(obj.value)) return obj.value;\n  return { $numberDouble: obj.value.toString() };\n}\n\nfunction fromExtendedJSON(BSON, doc, options) {\n  return options && options.relaxed ? parseFloat(doc.$numberDouble) : new BSON.Double(parseFloat(doc.$numberDouble));\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Binary = __webpack_require__(24);\nvar Code = __webpack_require__(25);\nvar DBRef = __webpack_require__(26);\nvar Decimal128 = __webpack_require__(27);\nvar Double = __webpack_require__(28);\nvar Int32 = __webpack_require__(30);\nvar Long = __webpack_require__(31);\nvar MaxKey = __webpack_require__(32);\nvar MinKey = __webpack_require__(33);\nvar ObjectID = __webpack_require__(34);\nvar BSONRegExp = __webpack_require__(35);\nvar _Symbol = __webpack_require__(36);\nvar Timestamp = __webpack_require__(37);\n\nmodule.exports = {\n  Binary: Binary,\n  Code: Code,\n  DBRef: DBRef,\n  Decimal128: Decimal128,\n  Double: Double,\n  Int32: Int32,\n  Long: Long,\n  MaxKey: MaxKey,\n  MinKey: MinKey,\n  ObjectID: ObjectID,\n  BSONRegExp: BSONRegExp,\n  Symbol: _Symbol,\n  Timestamp: Timestamp\n};\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj, options) {\n  if (options && options.relaxed) return obj.value;\n  return { $numberInt: obj.value.toString() };\n}\n\nfunction fromExtendedJSON(BSON, doc, options) {\n  return options && options.relaxed ? parseInt(doc.$numberInt, 10) : new BSON.Int32(doc.$numberInt);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj, options) {\n  if (options && options.relaxed) return obj.toNumber();\n  return { $numberLong: obj.toString() };\n}\n\nfunction fromExtendedJSON(BSON, doc, options) {\n  var result = BSON.Long.fromString(doc.$numberLong);\n  return options && options.relaxed ? result.toNumber() : result;\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON() {\n  return { $maxKey: 1 };\n}\n\nfunction fromExtendedJSON(BSON) {\n  return new BSON.MaxKey();\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON() {\n  return { $minKey: 1 };\n}\n\nfunction fromExtendedJSON(BSON) {\n  return new BSON.MinKey();\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj) {\n  if (obj.toHexString) return { $oid: obj.toHexString() };\n  return { $oid: obj.toString('hex') };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.ObjectID(doc.$oid);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj) {\n  return { $regularExpression: { pattern: obj.pattern, options: obj.options } };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.BSONRegExp(doc.$regularExpression.pattern, doc.$regularExpression.options.split('').sort().join(''));\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj) {\n  return { $symbol: obj.value };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Symbol(doc.$symbol);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj) {\n  return {\n    $timestamp: {\n      t: obj.high_,\n      i: obj.low_\n    }\n  };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Timestamp(doc.$timestamp.i, doc.$timestamp.t);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar codecs = __webpack_require__(29),\n    BSON = __webpack_require__(12);\n\nvar BSONTypes = ['Binary', 'Code', 'DBRef', 'Decimal128', 'Double', 'Int32', 'Long', 'MaxKey', 'MinKey', 'ObjectID', 'BSONRegExp', 'Symbol', 'Timestamp'];\n\nsetBSONModule(BSON);\n\n// all the types where we don't need to do any special processing and can just pass the EJSON\n//straight to type.fromExtendedJSON\nvar keysToCodecs = {\n  $oid: codecs.ObjectID,\n  $binary: codecs.Binary,\n  $symbol: codecs.Symbol,\n  $numberInt: codecs.Int32,\n  $numberDecimal: codecs.Decimal128,\n  $numberDouble: codecs.Double,\n  $numberLong: codecs.Long,\n  $minKey: codecs.MinKey,\n  $maxKey: codecs.MaxKey,\n  $regularExpression: codecs.BSONRegExp,\n  $timestamp: codecs.Timestamp\n};\n\nfunction setBSONModule(module) {\n  BSONTypes.forEach(function (t) {\n    if (!module[t]) throw new Error('passed in module does not contain all BSON types required');\n  });\n  BSON = module;\n}\n\nfunction deserializeValue(self, key, value, options) {\n  if (typeof value === 'number') {\n    // if it's an integer, should interpret as smallest BSON integer\n    // that can represent it exactly. (if out of range, interpret as double.)\n    if (Math.floor(value) === value) {\n      var int32Range = value >= BSON_INT32_MIN && value <= BSON_INT32_MAX,\n          int64Range = value >= BSON_INT64_MIN && value <= BSON_INT64_MAX;\n\n      if (int32Range) return options.strict ? new BSON.Int32(value) : value;\n      if (int64Range) return options.strict ? new BSON.Long.fromNumber(value) : value;\n    }\n    // If the number is a non-integer or out of integer range, should interpret as BSON Double.\n    return new BSON.Double(value);\n  }\n\n  // from here on out we're looking for bson types, so bail if its not an object\n  if (value == null || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object') return value;\n\n  // upgrade deprecated undefined to null\n  if (value.$undefined) return null;\n\n  var keys = Object.keys(value).filter(function (k) {\n    return k.startsWith('$') && value[k] != null;\n  });\n  for (var i = 0; i < keys.length; i++) {\n    var c = keysToCodecs[keys[i]];\n    if (c) return c.fromExtendedJSON(BSON, value, options);\n  }\n\n  if (value.$date != null) {\n    var d = value.$date,\n        date = new Date();\n\n    if (typeof d === 'string') date.setTime(Date.parse(d));else if (d instanceof BSON.Long) date.setTime(d.toNumber());else if (typeof d === 'number' && options.relaxed) date.setTime(d);\n    return date;\n  }\n\n  if (value.$code != null) {\n    if (value.$scope) var scope = deserializeValue(self, null, value.$scope);\n    var copy = Object.assign({}, value);\n    copy.$scope = scope;\n    return codecs.Code.fromExtendedJSON(BSON, value);\n  }\n\n  if (value.$ref != null || value.$dbPointer != null) {\n    var v = value.$ref ? value : value.$dbPointer;\n\n    // we run into this in a \"degenerate EJSON\" case (with $id and $ref order flipped)\n    // because of the order JSON.parse goes through the document\n    if (v instanceof BSON.DBRef) return v;\n\n    var dollarKeys = Object.keys(v).filter(function (k) {\n      return k.startsWith('$');\n    }),\n        valid = true;\n    dollarKeys.forEach(function (k) {\n      if (['$ref', '$id', '$db'].indexOf(k) === -1) valid = false;\n    });\n\n    // only make DBRef if $ keys are all valid\n    if (valid) return codecs.DBRef.fromExtendedJSON(BSON, v);\n  }\n\n  return value;\n}\n\nvar parse = function parse(text, options) {\n  var self = this;\n  options = options || { relaxed: false };\n\n  // relaxed implies not strict\n  if (typeof options.relaxed === 'boolean') options.strict = !options.relaxed;\n  if (typeof options.strict === 'boolean') options.relaxed = !options.strict;\n\n  return JSON.parse(text, function (key, value) {\n    return deserializeValue(self, key, value, options);\n  });\n};\n\n//\n// Serializer\n//\n\n// MAX INT32 boundaries\nvar BSON_INT32_MAX = 0x7fffffff,\n    BSON_INT32_MIN = -0x80000000,\n    BSON_INT64_MAX = 0x7fffffffffffffff,\n    BSON_INT64_MIN = -0x8000000000000000;\n\nvar stringify = function stringify(value, reducer, indents, options) {\n  var opts = {};\n  if (options != null && (typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') opts = options;else if (indents != null && (typeof indents === 'undefined' ? 'undefined' : _typeof(indents)) === 'object') {\n    opts = indents;\n    indents = 0;\n  } else if (reducer != null && (typeof reducer === 'undefined' ? 'undefined' : _typeof(reducer)) === 'object') {\n    opts = reducer;\n    reducer = null;\n  }\n\n  var doc = Array.isArray(value) ? serializeArray(value, opts) : serializeDocument(value, opts);\n  return JSON.stringify(doc, reducer, indents);\n};\n\nfunction serializeArray(array, options) {\n  return array.map(function (v) {\n    return serializeValue(v, options);\n  });\n}\n\nfunction getISOString(date) {\n  var isoStr = date.toISOString();\n  // we should only show milliseconds in timestamp if they're non-zero\n  return date.getUTCMilliseconds() !== 0 ? isoStr : isoStr.slice(0, -5) + 'Z';\n}\n\nfunction serializeValue(value, options) {\n  if (Array.isArray(value)) return serializeArray(value, options);\n\n  if (value === undefined) return null;\n\n  if (value instanceof Date) {\n    var dateNum = value.getTime(),\n\n    // is it in year range 1970-9999?\n    inRange = dateNum > -1 && dateNum < 253402318800000;\n\n    return options.relaxed && inRange ? { $date: getISOString(value) } : { $date: { $numberLong: value.getTime().toString() } };\n  }\n\n  if (typeof value === 'number' && !options.relaxed) {\n    // it's an integer\n    if (Math.floor(value) === value) {\n      var int32Range = value >= BSON_INT32_MIN && value <= BSON_INT32_MAX,\n          int64Range = value >= BSON_INT64_MIN && value <= BSON_INT64_MAX;\n\n      // interpret as being of the smallest BSON integer type that can represent the number exactly\n      if (int32Range) return { $numberInt: value.toString() };\n      if (int64Range) return { $numberLong: value.toString() };\n    }\n    return { $numberDouble: value.toString() };\n  }\n\n  if (value != null && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') return serializeDocument(value, options);\n  return value;\n}\n\nfunction serializeDocument(doc, options) {\n  if (doc == null || (typeof doc === 'undefined' ? 'undefined' : _typeof(doc)) !== 'object') throw new Error('not an object instance');\n\n  // the document itself is a BSON type\n  if (doc._bsontype && BSONTypes.indexOf(doc._bsontype) !== -1) {\n    // we need to separately serialize the embedded scope document\n    if (doc._bsontype === 'Code' && doc.scope) {\n      var tempScope = serializeDocument(doc.scope, options),\n          tempDoc = Object.assign({}, doc, { scope: tempScope });\n      return codecs['Code'].toExtendedJSON(tempDoc, options);\n      // we need to separately serialize the embedded OID document\n    } else if (doc._bsontype === 'DBRef' && doc.oid) {\n      var tempId = serializeDocument(doc.oid, options),\n          _tempDoc = Object.assign({}, doc, { oid: tempId });\n      return codecs['DBRef'].toExtendedJSON(_tempDoc, options);\n    }\n    return codecs[doc._bsontype].toExtendedJSON(doc, options);\n  }\n\n  // the document is an object with nested BSON types\n  var _doc = {};\n  for (var name in doc) {\n    var val = doc[name];\n    if (Array.isArray(val)) {\n      _doc[name] = serializeArray(val, options);\n    } else if (val != null && val._bsontype && BSONTypes.indexOf(val._bsontype) !== -1) {\n      // we need to separately serialize the embedded scope document\n      if (val._bsontype === 'Code' && val.scope) {\n        var _tempScope = serializeDocument(val.scope, options),\n            tempVal = Object.assign({}, val, { scope: _tempScope });\n        _doc[name] = codecs['Code'].toExtendedJSON(tempVal, options);\n        // we need to separately serialize the embedded OID document\n      } else if (val._bsontype === 'DBRef' && val.oid) {\n        var _tempId = serializeDocument(val.oid, options),\n            _tempVal = Object.assign({}, val, { oid: _tempId });\n        _doc[name] = codecs['DBRef'].toExtendedJSON(_tempVal, options);\n      } else _doc[name] = codecs[val._bsontype].toExtendedJSON(val, options);\n    } else if (val instanceof Date) {\n      _doc[name] = serializeValue(val, options);\n    } else if (val != null && (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object') {\n      _doc[name] = serializeDocument(val, options);\n    }\n    _doc[name] = serializeValue(val, options);\n    if (val instanceof RegExp) {\n      var flags = val.flags;\n      if (flags === undefined) {\n        flags = val.toString().match(/[gimuy]*$/)[0];\n      }\n      _doc[name] = codecs['BSONRegExp'].toExtendedJSON({ pattern: val.source, options: flags });\n    }\n  }\n\n  return _doc;\n}\n\nmodule.exports = {\n  parse: parse,\n  stringify: stringify,\n  setBSONModule: setBSONModule,\n  BSON: BSON\n};\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return (b64.length * 3 / 4) - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr((len * 3 / 4) - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0; i < l; i += 4) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = ((uint8[i] << 16) & 0xFF0000) + ((uint8[i + 1] << 8) & 0xFF00) + (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar detectBrowser = __webpack_require__(41);\n\nvar agent;\n\nif (typeof navigator !== 'undefined' && navigator) {\n  agent = navigator.userAgent;\n}\n\nmodule.exports = detectBrowser(agent);\n\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar detectOS = __webpack_require__(42);\n\nmodule.exports = function detectBrowser(userAgentString) {\n  if (!userAgentString) return null;\n\n  var browsers = [\n    [ 'edge', /Edge\\/([0-9\\._]+)/ ],\n    [ 'yandexbrowser', /YaBrowser\\/([0-9\\._]+)/ ],\n    [ 'vivaldi', /Vivaldi\\/([0-9\\.]+)/ ],\n    [ 'kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/ ],\n    [ 'chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'fxios', /FxiOS\\/([0-9\\.]+)/ ],\n    [ 'opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'opera', /OPR\\/([0-9\\.]+)(:?\\s|$)$/ ],\n    [ 'ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/ ],\n    [ 'ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/ ],\n    [ 'ie', /MSIE\\s(7\\.0)/ ],\n    [ 'bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/ ],\n    [ 'android', /Android\\s([0-9\\.]+)/ ],\n    [ 'ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/ ],\n    [ 'safari', /Version\\/([0-9\\._]+).*Safari/ ]\n  ];\n\n  return browsers.map(function (rule) {\n      if (rule[1].test(userAgentString)) {\n          var match = rule[1].exec(userAgentString);\n          var version = match && match[1].split(/[._]/).slice(0,3);\n\n          if (version && version.length < 3) {\n              Array.prototype.push.apply(version, (version.length == 1) ? [0, 0] : [0]);\n          }\n\n          return {\n              name: rule[0],\n              version: version.join('.'),\n              os: detectOS(userAgentString)\n          };\n      }\n  }).filter(Boolean).shift();\n};\n\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports) {\n\nmodule.exports = function detectOS(userAgentString) {\n  var operatingSystems = [\n    {\n      name: 'iOS',\n      rule: /iP(hone|od|ad)/\n    },\n    {\n      name: 'Android OS',\n      rule: /Android/\n    },\n    {\n      name: 'BlackBerry OS',\n      rule: /BlackBerry|BB10/\n    },\n    {\n      name: 'Windows Mobile',\n      rule: /IEMobile/\n    },\n    {\n      name: 'Amazon OS',\n      rule: /Kindle/\n    },\n    {\n      name: 'Windows 3.11',\n      rule: /Win16/\n    },\n    {\n      name: 'Windows 95',\n      rule: /(Windows 95)|(Win95)|(Windows_95)/\n    },\n    {\n      name: 'Windows 98',\n      rule: /(Windows 98)|(Win98)/\n    },\n    {\n      name: 'Windows 2000',\n      rule: /(Windows NT 5.0)|(Windows 2000)/\n    },\n    {\n      name: 'Windows XP',\n      rule: /(Windows NT 5.1)|(Windows XP)/\n    },\n    {\n      name: 'Windows Server 2003',\n      rule: /(Windows NT 5.2)/\n    },\n    {\n      name: 'Windows Vista',\n      rule: /(Windows NT 6.0)/\n    },\n    {\n      name: 'Windows 7',\n      rule: /(Windows NT 6.1)/\n    },\n    {\n      name: 'Windows 8',\n      rule: /(Windows NT 6.2)/\n    },\n    {\n      name: 'Windows 8.1',\n      rule: /(Windows NT 6.3)/\n    },\n    {\n      name: 'Windows 10',\n      rule: /(Windows NT 10.0)/\n    },\n    {\n      name: 'Windows ME',\n      rule: /Windows ME/\n    },\n    {\n      name: 'Open BSD',\n      rule: /OpenBSD/\n    },\n    {\n      name: 'Sun OS',\n      rule: /SunOS/\n    },\n    {\n      name: 'Linux',\n      rule: /(Linux)|(X11)/\n    },\n    {\n      name: 'Mac OS',\n      rule: /(Mac_PowerPC)|(Macintosh)/\n    },\n    {\n      name: 'QNX',\n      rule: /QNX/\n    },\n    {\n      name: 'BeOS',\n      rule: /BeOS/\n    },\n    {\n      name: 'OS/2',\n      rule: /OS\\/2/\n    },\n    {\n      name: 'Search Bot',\n      rule: /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/\n    }\n  ];\n\n  var detected = operatingSystems.filter(function (os) {\n    if (userAgentString.match(os.rule)) {\n      return true;\n    }\n  });\n\n  return detected && detected[0] ? detected[0].name : null;\n};\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports) {\n\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports) {\n\n/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction InvalidCharacterError(message) {\n  this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\nfunction polyfill (input) {\n  var str = String(input).replace(/=+$/, '');\n  if (str.length % 4 == 1) {\n    throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n  }\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0, output = '';\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n      // and if not first of each 4 characters,\n      // convert the first 8 bits to one ascii character\n      bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n  return output;\n}\n\n\nmodule.exports = typeof window !== 'undefined' && window.atob && window.atob.bind(window) || polyfill;\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar atob = __webpack_require__(45);\n\nfunction b64DecodeUnicode(str) {\n  return decodeURIComponent(atob(str).replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  }));\n}\n\nmodule.exports = function(str) {\n  var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  switch (output.length % 4) {\n    case 0:\n      break;\n    case 2:\n      output += \"==\";\n      break;\n    case 3:\n      output += \"=\";\n      break;\n    default:\n      throw \"Illegal base64url string!\";\n  }\n\n  try{\n    return b64DecodeUnicode(output);\n  } catch (err) {\n    return atob(output);\n  }\n};\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar base64_url_decode = __webpack_require__(46);\n\nfunction InvalidTokenError(message) {\n  this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = 'InvalidTokenError';\n\nmodule.exports = function (token,options) {\n  if (typeof token !== 'string') {\n    throw new InvalidTokenError('Invalid token specified');\n  }\n\n  options = options || {};\n  var pos = options.header === true ? 0 : 1;\n  try {\n    return JSON.parse(base64_url_decode(token.split('.')[pos]));\n  } catch (e) {\n    throw new InvalidTokenError('Invalid token specified: ' + e.message);\n  }\n};\n\nmodule.exports.InvalidTokenError = InvalidTokenError;\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar strictUriEncode = __webpack_require__(51);\nvar objectAssign = __webpack_require__(48);\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tformatter(decodeURIComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\n(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status === undefined ? 200 : options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// stitch.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b9de2525841362fc23ed","import * as base64 from 'Base64';\n\n/**\n * @namespace util\n * @private\n */\n\n/**\n * Utility method for executing a service action as a function call.\n *\n * @memberof util\n * @param {Object} service the service to execute the action on\n * @param {String} action the service action to execute\n * @param {Array} args the arguments to supply to the service action invocation\n * @returns {Promise} the API response from the executed service action\n */\nfunction serviceResponse(service, { serviceName = service.serviceName, action, args }) {\n  const { client } = service;\n\n  if (!client) {\n    throw new Error('Service has no client');\n  }\n\n  return client.executeServiceFunction(serviceName, action, args);\n}\n\n/**\n * Utility function to encode a JSON object into a valid string that can be\n * inserted in a URI. The object is first stringified, then encoded in base64,\n * and finally encoded via the builtin encodeURIComponent function.\n *\n * @memberof util\n * @param {Object} obj The object to encode\n * @returns {String} The encoded object\n */\nfunction uriEncodeObject(obj) {\n  return encodeURIComponent(base64.btoa(JSON.stringify(obj)));\n}\n\nexport {\n  serviceResponse,\n  uriEncodeObject\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","export const USER_AUTH_KEY = '_stitch_ua';\nexport const REFRESH_TOKEN_KEY = '_stitch_rt';\nexport const DEVICE_ID_KEY = '_stitch_did';\nexport const STATE_KEY = '_stitch_state';\nexport const USER_AUTH_COOKIE_NAME = 'stitch_ua';\nexport const STITCH_ERROR_KEY = '_stitch_error';\nexport const STITCH_LINK_KEY = '_stitch_link';\nexport const USER_LOGGED_IN_PT_KEY = '_stitch_pt';\nexport const STITCH_REDIRECT_PROVIDER = '_stitch_rp';\n\nexport const DEFAULT_ACCESS_TOKEN_EXPIRE_WITHIN_SECS = 10;\n\nexport const APP_CLIENT_CODEC = {\n  'accessToken': 'access_token',\n  'refreshToken': 'refresh_token',\n  'deviceId': 'device_id',\n  'userId': 'user_id'\n};\n\nexport const ADMIN_CLIENT_CODEC = {\n  'accessToken': 'access_token',\n  'refreshToken': 'refresh_token',\n  'deviceId': 'device_id',\n  'userId': 'user_id'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/common.js","import { StitchError } from './errors';\n\nexport const JSONTYPE = 'application/json';\nexport const APP_CLIENT_TYPE = 'app';\nexport const ADMIN_CLIENT_TYPE = 'admin';\nexport const DEFAULT_STITCH_SERVER_URL = 'https://stitch.mongodb.com';\n\n// VERSION is substituted with the package.json version number at build time\nlet version = 'unknown';\nif (typeof VERSION !== 'undefined') {\n  version = VERSION;\n}\nexport const SDK_VERSION = version;\n\nexport const checkStatus = (response) => {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  }\n\n  if (response.headers.get('Content-Type') === JSONTYPE) {\n    return response.json()\n      .then(json => {\n        const error = new StitchError(json.error, json.error_code);\n        error.response = response;\n        error.json = json;\n        return Promise.reject(error);\n      });\n  }\n\n  const error = new Error(response.statusText);\n  error.response = response;\n  return Promise.reject(error);\n};\n\nexport const makeFetchArgs = (method, body) => {\n  const init = {\n    method: method,\n    headers: { 'Accept': JSONTYPE, 'Content-Type': JSONTYPE }\n  };\n\n  if (body) {\n    init.body = body;\n  }\n\n  init.cors = true;\n  return init;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common.js","/**\n * Creates a new StitchError\n *\n * @class\n * @augments Error\n * @param {String} message The error message.\n * @param {Object} code The error code.\n * @return {StitchError} A StitchError instance.\n */\nclass StitchError extends Error {\n  constructor(message, code) {\n    super(message);\n    this.name = 'StitchError';\n    this.message = message;\n    if (code !== undefined) {\n      this.code = code;\n    }\n\n    if (typeof Error.captureStackTrace === 'function') {\n      Error.captureStackTrace(this, this.constructor);\n    } else {\n      this.stack = (new Error(message)).stack;\n    }\n  }\n}\n\nconst ErrAuthProviderNotFound = 'AuthProviderNotFound';\nconst ErrInvalidSession = 'InvalidSession';\nconst ErrUnauthorized = 'Unauthorized';\n\n\nexport {\n  StitchError,\n  ErrAuthProviderNotFound,\n  ErrInvalidSession,\n  ErrUnauthorized\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/errors.js","/* global window, fetch */\n/* eslint no-labels: ['error', { 'allowLoop': true }] */\nimport 'fetch-everywhere';\nimport { AuthFactory } from './auth';\nimport { PROVIDER_TYPE_ANON } from './auth/providers';\nimport { APP_CLIENT_CODEC } from './auth/common';\nimport ServiceRegistry from './services';\nimport * as common from './common';\nimport ExtJSON from 'mongodb-extjson';\nimport queryString from 'query-string';\nimport {\n  StitchError,\n  ErrInvalidSession,\n  ErrUnauthorized\n} from './errors';\n\nconst v1 = 1;\nconst v2 = 2;\nconst v3 = 3;\nconst API_TYPE_PUBLIC = 'public';\nconst API_TYPE_PRIVATE = 'private';\nconst API_TYPE_CLIENT = 'client';\nconst API_TYPE_APP = 'app';\n\n/**\n  * StitchClientFactory is a singleton factory class which can be used to\n  * asynchronously create instances of {@link StitchClient}. StitchClientFactory\n  * is not meant to be instantiated. Use the static `create()` method to build\n  * a new StitchClient.\n  */\nexport class StitchClientFactory {\n  /**\n   * @hideconstructor\n   */\n  constructor() {\n    throw new StitchError('StitchClient can only be made from the StitchClientFactory.create function');\n  }\n\n  /**\n   * Creates a new {@link StitchClient}.\n   *\n   * @param {String} clientAppID the app ID of the Stitch application, which can be found in\n   * the \"Clients\" page of the Stitch admin console.\n   * @param {Object} [options = {}] additional options for creating the {@link StitchClient}.\n   */\n  static create(clientAppID, options = {}) {\n    return newStitchClient(StitchClient.prototype, clientAppID, options);\n  }\n}\n\nexport function newStitchClient(prototype, clientAppID, options = {}) {\n  let stitchClient = Object.create(prototype);\n  let baseUrl = common.DEFAULT_STITCH_SERVER_URL;\n  if (options.baseUrl) {\n    baseUrl = options.baseUrl;\n  }\n\n  stitchClient.clientAppID = clientAppID;\n\n  stitchClient.authUrl = (\n    clientAppID ?\n      `${baseUrl}/api/client/v2.0/app/${clientAppID}/auth` :\n      `${baseUrl}/api/admin/v3.0/auth`\n  );\n\n  stitchClient.rootURLsByAPIVersion = {\n    [v1]: {\n      [API_TYPE_PUBLIC]: `${baseUrl}/api/public/v1.0`,\n      [API_TYPE_CLIENT]: `${baseUrl}/api/client/v1.0`,\n      [API_TYPE_PRIVATE]: `${baseUrl}/api/private/v1.0`,\n      [API_TYPE_APP]: (clientAppID ?\n        `${baseUrl}/api/client/v1.0/app/${clientAppID}` :\n        `${baseUrl}/api/public/v1.0`)\n    },\n    [v2]: {\n      [API_TYPE_PUBLIC]: `${baseUrl}/api/public/v2.0`,\n      [API_TYPE_CLIENT]: `${baseUrl}/api/client/v2.0`,\n      [API_TYPE_PRIVATE]: `${baseUrl}/api/private/v2.0`,\n      [API_TYPE_APP]: (clientAppID ?\n        `${baseUrl}/api/client/v2.0/app/${clientAppID}` :\n        `${baseUrl}/api/public/v2.0`)\n    },\n    [v3]: {\n      [API_TYPE_PUBLIC]: `${baseUrl}/api/public/v3.0`,\n      [API_TYPE_CLIENT]: `${baseUrl}/api/client/v3.0`,\n      [API_TYPE_APP]: (clientAppID ?\n        `${baseUrl}/api/client/v3.0/app/${clientAppID}` :\n        `${baseUrl}/api/admin/v3.0`)\n    }\n  };\n\n  const authOptions = {\n    codec: APP_CLIENT_CODEC,\n    storage: options.storage\n  };\n\n  if (options.storageType) {\n    authOptions.storageType = options.storageType;\n  }\n  if (options.platform) {\n    authOptions.platform = options.platform;\n  }\n  if (options.authCodec) {\n    authOptions.codec = options.authCodec;\n  }\n\n  const authPromise = AuthFactory.create(stitchClient, stitchClient.authUrl, authOptions);\n  return authPromise.then(auth => {\n    stitchClient.auth = auth;\n    return Promise.all([\n      stitchClient.auth.handleRedirect(),\n      stitchClient.auth.handleCookie()\n    ]);\n  }).then(() => stitchClient);\n}\n/**\n * StitchClient is the fundamental way of communicating with MongoDB Stitch in your\n * application. Use StitchClient to authenticate users and to access Stitch services.\n * StitchClient is not meant to be instantiated directly. Use a\n * {@link StitchClientFactory} to create one.\n */\nexport class StitchClient {\n  /**\n   * @hideconstructor\n   */\n  constructor() {\n    let classname = this.constructor.name;\n    throw new StitchError(`${classname} can only be made from the ${classname}Factory.create function`);\n  }\n\n  get type() {\n    return common.APP_CLIENT_TYPE;\n  }\n\n  /**\n   * Login to Stitch instance, optionally providing a username and password. In\n   * the event that these are omitted, anonymous authentication is used.\n   *\n   * @param {String} [email] the email address used for login\n   * @param {String} [password] the password for the provided email address\n   * @param {Object} [options = {}] additional authentication options\n   * @returns {Promise} which resolve to a String value: the authenticated user ID.\n   */\n  login(email, password, options = {}) {\n    if (email === undefined || password === undefined) {\n      return this.authenticate(PROVIDER_TYPE_ANON, options);\n    }\n\n    return this.authenticate('userpass', Object.assign({ username: email, password }, options));\n  }\n\n  /**\n   * Send a request to the server indicating the provided email would like\n   * to sign up for an account. This will trigger a confirmation email containing\n   * a token which must be used with the `emailConfirm` method of the `userpass`\n   * auth provider in order to complete registration. The user will not be able\n   * to log in until that flow has been completed.\n   *\n   * @param {String} email the email used to sign up for the app\n   * @param {String} password the password used to sign up for the app\n   * @param {Object} [options = {}] additional authentication options\n   * @returns {Promise}\n   */\n  register(email, password, options = {}) {\n    return this.auth.provider('userpass').register(email, password, options);\n  }\n\n\n  /**\n   * Links the currently logged in user with another identity.\n   *\n   * @param {String} providerType the provider of the other identity (e.g. 'userpass', 'facebook', 'google')\n   * @param {Object} [options = {}] additional authentication options\n   * @returns {Promise} which resolves to a String value: the original user ID\n   */\n  linkWithProvider(providerType, options = {}) {\n    if (!this.isAuthenticated()) {\n      throw new StitchError('Must be authenticated to link an account');\n    }\n\n    return this.auth.provider(providerType).authenticate(options, true).then(() => this.authedId());\n  }\n\n  /**\n   * Submits an authentication request to the specified provider providing any\n   * included options (read: user data).  If auth data already exists and the\n   * existing auth data has an access token, then these credentials are returned.\n   *\n   * @param {String} providerType the provider used for authentication (The possible\n   *                 options are 'anon', 'userpass', 'custom', 'facebook', 'google',\n   *                 and 'apiKey')\n   * @param {Object} [options = {}] additional authentication options\n   * @returns {Promise} which resolves to a String value: the authenticated user ID\n   */\n  authenticate(providerType, options = {}) {\n    // reuse existing auth if present\n    const authenticateFn = () =>\n      this.auth.provider(providerType).authenticate(options).then(() => this.authedId());\n\n    if (this.isAuthenticated()) {\n      if (providerType === PROVIDER_TYPE_ANON && this.auth.getLoggedInProviderType() === PROVIDER_TYPE_ANON) {\n        return Promise.resolve(this.auth.authedId); // is authenticated, skip log in\n      }\n\n      return this.logout().then(() => authenticateFn()); // will not be authenticated, continue log in\n    }\n\n    // is not authenticated, continue log in\n    return authenticateFn();\n  }\n\n  /**\n   * Ends the session for the current user, and clears auth information from storage.\n   *\n   * @returns {Promise}\n   */\n  logout() {\n    return this._do(\n      '/auth/session',\n      'DELETE',\n      {\n        refreshOnFailure: false,\n        useRefreshToken: true,\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT]\n      }\n    ).then(() => this.auth.clear(), () => this.auth.clear());\n  }\n\n  /**\n   * @returns {*} Returns any error from the Stitch authentication system.\n   */\n  authError() {\n    return this.auth.error();\n  }\n\n  /**\n   * Returns profile information for the currently logged in user.\n   *\n   * @returns {Promise} which resolves to a a JSON object containing user profile information.\n   */\n  userProfile() {\n    return this._do(\n      '/auth/profile',\n      'GET',\n      {rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT]},\n    ).then(response => response.json());\n  }\n\n  /**\n  * @returns {Boolean} whether or not the current client is authenticated.\n  */\n  isAuthenticated() {\n    return !!this.authedId();\n  }\n\n  /**\n   *  @returns {String} a string of the currently authenticated user's ID.\n   */\n  authedId() {\n    return this.auth.authedId;\n  }\n\n  /**\n   * Factory method for accessing Stitch services.\n   *\n   * @method\n   * @param {String} type the service type (e.g. \"mongodb\", \"aws-s3\", \"aws-ses\", \"twilio\", \"http\", etc.)\n   * @param {String} name the service name specified in the Stitch admin console.\n   * @returns {Object} returns an instance of the specified service type.\n   */\n  service(type, name) {\n    if (this.constructor !== StitchClient) {\n      throw new StitchError('`service` is a factory method, do not use `new`');\n    }\n\n    if (!ServiceRegistry.hasOwnProperty(type)) {\n      throw new StitchError('Invalid service type specified: ' + type);\n    }\n\n    const ServiceType = ServiceRegistry[type];\n    return new ServiceType(this, name);\n  }\n\n  /**\n   * Executes a function.\n   *\n   * @param {String} name The name of the function.\n   * @param {...*} args Arguments to pass to the function.\n   */\n  executeFunction(name, ...args) {\n    return this._doFunctionCall({\n      name,\n      arguments: args\n    });\n  }\n\n  /**\n   * Executes a service function.\n   *\n   * @param {String} service The name of the service.\n   * @param {String} action The name of the service action.\n   * @param {...*} args Arguments to pass to the service action.\n   */\n  executeServiceFunction(service, action, ...args) {\n    return this._doFunctionCall({\n      service,\n      name: action,\n      arguments: args\n    });\n  }\n\n  _doFunctionCall(request) {\n    let responseDecoder = (d) => ExtJSON.parse(d, { relaxed: true });\n    let responseEncoder = (d) => ExtJSON.stringify(d, { strict: true });\n\n    return this._do('/functions/call', 'POST', { body: responseEncoder(request) })\n      .then(response => response.text())\n      .then(body => responseDecoder(body));\n  }\n\n  /**\n   * Returns an access token for the user\n   *\n   * @private\n   * @returns {Promise}\n   */\n  doSessionPost() {\n    return this._do(\n      '/auth/session',\n      'POST',\n      {\n        refreshOnFailure: false,\n        useRefreshToken: true,\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT]\n      }\n    )\n      .then(response => response.json());\n  }\n\n  /**\n   * Returns the user API keys associated with the current user.\n   *\n   * @returns {Promise} which resolves to an array of API key objects\n   */\n  getApiKeys() {\n    return this._do(\n      '/auth/api_keys',\n      'GET',\n      {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      },\n    )\n      .then((response) => response.json());\n  }\n\n  /**\n   * Creates a user API key that can be used to authenticate as the current user.\n   *\n   * @param {String} userApiKeyName a unique name for the user API key\n   * @returns {Promise} which resolves to an API key object containing the API key value\n   */\n  createApiKey(userApiKeyName) {\n    return this._do(\n      '/auth/api_keys',\n      'POST',\n      { rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true,\n        body: JSON.stringify({'name': userApiKeyName})\n      },\n    )\n      .then((response) => response.json());\n  }\n\n  /**\n   * Returns a user API key associated with the current user.\n   *\n   * @param {String} keyID the ID of the key to fetch\n   * @returns {Promise} which resolves to an API key object, although the API key value will be omitted\n   */\n  getApiKeyByID(keyID) {\n    return this._do(\n      `/auth/api_keys/${keyID}`,\n      'GET',\n      {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      },\n    )\n      .then((response) => response.json());\n  }\n\n  /**\n   * Deletes a user API key associated with the current user.\n   *\n   * @param {String} keyID the ID of the key to delete\n   * @returns {Promise}\n   */\n  deleteApiKeyByID(keyID) {\n    return this._do(\n      `/auth/api_keys/${keyID}`,\n      'DELETE',\n      {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      },\n    );\n  }\n\n  /**\n   * Enables a user API key associated with the current user.\n   *\n   * @param {String} keyID the ID of the key to enable\n   * @returns {Promise}\n   */\n  enableApiKeyByID(keyID) {\n    return this._do(\n      `/auth/api_keys/${keyID}/enable`,\n      'PUT',\n      {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      },\n    );\n  }\n\n  /**\n   * Disables a user API key associated with the current user.\n   *\n   * @param {String} keyID the ID of the key to disable\n   * @returns {Promise}\n   */\n  disableApiKeyByID(keyID) {\n    return this._do(\n      `/auth/api_keys/${keyID}/disable`,\n      'PUT',\n      {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      },\n    );\n  }\n\n  _fetch(url, fetchArgs, resource, method, options) {\n    return fetch(url, fetchArgs)\n      .then(response => {\n        // Okay: passthrough\n        if (response.status >= 200 && response.status < 300) {\n          return Promise.resolve(response);\n        }\n\n        if (response.headers.get('Content-Type') === common.JSONTYPE) {\n          return response.json()\n            .then(json => {\n              // Only want to try refreshing token when there's an invalid session\n              if ('error_code' in json && json.error_code === ErrInvalidSession) {\n                if (!options.refreshOnFailure) {\n                  return this.auth.clear().then(() => {\n                    const error = new StitchError(json.error, json.error_code);\n                    error.response = response;\n                    error.json = json;\n                    throw error;\n                  });\n                }\n\n                return this.auth.refreshToken()\n                  .then(() => {\n                    options.refreshOnFailure = false;\n                    return this._do(resource, method, options);\n                  });\n              }\n\n              const error = new StitchError(json.error, json.error_code);\n              error.response = response;\n              error.json = json;\n              return Promise.reject(error);\n            });\n        }\n\n        const error = new Error(response.statusText);\n        error.response = response;\n        return Promise.reject(error);\n      });\n  }\n\n  _fetchArgs(resource, method, options) {\n    const appURL = this.rootURLsByAPIVersion[options.apiVersion][options.apiType];\n    let url = `${appURL}${resource}`;\n    if (options.rootURL) {\n      url = `${options.rootURL}${resource}`;\n    }\n    let fetchArgs = common.makeFetchArgs(method, options.body);\n\n    if (!!options.headers) {\n      Object.assign(fetchArgs.headers, options.headers);\n    }\n\n    if (options.queryParams) {\n      url = `${url}?${queryString.stringify(options.queryParams)}`;\n    }\n\n    return { url, fetchArgs };\n  }\n\n  _do(resource, method, options) {\n    options = Object.assign({}, {\n      refreshOnFailure: true,\n      useRefreshToken: false,\n      apiVersion: v2,\n      apiType: API_TYPE_APP,\n      rootURL: undefined\n    }, options);\n\n    let { url, fetchArgs } = this._fetchArgs(resource, method, options);\n    if (options.noAuth) {\n      return this._fetch(url, fetchArgs, resource, method, options);\n    }\n\n    if (!this.isAuthenticated()) {\n      return Promise.reject(new StitchError('Must auth first', ErrUnauthorized));\n    }\n    const token =\n      options.useRefreshToken ? this.auth.getRefreshToken() : this.auth.getAccessToken();\n\n    fetchArgs.headers.Authorization = `Bearer ${token}`;\n    return this._fetch(url, fetchArgs, resource, method, options);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client.js","'use strict';\nconst ExtJSON = require('./lib/ext_json');\nmodule.exports = ExtJSON;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/index.js","/**\n * @private\n * @module auth\n */\nimport * as common from '../common';\nimport * as authCommon from './common';\nimport { uriEncodeObject } from '../util';\n\nexport const PROVIDER_TYPE_ANON = 'anon';\nexport const PROVIDER_TYPE_CUSTOM = 'custom';\nexport const PROVIDER_TYPE_USERPASS = 'userpass';\nexport const PROVIDER_TYPE_APIKEY = 'apiKey';\nexport const PROVIDER_TYPE_GOOGLE = 'google';\nexport const PROVIDER_TYPE_FACEBOOK = 'facebook';\nexport const PROVIDER_TYPE_MONGODB_CLOUD = 'mongodbCloud';\n\nfunction urlWithLinkParam(url, link) {\n  if (link) {\n    return url + '?link=true';\n  }\n\n  return url;\n}\n\n/**\n * @private\n * @namespace\n */\nfunction anonProvider(auth) {\n  return {\n    /**\n     * Login to a stitch application using anonymous authentication\n     *\n     * @memberof anonProvider\n     * @instance\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (options, link) => {\n      const deviceId = auth.getDeviceId();\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n      const fetchArgs = common.makeFetchArgs('GET');\n      fetchArgs.cors = true;\n\n      return fetch(\n        urlWithLinkParam(`${auth.rootUrl}/providers/anon-user/login?device=${uriEncodeObject(device)}`, link),\n        auth.fetchArgsWithLink(fetchArgs, link)\n      ).then(common.checkStatus)\n        .then(response => response.json())\n        .then(json => auth.set(json, PROVIDER_TYPE_ANON));\n    }\n  };\n}\n\n/**\n  * @private\n  * @namespace\n  */\nfunction customProvider(auth) {\n  const providerRoute = 'providers/custom-token';\n  const loginRoute = `${providerRoute}/login`;\n\n  return {\n    /**\n     * Login to a stitch application using custom authentication\n     *\n     * @memberof customProvider\n     * @instance\n     * @param {String} JWT token to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (token, link) => {\n      const deviceId = auth.getDeviceId();\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n      const fetchArgs = common.makeFetchArgs(\n        'POST',\n        JSON.stringify({ token, options: { device } })\n      );\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link), auth.fetchArgsWithLink(fetchArgs, link))\n        .then(common.checkStatus)\n        .then(response => response.json())\n        .then(json => auth.set(json, PROVIDER_TYPE_CUSTOM));\n    }\n  };\n}\n\n/**\n * userPassProvider offers several methods for completing certain tasks necessary for email/password\n * authentication. userPassProvider cannot be instantiated directly. To instantiate,\n * use `.auth.providers('userpass')` on a {@link StitchClient}.\n *\n * @namespace\n */\nfunction userPassProvider(auth) {\n  // The ternary expression here is redundant but is just preserving previous behavior based on whether or not\n  // the client is for the admin or client API.\n  const providerRoute = auth.isAppClient() ? 'providers/local-userpass' : 'providers/local-userpass';\n  const loginRoute = auth.isAppClient() ? `${providerRoute}/login` : `${providerRoute}/login`;\n\n  return {\n    /**\n     * Login to a stitch application using username and password authentication\n     *\n     * @private\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} username the username to use for authentication\n     * @param {String} password the password to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: ({ username, password }, link) => {\n      const deviceId = auth.getDeviceId();\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n      const fetchArgs = common.makeFetchArgs(\n        'POST',\n        JSON.stringify({ username, password, options: { device } })\n      );\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link), auth.fetchArgsWithLink(fetchArgs, link))\n        .then(common.checkStatus)\n        .then(response => response.json())\n        .then(json => auth.set(json, PROVIDER_TYPE_USERPASS));\n    },\n\n    /**\n     * Completes the email confirmation workflow from the Stitch server\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} tokenId the tokenId provided by the Stitch server\n     * @param {String} token the token provided by the Stitch server\n     * @returns {Promise}\n     */\n    emailConfirm: (tokenId, token) => {\n      const fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ tokenId, token }));\n      fetchArgs.cors = true;\n\n      return fetch(`${auth.rootUrl}/${providerRoute}/confirm`, fetchArgs)\n        .then(common.checkStatus)\n        .then(response => response.json());\n    },\n\n    /**\n     * Request that the stitch server send another email confirmation\n     * for account creation.\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} email the email address to send a confirmation email for\n     * @returns {Promise}\n     */\n    sendEmailConfirm: (email) => {\n      const fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ email }));\n      fetchArgs.cors = true;\n\n      return fetch(`${auth.rootUrl}/${providerRoute}/confirm/send`, fetchArgs)\n        .then(common.checkStatus)\n        .then(response => response.json());\n    },\n\n    /**\n     * Sends a password reset request to the Stitch server\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} email the email address of the account to reset the password for\n     * @returns {Promise}\n     */\n    sendPasswordReset: (email) => {\n      const fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ email }));\n      fetchArgs.cors = true;\n\n      return fetch(`${auth.rootUrl}/${providerRoute}/reset/send`, fetchArgs)\n        .then(common.checkStatus)\n        .then(response => response.json());\n    },\n\n    /**\n     * Use information returned from the Stitch server to complete the password\n     * reset flow for a given email account, providing a new password for the account.\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} tokenId the tokenId provided by the Stitch server\n     * @param {String} token the token provided by the Stitch server\n     * @param {String} password the new password requested for this account\n     * @returns {Promise}\n     */\n    passwordReset: (tokenId, token, password) => {\n      const fetchArgs =\n        common.makeFetchArgs('POST', JSON.stringify({ tokenId, token, password }));\n      fetchArgs.cors = true;\n\n      return fetch(`${auth.rootUrl}/${providerRoute}/reset`, fetchArgs)\n        .then(common.checkStatus)\n        .then(response => response.json());\n    },\n\n\n    /**\n     * Will trigger an email to the requested account containing a link with the\n     * token and tokenId that must be returned to the server using emailConfirm()\n     * to activate the account.\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} email the requested email for the account\n     * @param {String} password the requested password for the account\n     * @returns {Promise}\n     */\n    register: (email, password) => {\n      const fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ email, password }));\n      fetchArgs.cors = true;\n\n      return fetch(`${auth.rootUrl}/${providerRoute}/register`, fetchArgs)\n        .then(common.checkStatus)\n        .then(response => response.json());\n    }\n  };\n}\n\n/**\n * @private\n * @namespace\n */\nfunction apiKeyProvider(auth) {\n  // The ternary expression here is redundant but is just preserving previous behavior based on whether or not\n  // the client is for the admin or client API.\n  const loginRoute = auth.isAppClient() ? 'providers/api-key/login' : 'providers/api-key/login';\n\n  return {\n    /**\n     * Login to a stitch application using an api key\n     *\n     * @memberof apiKeyProvider\n     * @instance\n     * @param {String} key the key for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (key, link) => {\n      const deviceId = auth.getDeviceId();\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n      const fetchArgs = common.makeFetchArgs(\n        'POST',\n        JSON.stringify({ 'key': key, 'options': { device } })\n      );\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link), auth.fetchArgsWithLink(fetchArgs, link))\n        .then(common.checkStatus)\n        .then(response => response.json())\n        .then(json => auth.set(json, PROVIDER_TYPE_APIKEY));\n    }\n  };\n}\n\n// The state we generate is to be used for any kind of request where we will\n// complete an authentication flow via a redirect. We store the generate in\n// a local storage bound to the app's origin. This ensures that any time we\n// receive a redirect, there must be a state parameter and it must match\n// what we ourselves have generated. This state MUST only be sent to\n// a trusted Stitch endpoint in order to preserve its integrity. Stitch will\n// store it in some way on its origin (currently a cookie stored on this client)\n// and use that state at the end of an auth flow as a parameter in the redirect URI.\nconst alpha = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\nfunction generateState() {\n  let state = '';\n  for (let i = 0; i < 64; ++i) {\n    state += alpha.charAt(Math.floor(Math.random() * alpha.length));\n  }\n\n  return state;\n}\n\nfunction getOAuthLoginURL(auth, providerName, redirectUrl) {\n  if (redirectUrl === undefined) {\n    redirectUrl = auth.pageRootUrl();\n  }\n\n  const state = generateState();\n  return auth.storage.set(authCommon.STATE_KEY, state)\n    .then(() => auth.getDeviceId())\n    .then(deviceId => {\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n      const result = `${auth.rootUrl}/providers/oauth2-${providerName}/login?redirect=${encodeURI(redirectUrl)}&state=${state}&device=${uriEncodeObject(device)}`;\n      return result;\n    });\n}\n\n/**\n * @private\n * @namespace\n */\nfunction googleProvider(auth) {\n  const loginRoute = auth.isAppClient() ? 'providers/oauth2-google/login' : 'providers/oauth2-google/login';\n\n  return {\n    /**\n     * Login to a stitch application using google authentication\n     *\n     * @memberof googleProvider\n     * @instance\n     * @param {Object} data the redirectUrl data to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (data, link) => {\n      let { authCode } = data;\n      if (authCode) {\n        const deviceId = auth.getDeviceId();\n        const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n        const fetchArgs = common.makeFetchArgs(\n          'POST',\n          JSON.stringify({ authCode, options: { device } })\n        );\n\n        return fetch(urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link), auth.fetchArgsWithLink(fetchArgs, link))\n          .then(common.checkStatus)\n          .then(response => response.json())\n          .then(json => auth.set(json, PROVIDER_TYPE_GOOGLE));\n      }\n\n      const redirectUrl = (data && data.redirectUrl) ? data.redirectUrl : undefined;\n      return auth.storage.set(authCommon.STITCH_REDIRECT_PROVIDER, PROVIDER_TYPE_GOOGLE)\n        .then(() => getOAuthLoginURL(auth, PROVIDER_TYPE_GOOGLE, redirectUrl))\n        .then((res) => window.location.replace(res));\n    }\n  };\n}\n\n/**\n * @private\n * @namespace\n */\nfunction facebookProvider(auth) {\n  const loginRoute = auth.isAppClient() ? 'providers/oauth2-facebook/login' : 'providers/oauth2-facebook/login';\n\n  return {\n    /**\n     * Login to a stitch application using facebook authentication\n     *\n     * @memberof facebookProvider\n     * @instance\n     * @param {Object} data the redirectUrl data to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (data, link) => {\n      let { accessToken } = data;\n\n      if (accessToken) {\n        const deviceId = auth.getDeviceId();\n        const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n        const fetchArgs = common.makeFetchArgs(\n          'POST',\n          JSON.stringify({ accessToken, options: { device } })\n        );\n\n        return fetch(urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link), auth.fetchArgsWithLink(fetchArgs, link))\n          .then(common.checkStatus)\n          .then(response => response.json())\n          .then(json => auth.set(json, PROVIDER_TYPE_FACEBOOK));\n      }\n\n      const redirectUrl = (data && data.redirectUrl) ? data.redirectUrl : undefined;\n      return auth.storage.set(authCommon.STITCH_REDIRECT_PROVIDER, PROVIDER_TYPE_FACEBOOK)\n        .then(() => getOAuthLoginURL(auth, PROVIDER_TYPE_FACEBOOK, redirectUrl))\n        .then((res) => window.location.replace(res));\n    }\n  };\n}\n\n/**\n * @private\n * @namespace\n */\nfunction mongodbCloudProvider(auth) {\n  // The ternary expression here is redundant but is just preserving previous behavior based on whether or not\n  // the client is for the admin or client API.\n  const loginRoute = auth.isAppClient() ? 'providers/mongodb-cloud/login' : 'providers/mongodb-cloud/login';\n\n  return {\n    /**\n     * Login to a stitch application using mongodb cloud authentication\n     *\n     * @memberof mongodbCloudProvider\n     * @instance\n     * @param {Object} data the username, apiKey, cors, and cookie data to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (data, link) => {\n      const { username, apiKey, cors, cookie } = data;\n      const options = Object.assign({}, { cors: true, cookie: false }, { cors: cors, cookie: cookie });\n      const deviceId = auth.getDeviceId();\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n      const fetchArgs = common.makeFetchArgs(\n        'POST',\n        JSON.stringify({ username, apiKey, options: { device } })\n      );\n      fetchArgs.cors = true;  // TODO: shouldn't this use the passed in `cors` value?\n      fetchArgs.credentials = 'include';\n\n      let url = urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link);\n      if (options.cookie) {\n        return fetch(url + '?cookie=true', fetchArgs)\n          .then(common.checkStatus);\n      }\n\n      return fetch(url, auth.fetchArgsWithLink(fetchArgs, link))\n        .then(common.checkStatus)\n        .then(response => response.json())\n        .then(json => auth.set(json, PROVIDER_TYPE_MONGODB_CLOUD));\n    }\n  };\n}\n\n// TODO: support auth-specific options\nfunction createProviders(auth, options = {}) {\n  return {\n    [PROVIDER_TYPE_ANON]: anonProvider(auth),\n    [PROVIDER_TYPE_APIKEY]: apiKeyProvider(auth),\n    [PROVIDER_TYPE_GOOGLE]: googleProvider(auth),\n    [PROVIDER_TYPE_FACEBOOK]: facebookProvider(auth),\n    [PROVIDER_TYPE_MONGODB_CLOUD]: mongodbCloudProvider(auth),\n    [PROVIDER_TYPE_USERPASS]: userPassProvider(auth),\n    [PROVIDER_TYPE_CUSTOM]: customProvider(auth)\n  };\n}\n\nexport { createProviders };\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/providers.js","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/buffer/index.js\n// module id = 7\n// module chunks = 0","// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\nrequire('whatwg-fetch');\nvar globalObj = typeof self !== 'undefined' && self || this;\nmodule.exports = globalObj.fetch.bind(globalObj);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fetch-everywhere/fetch-npm-browserify.js\n// module id = 8\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 9\n// module chunks = 0","/* global window, fetch */\n/* eslint no-labels: ['error', { 'allowLoop': true }] */\nimport 'fetch-everywhere';\nimport { newStitchClient, StitchClient } from './client';\nimport ADMIN_CLIENT_TYPE from './common';\nimport { ADMIN_CLIENT_CODEC } from './auth/common';\nimport { StitchError } from './errors';\n\nconst v3 = 3;\n\n/** @private **/\nexport class StitchAdminClientFactory {\n  constructor() {\n    throw new StitchError('StitchAdminClient can only be made from the StitchAdminClientFactory.create function');\n  }\n\n  static create(baseUrl) {\n    return newStitchClient(StitchAdminClient.prototype, '', {baseUrl, authCodec: ADMIN_CLIENT_CODEC});\n  }\n}\n\n/** @private */\nexport class StitchAdminClient extends StitchClient {\n  constructor() {\n    super();\n  }\n\n  get type() {\n    return ADMIN_CLIENT_TYPE;\n  }\n\n  get _v3() {\n    const v3do = (url, method, options) =>\n      super._do(\n        url,\n        method,\n        Object.assign({}, { apiVersion: v3 }, options)\n      ).then(response => {\n        const contentHeader = response.headers.get('content-type') || '';\n        if (contentHeader.split(',').indexOf('application/json') >= 0) {\n          return response.json();\n        }\n        return response;\n      });\n\n    return {\n      _get: (url, queryParams) => v3do(url, 'GET', {queryParams}),\n      _put: (url, data) =>\n        (data ?\n          v3do(url, 'PUT', {body: JSON.stringify(data)}) :\n          v3do(url, 'PUT')),\n      _patch: (url, data) =>\n        (data ?\n          v3do(url, 'PATCH', {body: JSON.stringify(data)}) :\n          v3do(url, 'PATCH')),\n      _delete: (url)  => v3do(url, 'DELETE'),\n      _post: (url, body, queryParams) =>\n        (queryParams ?\n          v3do(url, 'POST', { body: JSON.stringify(body), queryParams }) :\n          v3do(url, 'POST', { body: JSON.stringify(body) }))\n    };\n  }\n\n  /**\n   * Ends the session for the current user.\n   *\n   * @returns {Promise}\n   */\n  logout() {\n    return super._do('/auth/session', 'DELETE', { refreshOnFailure: false, useRefreshToken: true, apiVersion: v3 })\n      .then(() => this.auth.clear());\n  }\n\n  /**\n   * Returns profile information for the currently logged in user\n   *\n   * @returns {Promise}\n   */\n  userProfile() {\n    return this._v3._get('/auth/profile');\n  }\n\n  /**\n   * Returns available providers for the currently logged in admin\n   *\n   * @returns {Promise}\n   */\n  getAuthProviders() {\n    return super._do('/auth/providers', 'GET', { noAuth: true, apiVersion: v3 })\n      .then(response => response.json());\n  }\n\n  /**\n   * Returns an access token for the user\n   *\n   * @returns {Promise}\n   */\n  doSessionPost() {\n    return super._do('/auth/session', 'POST', { refreshOnFailure: false, useRefreshToken: true, apiVersion: v3 })\n      .then(response => response.json());\n  }\n\n  /* Examples of how to access admin API with this client:\n   *\n   * List all apps\n   *    a.apps('580e6d055b199c221fcb821c').list()\n   *\n   * Fetch app under name 'planner'\n   *    a.apps('580e6d055b199c221fcb821c').app('planner').get()\n   *\n   * List services under the app 'planner'\n   *    a.apps('580e6d055b199c221fcb821c').app('planner').services().list()\n   *\n   * Delete a rule by ID\n   *    a.apps('580e6d055b199c221fcb821c').app('planner').services().service('mdb1').rules().rule('580e6d055b199c221fcb821d').remove()\n   *\n   */\n  apps(groupId) {\n    const api = this._v3;\n    const groupUrl = `/groups/${groupId}/apps`;\n    return {\n      list: () => api._get(groupUrl),\n      create: (data, options) => {\n        let query = (options && options.defaults) ? '?defaults=true' : '';\n        return api._post(groupUrl + query, data);\n      },\n\n      app: (appId) => {\n        const appUrl = `${groupUrl}/${appId}`;\n        return {\n          get: () => api._get(appUrl),\n          remove: () => api._delete(appUrl),\n\n          export: () => api._get(`${appUrl}/export`),\n\n          values: () => ({\n            list: () => api._get(`${appUrl}/values`),\n            create: (data) => api._post( `${appUrl}/values`, data),\n            value: (valueId) => {\n              const valueUrl = `${appUrl}/values/${valueId}`;\n              return {\n                get: ()=> api._get(valueUrl),\n                remove: ()=> api._delete(valueUrl),\n                update: (data) => api._put(valueUrl, data)\n              };\n            }\n          }),\n\n          services: () => ({\n            list: () => api._get(`${appUrl}/services`),\n            create: (data) => api._post(`${appUrl}/services`, data),\n            service: (serviceId) => ({\n              get: () => api._get(`${appUrl}/services/${serviceId}`),\n              remove: () => api._delete(`${appUrl}/services/${serviceId}`),\n              update: (data) => api._patch(`${appUrl}/services/${serviceId}`, data),\n              runCommand: (commandName, data) => api._post(`${appUrl}/services/${serviceId}/commands/${commandName}`, data),\n              config: ()=> ({\n                get: () => api._get(`${appUrl}/services/${serviceId}/config`),\n                update: (data) => api._patch(`${appUrl}/services/${serviceId}/config`, data)\n              }),\n\n              rules: () => ({\n                list: () => api._get(`${appUrl}/services/${serviceId}/rules`),\n                create: (data) => api._post(`${appUrl}/services/${serviceId}/rules`, data),\n                rule: (ruleId) => {\n                  const ruleUrl = `${appUrl}/services/${serviceId}/rules/${ruleId}`;\n                  return {\n                    get: () => api._get(ruleUrl),\n                    update: (data) => api._put(ruleUrl, data),\n                    remove: () => api._delete(ruleUrl)\n                  };\n                }\n              }),\n\n              incomingWebhooks: () => ({\n                list: () => api._get(`${appUrl}/services/${serviceId}/incoming_webhooks`),\n                create: (data) => api._post(`${appUrl}/services/${serviceId}/incoming_webhooks`, data),\n                incomingWebhook: (incomingWebhookId) => {\n                  const webhookUrl = `${appUrl}/services/${serviceId}/incoming_webhooks/${incomingWebhookId}`;\n                  return {\n                    get: () => api._get(webhookUrl),\n                    update: (data) => api._put(webhookUrl, data),\n                    remove: () => api._delete(webhookUrl)\n                  };\n                }\n              })\n            })\n          }),\n\n          pushNotifications: () => ({\n            list: (filter) => api._get(`${appUrl}/push/notifications`, filter),\n            create: (data) => api._post(`${appUrl}/push/notifications`, data),\n            pushNotification: (messageId) => ({\n              get: () => api._get(`${appUrl}/push/notifications/${messageId}`),\n              update: (data) => api._put(`${appUrl}/push/notifications/${messageId}`, data),\n              remove: () => api._delete(`${appUrl}/push/notifications/${messageId}`),\n              send: () => api._post(`${appUrl}/push/notifications/${messageId}/send`)\n            })\n          }),\n\n          users: () => ({\n            list: (filter) => api._get(`${appUrl}/users`, filter),\n            create: (user) => api._post(`${appUrl}/users`, user),\n            user: (uid) => ({\n              get: () => api._get(`${appUrl}/users/${uid}`),\n              devices: () => ({\n                get: () => api._get(`${appUrl}/users/${uid}/devices`)\n              }),\n              logout: () => api._put(`${appUrl}/users/${uid}/logout`),\n              enable: () => api._put(`${appUrl}/users/${uid}/enable`),\n              disable: () => api._put(`${appUrl}/users/${uid}/disable`),\n              remove: () => api._delete(`${appUrl}/users/${uid}`)\n            })\n          }),\n\n          userRegistrations: () => ({\n            sendConfirmationEmail: (email) => api._post(`${appUrl}/user_registrations/by_email/${email}/send_confirm`)\n          }),\n\n          debug: () => ({\n            executeFunction: (userId, name = '', ...args) => {\n              return api._post(\n                `${appUrl}/debug/execute_function`,\n                {name, 'arguments': args},\n                { user_id: userId });\n            },\n            executeFunctionSource: (userId, source = '', evalSource = '') => {\n              return api._post(\n                `${appUrl}/debug/execute_function_source`,\n                {source, 'eval_source': evalSource},\n                { user_id: userId });\n            }\n          }),\n\n          authProviders: () => ({\n            list: () => api._get(`${appUrl}/auth_providers`),\n            create: (data) => api._post(`${appUrl}/auth_providers`, data),\n            authProvider: (providerId) => ({\n              get: () => api._get(`${appUrl}/auth_providers/${providerId}`),\n              update: (data) => api._patch(`${appUrl}/auth_providers/${providerId}`, data),\n              enable: () => api._put(`${appUrl}/auth_providers/${providerId}/enable`),\n              disable: () => api._put(`${appUrl}/auth_providers/${providerId}/disable`),\n              remove: () => api._delete(`${appUrl}/auth_providers/${providerId}`)\n            })\n          }),\n\n          security: () => ({\n            allowedRequestOrigins: () => ({\n              get: () => api._get(`${appUrl}/security/allowed_request_origins`),\n              update: (data) => api._post(`${appUrl}/security/allowed_request_origins`, data)\n            })\n          }),\n\n          logs: () => ({\n            list: (filter) => api._get(`${appUrl}/logs`, filter)\n          }),\n\n          apiKeys: () => ({\n            list: () => api._get(`${appUrl}/api_keys`),\n            create: (data) => api._post(`${appUrl}/api_keys`, data),\n            apiKey: (apiKeyId) => ({\n              get: () => api._get(`${appUrl}/api_keys/${apiKeyId}`),\n              remove: () => api._delete(`${appUrl}/api_keys/${apiKeyId}`),\n              enable: () => api._put(`${appUrl}/api_keys/${apiKeyId}/enable`),\n              disable: () => api._put(`${appUrl}/api_keys/${apiKeyId}/disable`)\n            })\n          }),\n\n          functions: () => ({\n            list: () => api._get(`${appUrl}/functions`),\n            create: (data) => api._post(`${appUrl}/functions`, data),\n            function: (functionId) => ({\n              get: () => api._get(`${appUrl}/functions/${functionId}`),\n              update: (data) => api._put(`${appUrl}/functions/${functionId}`, data),\n              remove: () => api._delete(`${appUrl}/functions/${functionId}`)\n            })\n          }),\n\n          eventSubscriptions: () => ({\n            list: () => api._get(`${appUrl}/event_subscriptions`),\n            create: (data) => api._post(`${appUrl}/event_subscriptions`, data),\n            eventSubscription: (eventSubscriptionId) => ({\n              get: () => api._get(`${appUrl}/event_subscriptions/${eventSubscriptionId}`),\n              update: (data) => api._put(`${appUrl}/event_subscriptions/${eventSubscriptionId}`, data),\n              remove: () => api._delete(`${appUrl}/event_subscriptions/${eventSubscriptionId}`)\n            })\n          })\n        };\n      }\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin.js",";(function () {\n\n  var object =\n    typeof exports != 'undefined' ? exports :\n    typeof self != 'undefined' ? self : // #8: web workers\n    $.global; // #31: ExtendScript\n\n  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n  function InvalidCharacterError(message) {\n    this.message = message;\n  }\n  InvalidCharacterError.prototype = new Error;\n  InvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n  // encoder\n  // [https://gist.github.com/999166] by [https://github.com/nignag]\n  object.btoa || (\n  object.btoa = function (input) {\n    var str = String(input);\n    for (\n      // initialize result and counter\n      var block, charCode, idx = 0, map = chars, output = '';\n      // if the next str index does not exist:\n      //   change the mapping table to \"=\"\n      //   check if d has no fractional digits\n      str.charAt(idx | 0) || (map = '=', idx % 1);\n      // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n      output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n    ) {\n      charCode = str.charCodeAt(idx += 3/4);\n      if (charCode > 0xFF) {\n        throw new InvalidCharacterError(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n      }\n      block = block << 8 | charCode;\n    }\n    return output;\n  });\n\n  // decoder\n  // [https://gist.github.com/1020396] by [https://github.com/atk]\n  object.atob || (\n  object.atob = function (input) {\n    var str = String(input).replace(/[=]+$/, ''); // #31: ExtendScript bad parse of /=\n    if (str.length % 4 == 1) {\n      throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n    }\n    for (\n      // initialize result and counters\n      var bc = 0, bs, buffer, idx = 0, output = '';\n      // get next character\n      buffer = str.charAt(idx++);\n      // character found in table? initialize bit storage and add its ascii value;\n      ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n        // and if not first of each 4 characters,\n        // convert the first 8 bits to one ascii character\n        bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n    ) {\n      // try to find character in table (0-63, not found => -1)\n      buffer = chars.indexOf(buffer);\n    }\n    return output;\n  });\n\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/Base64/base64.js\n// module id = 11\n// module chunks = 0","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.bson = factory());\n}(this, (function () { 'use strict';\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar map = createCommonjsModule(function (module) {\n\n  // We have an ES6 Map available, return the native instance\n\n  if (typeof commonjsGlobal.Map !== 'undefined') {\n    module.exports = commonjsGlobal.Map;\n    module.exports.Map = commonjsGlobal.Map;\n  } else {\n    // We will return a polyfill\n    var Map = function Map(array) {\n      this._keys = [];\n      this._values = {};\n\n      for (var i = 0; i < array.length; i++) {\n        if (array[i] == null) continue; // skip null and undefined\n        var entry = array[i];\n        var key = entry[0];\n        var value = entry[1];\n        // Add the key to the list of keys in order\n        this._keys.push(key);\n        // Add the key and value to the values dictionary with a point\n        // to the location in the ordered keys list\n        this._values[key] = { v: value, i: this._keys.length - 1 };\n      }\n    };\n\n    Map.prototype.clear = function () {\n      this._keys = [];\n      this._values = {};\n    };\n\n    Map.prototype.delete = function (key) {\n      var value = this._values[key];\n      if (value == null) return false;\n      // Delete entry\n      delete this._values[key];\n      // Remove the key from the ordered keys list\n      this._keys.splice(value.i, 1);\n      return true;\n    };\n\n    Map.prototype.entries = function () {\n      var self = this;\n      var index = 0;\n\n      return {\n        next: function next() {\n          var key = self._keys[index++];\n          return {\n            value: key !== undefined ? [key, self._values[key].v] : undefined,\n            done: key !== undefined ? false : true\n          };\n        }\n      };\n    };\n\n    Map.prototype.forEach = function (callback, self) {\n      self = self || this;\n\n      for (var i = 0; i < this._keys.length; i++) {\n        var key = this._keys[i];\n        // Call the forEach callback\n        callback.call(self, this._values[key].v, key, self);\n      }\n    };\n\n    Map.prototype.get = function (key) {\n      return this._values[key] ? this._values[key].v : undefined;\n    };\n\n    Map.prototype.has = function (key) {\n      return this._values[key] != null;\n    };\n\n    Map.prototype.keys = function () {\n      var self = this;\n      var index = 0;\n\n      return {\n        next: function next() {\n          var key = self._keys[index++];\n          return {\n            value: key !== undefined ? key : undefined,\n            done: key !== undefined ? false : true\n          };\n        }\n      };\n    };\n\n    Map.prototype.set = function (key, value) {\n      if (this._values[key]) {\n        this._values[key].v = value;\n        return this;\n      }\n\n      // Add the key to the list of keys in order\n      this._keys.push(key);\n      // Add the key and value to the values dictionary with a point\n      // to the location in the ordered keys list\n      this._values[key] = { v: value, i: this._keys.length - 1 };\n      return this;\n    };\n\n    Map.prototype.values = function () {\n      var self = this;\n      var index = 0;\n\n      return {\n        next: function next() {\n          var key = self._keys[index++];\n          return {\n            value: key !== undefined ? self._values[key].v : undefined,\n            done: key !== undefined ? false : true\n          };\n        }\n      };\n    };\n\n    // Last ismaster\n    Object.defineProperty(Map.prototype, 'size', {\n      enumerable: true,\n      get: function get() {\n        return this._keys.length;\n      }\n    });\n\n    module.exports = Map;\n    module.exports.Map = Map;\n  }\n});\nvar map_1 = map.Map;\n\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n// Copyright 2009 Google Inc. All Rights Reserved\n\n/**\n * Defines a Long class for representing a 64-bit two's-complement\n * integer value, which faithfully simulates the behavior of a Java \"Long\". This\n * implementation is derived from LongLib in GWT.\n *\n * Constructs a 64-bit two's-complement integer, given its low and high 32-bit\n * values as *signed* integers.  See the from* functions below for more\n * convenient ways of constructing Longs.\n *\n * The internal representation of a Long is the two given signed, 32-bit values.\n * We use 32-bit pieces because these are the size of integers on which\n * Javascript performs bit-operations.  For operations like addition and\n * multiplication, we split each number into 16-bit pieces, which can easily be\n * multiplied within Javascript's floating-point representation without overflow\n * or change in sign.\n *\n * In the algorithms below, we frequently reduce the negative case to the\n * positive case by negating the input(s) and then post-processing the result.\n * Note that we must ALWAYS check specially whether those values are MIN_VALUE\n * (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\n * a positive number, it overflows back into a negative).  Not handling this\n * case would often result in infinite recursion.\n *\n * @class\n * @param {number} low  the low (signed) 32 bits of the Long.\n * @param {number} high the high (signed) 32 bits of the Long.\n * @return {Long}\n */\n\nfunction Long(low, high) {\n  if (!(this instanceof Long)) return new Long(low, high);\n\n  this._bsontype = 'Long';\n  /**\n   * @type {number}\n   * @ignore\n   */\n  this.low_ = low | 0; // force into 32 signed bits.\n\n  /**\n   * @type {number}\n   * @ignore\n   */\n  this.high_ = high | 0; // force into 32 signed bits.\n}\n\n/**\n * Return the int value.\n *\n * @method\n * @return {number} the value, assuming it is a 32-bit integer.\n */\nLong.prototype.toInt = function () {\n  return this.low_;\n};\n\n/**\n * Return the Number value.\n *\n * @method\n * @return {number} the closest floating-point representation to this value.\n */\nLong.prototype.toNumber = function () {\n  return this.high_ * Long.TWO_PWR_32_DBL_ + this.getLowBitsUnsigned();\n};\n\n/**\n * Return the JSON value.\n *\n * @method\n * @return {string} the JSON representation.\n */\nLong.prototype.toJSON = function () {\n  return this.toString();\n};\n\n/**\n * Return the String value.\n *\n * @method\n * @param {number} [opt_radix] the radix in which the text should be written.\n * @return {string} the textual representation of this value.\n */\nLong.prototype.toString = function (opt_radix) {\n  var radix = opt_radix || 10;\n  if (radix < 2 || 36 < radix) {\n    throw Error('radix out of range: ' + radix);\n  }\n\n  if (this.isZero()) {\n    return '0';\n  }\n\n  if (this.isNegative()) {\n    if (this.equals(Long.MIN_VALUE)) {\n      // We need to change the Long value before it can be negated, so we remove\n      // the bottom-most digit in this base and then recurse to do the rest.\n      var radixLong = Long.fromNumber(radix);\n      var div = this.div(radixLong);\n      var rem = div.multiply(radixLong).subtract(this);\n      return div.toString(radix) + rem.toInt().toString(radix);\n    } else {\n      return '-' + this.negate().toString(radix);\n    }\n  }\n\n  // Do several (6) digits each time through the loop, so as to\n  // minimize the calls to the very expensive emulated div.\n  var radixToPower = Long.fromNumber(Math.pow(radix, 6));\n\n  rem = this;\n  var result = '';\n\n  while (!rem.isZero()) {\n    var remDiv = rem.div(radixToPower);\n    var intval = rem.subtract(remDiv.multiply(radixToPower)).toInt();\n    var digits = intval.toString(radix);\n\n    rem = remDiv;\n    if (rem.isZero()) {\n      return digits + result;\n    } else {\n      while (digits.length < 6) {\n        digits = '0' + digits;\n      }\n      result = '' + digits + result;\n    }\n  }\n};\n\n/**\n * Return the high 32-bits value.\n *\n * @method\n * @return {number} the high 32-bits as a signed value.\n */\nLong.prototype.getHighBits = function () {\n  return this.high_;\n};\n\n/**\n * Return the low 32-bits value.\n *\n * @method\n * @return {number} the low 32-bits as a signed value.\n */\nLong.prototype.getLowBits = function () {\n  return this.low_;\n};\n\n/**\n * Return the low unsigned 32-bits value.\n *\n * @method\n * @return {number} the low 32-bits as an unsigned value.\n */\nLong.prototype.getLowBitsUnsigned = function () {\n  return this.low_ >= 0 ? this.low_ : Long.TWO_PWR_32_DBL_ + this.low_;\n};\n\n/**\n * Returns the number of bits needed to represent the absolute value of this Long.\n *\n * @method\n * @return {number} Returns the number of bits needed to represent the absolute value of this Long.\n */\nLong.prototype.getNumBitsAbs = function () {\n  if (this.isNegative()) {\n    if (this.equals(Long.MIN_VALUE)) {\n      return 64;\n    } else {\n      return this.negate().getNumBitsAbs();\n    }\n  } else {\n    var val = this.high_ !== 0 ? this.high_ : this.low_;\n    for (var bit = 31; bit > 0; bit--) {\n      if ((val & 1 << bit) !== 0) {\n        break;\n      }\n    }\n    return this.high_ !== 0 ? bit + 33 : bit + 1;\n  }\n};\n\n/**\n * Return whether this value is zero.\n *\n * @method\n * @return {boolean} whether this value is zero.\n */\nLong.prototype.isZero = function () {\n  return this.high_ === 0 && this.low_ === 0;\n};\n\n/**\n * Return whether this value is negative.\n *\n * @method\n * @return {boolean} whether this value is negative.\n */\nLong.prototype.isNegative = function () {\n  return this.high_ < 0;\n};\n\n/**\n * Return whether this value is odd.\n *\n * @method\n * @return {boolean} whether this value is odd.\n */\nLong.prototype.isOdd = function () {\n  return (this.low_ & 1) === 1;\n};\n\n/**\n * Return whether this Long equals the other\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long equals the other\n */\nLong.prototype.equals = function (other) {\n  return this.high_ === other.high_ && this.low_ === other.low_;\n};\n\n/**\n * Return whether this Long does not equal the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long does not equal the other.\n */\nLong.prototype.notEquals = function (other) {\n  return this.high_ !== other.high_ || this.low_ !== other.low_;\n};\n\n/**\n * Return whether this Long is less than the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long is less than the other.\n */\nLong.prototype.lessThan = function (other) {\n  return this.compare(other) < 0;\n};\n\n/**\n * Return whether this Long is less than or equal to the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long is less than or equal to the other.\n */\nLong.prototype.lessThanOrEqual = function (other) {\n  return this.compare(other) <= 0;\n};\n\n/**\n * Return whether this Long is greater than the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long is greater than the other.\n */\nLong.prototype.greaterThan = function (other) {\n  return this.compare(other) > 0;\n};\n\n/**\n * Return whether this Long is greater than or equal to the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long is greater than or equal to the other.\n */\nLong.prototype.greaterThanOrEqual = function (other) {\n  return this.compare(other) >= 0;\n};\n\n/**\n * Compares this Long with the given one.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} 0 if they are the same, 1 if the this is greater, and -1 if the given one is greater.\n */\nLong.prototype.compare = function (other) {\n  if (this.equals(other)) {\n    return 0;\n  }\n\n  var thisNeg = this.isNegative();\n  var otherNeg = other.isNegative();\n  if (thisNeg && !otherNeg) {\n    return -1;\n  }\n  if (!thisNeg && otherNeg) {\n    return 1;\n  }\n\n  // at this point, the signs are the same, so subtraction will not overflow\n  if (this.subtract(other).isNegative()) {\n    return -1;\n  } else {\n    return 1;\n  }\n};\n\n/**\n * The negation of this value.\n *\n * @method\n * @return {Long} the negation of this value.\n */\nLong.prototype.negate = function () {\n  if (this.equals(Long.MIN_VALUE)) {\n    return Long.MIN_VALUE;\n  } else {\n    return this.not().add(Long.ONE);\n  }\n};\n\n/**\n * Returns the sum of this and the given Long.\n *\n * @method\n * @param {Long} other Long to add to this one.\n * @return {Long} the sum of this and the given Long.\n */\nLong.prototype.add = function (other) {\n  // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\n\n  var a48 = this.high_ >>> 16;\n  var a32 = this.high_ & 0xffff;\n  var a16 = this.low_ >>> 16;\n  var a00 = this.low_ & 0xffff;\n\n  var b48 = other.high_ >>> 16;\n  var b32 = other.high_ & 0xffff;\n  var b16 = other.low_ >>> 16;\n  var b00 = other.low_ & 0xffff;\n\n  var c48 = 0,\n      c32 = 0,\n      c16 = 0,\n      c00 = 0;\n  c00 += a00 + b00;\n  c16 += c00 >>> 16;\n  c00 &= 0xffff;\n  c16 += a16 + b16;\n  c32 += c16 >>> 16;\n  c16 &= 0xffff;\n  c32 += a32 + b32;\n  c48 += c32 >>> 16;\n  c32 &= 0xffff;\n  c48 += a48 + b48;\n  c48 &= 0xffff;\n  return Long.fromBits(c16 << 16 | c00, c48 << 16 | c32);\n};\n\n/**\n * Returns the difference of this and the given Long.\n *\n * @method\n * @param {Long} other Long to subtract from this.\n * @return {Long} the difference of this and the given Long.\n */\nLong.prototype.subtract = function (other) {\n  return this.add(other.negate());\n};\n\n/**\n * Returns the product of this and the given Long.\n *\n * @method\n * @param {Long} other Long to multiply with this.\n * @return {Long} the product of this and the other.\n */\nLong.prototype.multiply = function (other) {\n  if (this.isZero()) {\n    return Long.ZERO;\n  } else if (other.isZero()) {\n    return Long.ZERO;\n  }\n\n  if (this.equals(Long.MIN_VALUE)) {\n    return other.isOdd() ? Long.MIN_VALUE : Long.ZERO;\n  } else if (other.equals(Long.MIN_VALUE)) {\n    return this.isOdd() ? Long.MIN_VALUE : Long.ZERO;\n  }\n\n  if (this.isNegative()) {\n    if (other.isNegative()) {\n      return this.negate().multiply(other.negate());\n    } else {\n      return this.negate().multiply(other).negate();\n    }\n  } else if (other.isNegative()) {\n    return this.multiply(other.negate()).negate();\n  }\n\n  // If both Longs are small, use float multiplication\n  if (this.lessThan(Long.TWO_PWR_24_) && other.lessThan(Long.TWO_PWR_24_)) {\n    return Long.fromNumber(this.toNumber() * other.toNumber());\n  }\n\n  // Divide each Long into 4 chunks of 16 bits, and then add up 4x4 products.\n  // We can skip products that would overflow.\n\n  var a48 = this.high_ >>> 16;\n  var a32 = this.high_ & 0xffff;\n  var a16 = this.low_ >>> 16;\n  var a00 = this.low_ & 0xffff;\n\n  var b48 = other.high_ >>> 16;\n  var b32 = other.high_ & 0xffff;\n  var b16 = other.low_ >>> 16;\n  var b00 = other.low_ & 0xffff;\n\n  var c48 = 0,\n      c32 = 0,\n      c16 = 0,\n      c00 = 0;\n  c00 += a00 * b00;\n  c16 += c00 >>> 16;\n  c00 &= 0xffff;\n  c16 += a16 * b00;\n  c32 += c16 >>> 16;\n  c16 &= 0xffff;\n  c16 += a00 * b16;\n  c32 += c16 >>> 16;\n  c16 &= 0xffff;\n  c32 += a32 * b00;\n  c48 += c32 >>> 16;\n  c32 &= 0xffff;\n  c32 += a16 * b16;\n  c48 += c32 >>> 16;\n  c32 &= 0xffff;\n  c32 += a00 * b32;\n  c48 += c32 >>> 16;\n  c32 &= 0xffff;\n  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\n  c48 &= 0xffff;\n  return Long.fromBits(c16 << 16 | c00, c48 << 16 | c32);\n};\n\n/**\n * Returns this Long divided by the given one.\n *\n * @method\n * @param {Long} other Long by which to divide.\n * @return {Long} this Long divided by the given one.\n */\nLong.prototype.div = function (other) {\n  if (other.isZero()) {\n    throw Error('division by zero');\n  } else if (this.isZero()) {\n    return Long.ZERO;\n  }\n\n  if (this.equals(Long.MIN_VALUE)) {\n    if (other.equals(Long.ONE) || other.equals(Long.NEG_ONE)) {\n      return Long.MIN_VALUE; // recall that -MIN_VALUE == MIN_VALUE\n    } else if (other.equals(Long.MIN_VALUE)) {\n      return Long.ONE;\n    } else {\n      // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\n      var halfThis = this.shiftRight(1);\n      var approx = halfThis.div(other).shiftLeft(1);\n      if (approx.equals(Long.ZERO)) {\n        return other.isNegative() ? Long.ONE : Long.NEG_ONE;\n      } else {\n        var rem = this.subtract(other.multiply(approx));\n        var result = approx.add(rem.div(other));\n        return result;\n      }\n    }\n  } else if (other.equals(Long.MIN_VALUE)) {\n    return Long.ZERO;\n  }\n\n  if (this.isNegative()) {\n    if (other.isNegative()) {\n      return this.negate().div(other.negate());\n    } else {\n      return this.negate().div(other).negate();\n    }\n  } else if (other.isNegative()) {\n    return this.div(other.negate()).negate();\n  }\n\n  // Repeat the following until the remainder is less than other:  find a\n  // floating-point that approximates remainder / other *from below*, add this\n  // into the result, and subtract it from the remainder.  It is critical that\n  // the approximate value is less than or equal to the real value so that the\n  // remainder never becomes negative.\n  var res = Long.ZERO;\n  rem = this;\n  while (rem.greaterThanOrEqual(other)) {\n    // Approximate the result of division. This may be a little greater or\n    // smaller than the actual value.\n    approx = Math.max(1, Math.floor(rem.toNumber() / other.toNumber()));\n\n    // We will tweak the approximate result by changing it in the 48-th digit or\n    // the smallest non-fractional digit, whichever is larger.\n    var log2 = Math.ceil(Math.log(approx) / Math.LN2);\n    var delta = log2 <= 48 ? 1 : Math.pow(2, log2 - 48);\n\n    // Decrease the approximation until it is smaller than the remainder.  Note\n    // that if it is too large, the product overflows and is negative.\n    var approxRes = Long.fromNumber(approx);\n    var approxRem = approxRes.multiply(other);\n    while (approxRem.isNegative() || approxRem.greaterThan(rem)) {\n      approx -= delta;\n      approxRes = Long.fromNumber(approx);\n      approxRem = approxRes.multiply(other);\n    }\n\n    // We know the answer can't be zero... and actually, zero would cause\n    // infinite recursion since we would make no progress.\n    if (approxRes.isZero()) {\n      approxRes = Long.ONE;\n    }\n\n    res = res.add(approxRes);\n    rem = rem.subtract(approxRem);\n  }\n  return res;\n};\n\n/**\n * Returns this Long modulo the given one.\n *\n * @method\n * @param {Long} other Long by which to mod.\n * @return {Long} this Long modulo the given one.\n */\nLong.prototype.modulo = function (other) {\n  return this.subtract(this.div(other).multiply(other));\n};\n\n/**\n * The bitwise-NOT of this value.\n *\n * @method\n * @return {Long} the bitwise-NOT of this value.\n */\nLong.prototype.not = function () {\n  return Long.fromBits(~this.low_, ~this.high_);\n};\n\n/**\n * Returns the bitwise-AND of this Long and the given one.\n *\n * @method\n * @param {Long} other the Long with which to AND.\n * @return {Long} the bitwise-AND of this and the other.\n */\nLong.prototype.and = function (other) {\n  return Long.fromBits(this.low_ & other.low_, this.high_ & other.high_);\n};\n\n/**\n * Returns the bitwise-OR of this Long and the given one.\n *\n * @method\n * @param {Long} other the Long with which to OR.\n * @return {Long} the bitwise-OR of this and the other.\n */\nLong.prototype.or = function (other) {\n  return Long.fromBits(this.low_ | other.low_, this.high_ | other.high_);\n};\n\n/**\n * Returns the bitwise-XOR of this Long and the given one.\n *\n * @method\n * @param {Long} other the Long with which to XOR.\n * @return {Long} the bitwise-XOR of this and the other.\n */\nLong.prototype.xor = function (other) {\n  return Long.fromBits(this.low_ ^ other.low_, this.high_ ^ other.high_);\n};\n\n/**\n * Returns this Long with bits shifted to the left by the given amount.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Long} this shifted to the left by the given amount.\n */\nLong.prototype.shiftLeft = function (numBits) {\n  numBits &= 63;\n  if (numBits === 0) {\n    return this;\n  } else {\n    var low = this.low_;\n    if (numBits < 32) {\n      var high = this.high_;\n      return Long.fromBits(low << numBits, high << numBits | low >>> 32 - numBits);\n    } else {\n      return Long.fromBits(0, low << numBits - 32);\n    }\n  }\n};\n\n/**\n * Returns this Long with bits shifted to the right by the given amount.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Long} this shifted to the right by the given amount.\n */\nLong.prototype.shiftRight = function (numBits) {\n  numBits &= 63;\n  if (numBits === 0) {\n    return this;\n  } else {\n    var high = this.high_;\n    if (numBits < 32) {\n      var low = this.low_;\n      return Long.fromBits(low >>> numBits | high << 32 - numBits, high >> numBits);\n    } else {\n      return Long.fromBits(high >> numBits - 32, high >= 0 ? 0 : -1);\n    }\n  }\n};\n\n/**\n * Returns this Long with bits shifted to the right by the given amount, with the new top bits matching the current sign bit.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Long} this shifted to the right by the given amount, with zeros placed into the new leading bits.\n */\nLong.prototype.shiftRightUnsigned = function (numBits) {\n  numBits &= 63;\n  if (numBits === 0) {\n    return this;\n  } else {\n    var high = this.high_;\n    if (numBits < 32) {\n      var low = this.low_;\n      return Long.fromBits(low >>> numBits | high << 32 - numBits, high >>> numBits);\n    } else if (numBits === 32) {\n      return Long.fromBits(high, 0);\n    } else {\n      return Long.fromBits(high >>> numBits - 32, 0);\n    }\n  }\n};\n\n/**\n * Returns a Long representing the given (32-bit) integer value.\n *\n * @method\n * @param {number} value the 32-bit integer in question.\n * @return {Long} the corresponding Long value.\n */\nLong.fromInt = function (value) {\n  if (-128 <= value && value < 128) {\n    var cachedObj = Long.INT_CACHE_[value];\n    if (cachedObj) {\n      return cachedObj;\n    }\n  }\n\n  var obj = new Long(value | 0, value < 0 ? -1 : 0);\n  if (-128 <= value && value < 128) {\n    Long.INT_CACHE_[value] = obj;\n  }\n  return obj;\n};\n\n/**\n * Returns a Long representing the given value, provided that it is a finite number. Otherwise, zero is returned.\n *\n * @method\n * @param {number} value the number in question.\n * @return {Long} the corresponding Long value.\n */\nLong.fromNumber = function (value) {\n  if (isNaN(value) || !isFinite(value)) {\n    return Long.ZERO;\n  } else if (value <= -Long.TWO_PWR_63_DBL_) {\n    return Long.MIN_VALUE;\n  } else if (value + 1 >= Long.TWO_PWR_63_DBL_) {\n    return Long.MAX_VALUE;\n  } else if (value < 0) {\n    return Long.fromNumber(-value).negate();\n  } else {\n    return new Long(value % Long.TWO_PWR_32_DBL_ | 0, value / Long.TWO_PWR_32_DBL_ | 0);\n  }\n};\n\n/**\n * Returns a Long representing the 64-bit integer that comes by concatenating the given high and low bits. Each is assumed to use 32 bits.\n *\n * @method\n * @param {number} lowBits the low 32-bits.\n * @param {number} highBits the high 32-bits.\n * @return {Long} the corresponding Long value.\n */\nLong.fromBits = function (lowBits, highBits) {\n  return new Long(lowBits, highBits);\n};\n\n/**\n * Returns a Long representation of the given string, written using the given radix.\n *\n * @method\n * @param {string} str the textual representation of the Long.\n * @param {number} opt_radix the radix in which the text is written.\n * @return {Long} the corresponding Long value.\n */\nLong.fromString = function (str, opt_radix) {\n  if (str.length === 0) {\n    throw Error('number format error: empty string');\n  }\n\n  var radix = opt_radix || 10;\n  if (radix < 2 || 36 < radix) {\n    throw Error('radix out of range: ' + radix);\n  }\n\n  if (str.charAt(0) === '-') {\n    return Long.fromString(str.substring(1), radix).negate();\n  } else if (str.indexOf('-') >= 0) {\n    throw Error('number format error: interior \"-\" character: ' + str);\n  }\n\n  // Do several (8) digits each time through the loop, so as to\n  // minimize the calls to the very expensive emulated div.\n  var radixToPower = Long.fromNumber(Math.pow(radix, 8));\n\n  var result = Long.ZERO;\n  for (var i = 0; i < str.length; i += 8) {\n    var size = Math.min(8, str.length - i);\n    var value = parseInt(str.substring(i, i + size), radix);\n    if (size < 8) {\n      var power = Long.fromNumber(Math.pow(radix, size));\n      result = result.multiply(power).add(Long.fromNumber(value));\n    } else {\n      result = result.multiply(radixToPower);\n      result = result.add(Long.fromNumber(value));\n    }\n  }\n  return result;\n};\n\n// NOTE: Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the\n// from* methods on which they depend.\n\n/**\n * A cache of the Long representations of small integer values.\n * @type {Object}\n * @ignore\n */\nLong.INT_CACHE_ = {};\n\n// NOTE: the compiler should inline these constant values below and then remove\n// these variables, so there should be no runtime penalty for these.\n\n/**\n * Number used repeated below in calculations.  This must appear before the\n * first call to any from* function below.\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_16_DBL_ = 1 << 16;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_24_DBL_ = 1 << 24;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_32_DBL_ = Long.TWO_PWR_16_DBL_ * Long.TWO_PWR_16_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_31_DBL_ = Long.TWO_PWR_32_DBL_ / 2;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_48_DBL_ = Long.TWO_PWR_32_DBL_ * Long.TWO_PWR_16_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_64_DBL_ = Long.TWO_PWR_32_DBL_ * Long.TWO_PWR_32_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_63_DBL_ = Long.TWO_PWR_64_DBL_ / 2;\n\n/** @type {Long} */\nLong.ZERO = Long.fromInt(0);\n\n/** @type {Long} */\nLong.ONE = Long.fromInt(1);\n\n/** @type {Long} */\nLong.NEG_ONE = Long.fromInt(-1);\n\n/** @type {Long} */\nLong.MAX_VALUE = Long.fromBits(0xffffffff | 0, 0x7fffffff | 0);\n\n/** @type {Long} */\nLong.MIN_VALUE = Long.fromBits(0, 0x80000000 | 0);\n\n/**\n * @type {Long}\n * @ignore\n */\nLong.TWO_PWR_24_ = Long.fromInt(1 << 24);\n\n/**\n * Expose.\n */\nvar long_1 = Long;\nvar Long_1 = Long;\nlong_1.Long = Long_1;\n\n/**\n * A class representation of the BSON Double type.\n *\n * @class\n * @param {number} value the number we want to represent as a double.\n * @return {Double}\n */\n\nfunction Double(value) {\n  if (!(this instanceof Double)) return new Double(value);\n\n  this._bsontype = 'Double';\n  this.value = value;\n}\n\n/**\n * Access the number value.\n *\n * @method\n * @return {number} returns the wrapped double number.\n */\nDouble.prototype.valueOf = function () {\n  return this.value;\n};\n\n/**\n * @ignore\n */\nDouble.prototype.toJSON = function () {\n  return this.value;\n};\n\nvar double_1 = Double;\nvar Double_1 = Double;\ndouble_1.Double = Double_1;\n\n/**\n * @class\n * @param {number} low  the low (signed) 32 bits of the Timestamp.\n * @param {number} high the high (signed) 32 bits of the Timestamp.\n * @return {Timestamp}\n */\nfunction Timestamp(low, high) {\n  if (low instanceof long_1) {\n    long_1.call(this, low.low_, low.high_);\n  } else {\n    long_1.call(this, low, high);\n  }\n\n  this._bsontype = 'Timestamp';\n}\n\nTimestamp.prototype = Object.create(long_1.prototype);\nTimestamp.prototype.constructor = Timestamp;\n\n/**\n * Return the JSON value.\n *\n * @method\n * @return {String} the JSON representation.\n */\nTimestamp.prototype.toJSON = function () {\n  return {\n    $timestamp: this.toString()\n  };\n};\n\n/**\n * Returns a Timestamp represented by the given (32-bit) integer value.\n *\n * @method\n * @param {number} value the 32-bit integer in question.\n * @return {Timestamp} the timestamp.\n */\nTimestamp.fromInt = function (value) {\n  return new Timestamp(long_1.fromInt(value));\n};\n\n/**\n * Returns a Timestamp representing the given number value, provided that it is a finite number. Otherwise, zero is returned.\n *\n * @method\n * @param {number} value the number in question.\n * @return {Timestamp} the timestamp.\n */\nTimestamp.fromNumber = function (value) {\n  return new Timestamp(long_1.fromNumber(value));\n};\n\n/**\n * Returns a Timestamp for the given high and low bits. Each is assumed to use 32 bits.\n *\n * @method\n * @param {number} lowBits the low 32-bits.\n * @param {number} highBits the high 32-bits.\n * @return {Timestamp} the timestamp.\n */\nTimestamp.fromBits = function (lowBits, highBits) {\n  return new Timestamp(lowBits, highBits);\n};\n\n/**\n * Returns a Timestamp from the given string, optionally using the given radix.\n *\n * @method\n * @param {String} str the textual representation of the Timestamp.\n * @param {number} [opt_radix] the radix in which the text is written.\n * @return {Timestamp} the timestamp.\n */\nTimestamp.fromString = function (str, opt_radix) {\n  return new Timestamp(long_1.fromString(str, opt_radix));\n};\n\nvar timestamp = Timestamp;\nvar Timestamp_1 = Timestamp;\ntimestamp.Timestamp = Timestamp_1;\n\n/**\n * Machine id.\n *\n * Create a random 3-byte value (i.e. unique for this\n * process). Other drivers use a md5 of the machine id here, but\n * that would mean an asyc call to gethostname, so we don't bother.\n * @ignore\n */\n\nvar MACHINE_ID = parseInt(Math.random() * 0xffffff, 10);\n\n// Regular expression that checks for hex value\nvar checkForHexRegExp = new RegExp('^[0-9a-fA-F]{24}$');\nvar hasBufferType = false;\n\n// Check if buffer exists\ntry {\n  if (Buffer && Buffer.from) hasBufferType = true;\n} catch (err) {\n  hasBufferType = false;\n}\n\n/**\n * Create a new ObjectID instance\n *\n * @class\n * @param {(string|number)} id Can be a 24 byte hex string, 12 byte binary string or a Number.\n * @property {number} generationTime The generation time of this ObjectId instance\n * @return {ObjectID} instance of ObjectID.\n */\nfunction ObjectID(id) {\n  // Duck-typing to support ObjectId from different npm packages\n  if (id instanceof ObjectID) return id;\n  if (!(this instanceof ObjectID)) return new ObjectID(id);\n\n  this._bsontype = 'ObjectID';\n\n  // The most common usecase (blank id, new objectId instance)\n  if (id == null || typeof id === 'number') {\n    // Generate a new id\n    this.id = this.generate(id);\n    // If we are caching the hex string\n    if (ObjectID.cacheHexString) this.__id = this.toString('hex');\n    // Return the object\n    return;\n  }\n\n  // Check if the passed in id is valid\n  var valid = ObjectID.isValid(id);\n\n  // Throw an error if it's not a valid setup\n  if (!valid && id != null) {\n    throw new TypeError('Argument passed in must be a single String of 12 bytes or a string of 24 hex characters');\n  } else if (valid && typeof id === 'string' && id.length === 24 && hasBufferType) {\n    return new ObjectID(new Buffer(id, 'hex'));\n  } else if (valid && typeof id === 'string' && id.length === 24) {\n    return ObjectID.createFromHexString(id);\n  } else if (id != null && id.length === 12) {\n    // assume 12 byte string\n    this.id = id;\n  } else if (id != null && id.toHexString) {\n    // Duck-typing to support ObjectId from different npm packages\n    return id;\n  } else {\n    throw new TypeError('Argument passed in must be a single String of 12 bytes or a string of 24 hex characters');\n  }\n\n  if (ObjectID.cacheHexString) this.__id = this.toString('hex');\n}\n\n// Allow usage of ObjectId as well as ObjectID\n// var ObjectId = ObjectID;\n\n// Precomputed hex table enables speedy hex string conversion\nvar hexTable = [];\nfor (var i = 0; i < 256; i++) {\n  hexTable[i] = (i <= 15 ? '0' : '') + i.toString(16);\n}\n\n/**\n * Return the ObjectID id as a 24 byte hex string representation\n *\n * @method\n * @return {string} return the 24 byte hex string representation.\n */\nObjectID.prototype.toHexString = function () {\n  if (ObjectID.cacheHexString && this.__id) return this.__id;\n\n  var hexString = '';\n  if (!this.id || !this.id.length) {\n    throw new TypeError('invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [' + JSON.stringify(this.id) + ']');\n  }\n\n  if (this.id instanceof _Buffer) {\n    hexString = convertToHex(this.id);\n    if (ObjectID.cacheHexString) this.__id = hexString;\n    return hexString;\n  }\n\n  for (var i = 0; i < this.id.length; i++) {\n    hexString += hexTable[this.id.charCodeAt(i)];\n  }\n\n  if (ObjectID.cacheHexString) this.__id = hexString;\n  return hexString;\n};\n\n/**\n * Update the ObjectID index used in generating new ObjectID's on the driver\n *\n * @method\n * @return {number} returns next index value.\n * @ignore\n */\nObjectID.prototype.get_inc = function () {\n  return ObjectID.index = (ObjectID.index + 1) % 0xffffff;\n};\n\n/**\n * Update the ObjectID index used in generating new ObjectID's on the driver\n *\n * @method\n * @return {number} returns next index value.\n * @ignore\n */\nObjectID.prototype.getInc = function () {\n  return this.get_inc();\n};\n\n/**\n * Generate a 12 byte id buffer used in ObjectID's\n *\n * @method\n * @param {number} [time] optional parameter allowing to pass in a second based timestamp.\n * @return {Buffer} return the 12 byte id buffer string.\n */\nObjectID.prototype.generate = function (time) {\n  if ('number' !== typeof time) {\n    time = ~~(Date.now() / 1000);\n  }\n\n  // Use pid\n  var pid = (typeof process === 'undefined' || process.pid === 1 ? Math.floor(Math.random() * 100000) : process.pid) % 0xffff;\n  var inc = this.get_inc();\n  // Buffer used\n  var buffer = new Buffer(12);\n  // Encode time\n  buffer[3] = time & 0xff;\n  buffer[2] = time >> 8 & 0xff;\n  buffer[1] = time >> 16 & 0xff;\n  buffer[0] = time >> 24 & 0xff;\n  // Encode machine\n  buffer[6] = MACHINE_ID & 0xff;\n  buffer[5] = MACHINE_ID >> 8 & 0xff;\n  buffer[4] = MACHINE_ID >> 16 & 0xff;\n  // Encode pid\n  buffer[8] = pid & 0xff;\n  buffer[7] = pid >> 8 & 0xff;\n  // Encode index\n  buffer[11] = inc & 0xff;\n  buffer[10] = inc >> 8 & 0xff;\n  buffer[9] = inc >> 16 & 0xff;\n  // Return the buffer\n  return buffer;\n};\n\n/**\n * Converts the id into a 24 byte hex string for printing\n *\n * @param {String} format The Buffer toString format parameter.\n * @return {String} return the 24 byte hex string representation.\n * @ignore\n */\nObjectID.prototype.toString = function (format) {\n  // Is the id a buffer then use the buffer toString method to return the format\n  if (this.id && this.id.copy) {\n    return this.id.toString(typeof format === 'string' ? format : 'hex');\n  }\n\n  // if(this.buffer )\n  return this.toHexString();\n};\n\n/**\n * Converts to a string representation of this Id.\n *\n * @return {String} return the 24 byte hex string representation.\n * @ignore\n */\nObjectID.prototype.inspect = ObjectID.prototype.toString;\n\n/**\n * Converts to its JSON representation.\n *\n * @return {String} return the 24 byte hex string representation.\n * @ignore\n */\nObjectID.prototype.toJSON = function () {\n  return this.toHexString();\n};\n\n/**\n * Compares the equality of this ObjectID with `otherID`.\n *\n * @method\n * @param {object} otherID ObjectID instance to compare against.\n * @return {boolean} the result of comparing two ObjectID's\n */\nObjectID.prototype.equals = function equals(otherId) {\n  if (otherId instanceof ObjectID) {\n    return this.toString() === otherId.toString();\n  } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 12 && this.id instanceof _Buffer) {\n    return otherId === this.id.toString('binary');\n  } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 24) {\n    return otherId.toLowerCase() === this.toHexString();\n  } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 12) {\n    return otherId === this.id;\n  } else if (otherId != null && (otherId instanceof ObjectID || otherId.toHexString)) {\n    return otherId.toHexString() === this.toHexString();\n  } else {\n    return false;\n  }\n};\n\n/**\n * Returns the generation date (accurate up to the second) that this ID was generated.\n *\n * @method\n * @return {date} the generation date\n */\nObjectID.prototype.getTimestamp = function () {\n  var timestamp = new Date();\n  var time = this.id[3] | this.id[2] << 8 | this.id[1] << 16 | this.id[0] << 24;\n  timestamp.setTime(Math.floor(time) * 1000);\n  return timestamp;\n};\n\n/**\n * @ignore\n */\nObjectID.index = ~~(Math.random() * 0xffffff);\n\n/**\n * @ignore\n */\nObjectID.createPk = function createPk() {\n  return new ObjectID();\n};\n\n/**\n * Creates an ObjectID from a second based number, with the rest of the ObjectID zeroed out. Used for comparisons or sorting the ObjectID.\n *\n * @method\n * @param {number} time an integer number representing a number of seconds.\n * @return {ObjectID} return the created ObjectID\n */\nObjectID.createFromTime = function createFromTime(time) {\n  var buffer = new Buffer([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n  // Encode time into first 4 bytes\n  buffer[3] = time & 0xff;\n  buffer[2] = time >> 8 & 0xff;\n  buffer[1] = time >> 16 & 0xff;\n  buffer[0] = time >> 24 & 0xff;\n  // Return the new objectId\n  return new ObjectID(buffer);\n};\n\n// Lookup tables\nvar decodeLookup = [];\ni = 0;\nwhile (i < 10) {\n  decodeLookup[0x30 + i] = i++;\n}while (i < 16) {\n  decodeLookup[0x41 - 10 + i] = decodeLookup[0x61 - 10 + i] = i++;\n}var _Buffer = Buffer;\nvar convertToHex = function convertToHex(bytes) {\n  return bytes.toString('hex');\n};\n\n/**\n * Creates an ObjectID from a hex string representation of an ObjectID.\n *\n * @method\n * @param {string} hexString create a ObjectID from a passed in 24 byte hexstring.\n * @return {ObjectID} return the created ObjectID\n */\nObjectID.createFromHexString = function createFromHexString(string) {\n  // Throw an error if it's not a valid setup\n  if (typeof string === 'undefined' || string != null && string.length !== 24) {\n    throw new TypeError('Argument passed in must be a single String of 12 bytes or a string of 24 hex characters');\n  }\n\n  // Use Buffer.from method if available\n  if (hasBufferType) return new ObjectID(new Buffer(string, 'hex'));\n\n  // Calculate lengths\n  var array = new _Buffer(12);\n  var n = 0;\n  var i = 0;\n\n  while (i < 24) {\n    array[n++] = decodeLookup[string.charCodeAt(i++)] << 4 | decodeLookup[string.charCodeAt(i++)];\n  }\n\n  return new ObjectID(array);\n};\n\n/**\n * Checks if a value is a valid bson ObjectId\n *\n * @method\n * @return {boolean} return true if the value is a valid bson ObjectId, return false otherwise.\n */\nObjectID.isValid = function isValid(id) {\n  if (id == null) return false;\n\n  if (typeof id === 'number') {\n    return true;\n  }\n\n  if (typeof id === 'string') {\n    return id.length === 12 || id.length === 24 && checkForHexRegExp.test(id);\n  }\n\n  if (id instanceof ObjectID) {\n    return true;\n  }\n\n  if (id instanceof _Buffer) {\n    return true;\n  }\n\n  // Duck-Typing detection of ObjectId like objects\n  if (id.toHexString) {\n    return id.id.length === 12 || id.id.length === 24 && checkForHexRegExp.test(id.id);\n  }\n\n  return false;\n};\n\n/**\n * @ignore\n */\nObject.defineProperty(ObjectID.prototype, 'generationTime', {\n  enumerable: true,\n  get: function get() {\n    return this.id[3] | this.id[2] << 8 | this.id[1] << 16 | this.id[0] << 24;\n  },\n  set: function set(value) {\n    // Encode time into first 4 bytes\n    this.id[3] = value & 0xff;\n    this.id[2] = value >> 8 & 0xff;\n    this.id[1] = value >> 16 & 0xff;\n    this.id[0] = value >> 24 & 0xff;\n  }\n});\n\n/**\n * Expose.\n */\nvar objectid = ObjectID;\nvar ObjectID_1 = ObjectID;\nvar ObjectId = ObjectID;\nobjectid.ObjectID = ObjectID_1;\nobjectid.ObjectId = ObjectId;\n\nfunction alphabetize(str) {\n  return str.split('').sort().join('');\n}\n\n/**\n * A class representation of the BSON RegExp type.\n *\n * @class\n * @return {BSONRegExp} A MinKey instance\n */\nfunction BSONRegExp(pattern, options) {\n  if (!(this instanceof BSONRegExp)) return new BSONRegExp(pattern, options);\n\n  // Execute\n  this._bsontype = 'BSONRegExp';\n  this.pattern = pattern || '';\n  this.options = options ? alphabetize(options) : '';\n\n  // Validate options\n  for (var i = 0; i < this.options.length; i++) {\n    if (!(this.options[i] === 'i' || this.options[i] === 'm' || this.options[i] === 'x' || this.options[i] === 'l' || this.options[i] === 's' || this.options[i] === 'u')) {\n      throw new Error('the regular expression options [' + this.options[i] + '] is not supported');\n    }\n  }\n}\n\nvar regexp = BSONRegExp;\nvar BSONRegExp_1 = BSONRegExp;\nregexp.BSONRegExp = BSONRegExp_1;\n\n/**\n * A class representation of the BSON Symbol type.\n *\n * @class\n * @deprecated\n * @param {string} value the string representing the symbol.\n * @return {Symbol}\n */\n\nfunction _Symbol(value) {\n  if (!(this instanceof _Symbol)) return new _Symbol(value);\n  this._bsontype = 'Symbol';\n  this.value = value;\n}\n\n/**\n * Access the wrapped string value.\n *\n * @method\n * @return {String} returns the wrapped string.\n */\n_Symbol.prototype.valueOf = function () {\n  return this.value;\n};\n\n/**\n * @ignore\n */\n_Symbol.prototype.toString = function () {\n  return this.value;\n};\n\n/**\n * @ignore\n */\n_Symbol.prototype.inspect = function () {\n  return this.value;\n};\n\n/**\n * @ignore\n */\n_Symbol.prototype.toJSON = function () {\n  return this.value;\n};\n\nvar symbol = _Symbol;\nvar Symbol_1 = _Symbol;\nsymbol.Symbol = Symbol_1;\n\n/**\n * A class representation of a BSON Int32 type.\n *\n * @class\n * @param {number} value the number we want to represent as an int32.\n * @return {Int32}\n */\n\nfunction Int32(value) {\n  if (!(this instanceof Int32)) return new Int32(value);\n\n  this._bsontype = 'Int32';\n  this.value = value;\n}\n\n/**\n * Access the number value.\n *\n * @method\n * @return {number} returns the wrapped int32 number.\n */\nInt32.prototype.valueOf = function () {\n  return this.value;\n};\n\n/**\n * @ignore\n */\nInt32.prototype.toJSON = function () {\n  return this.value;\n};\n\nvar int_32 = Int32;\nvar Int32_1 = Int32;\nint_32.Int32 = Int32_1;\n\n/**\n * A class representation of the BSON Code type.\n *\n * @class\n * @param {(string|function)} code a string or function.\n * @param {Object} [scope] an optional scope for the function.\n * @return {Code}\n */\n\nfunction Code(code, scope) {\n  if (!(this instanceof Code)) return new Code(code, scope);\n  this._bsontype = 'Code';\n  this.code = code;\n  this.scope = scope;\n}\n\n/**\n * @ignore\n */\nCode.prototype.toJSON = function () {\n  return { scope: this.scope, code: this.code };\n};\n\nvar code = Code;\nvar Code_1 = Code;\ncode.Code = Code_1;\n\nvar PARSE_STRING_REGEXP = /^(\\+|-)?(\\d+|(\\d*\\.\\d*))?(E|e)?([-+])?(\\d+)?$/;\nvar PARSE_INF_REGEXP = /^(\\+|-)?(Infinity|inf)$/i;\nvar PARSE_NAN_REGEXP = /^(\\+|-)?NaN$/i;\n\nvar EXPONENT_MAX = 6111;\nvar EXPONENT_MIN = -6176;\nvar EXPONENT_BIAS = 6176;\nvar MAX_DIGITS = 34;\n\n// Nan value bits as 32 bit values (due to lack of longs)\nvar NAN_BUFFER = [0x7c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\n// Infinity value bits 32 bit values (due to lack of longs)\nvar INF_NEGATIVE_BUFFER = [0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\nvar INF_POSITIVE_BUFFER = [0x78, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\n\nvar EXPONENT_REGEX = /^([-+])?(\\d+)?$/;\n\n// Detect if the value is a digit\nvar isDigit = function isDigit(value) {\n  return !isNaN(parseInt(value, 10));\n};\n\n// Divide two uint128 values\nvar divideu128 = function divideu128(value) {\n  var DIVISOR = long_1.fromNumber(1000 * 1000 * 1000);\n  var _rem = long_1.fromNumber(0);\n\n  if (!value.parts[0] && !value.parts[1] && !value.parts[2] && !value.parts[3]) {\n    return { quotient: value, rem: _rem };\n  }\n\n  for (var i = 0; i <= 3; i++) {\n    // Adjust remainder to match value of next dividend\n    _rem = _rem.shiftLeft(32);\n    // Add the divided to _rem\n    _rem = _rem.add(new long_1(value.parts[i], 0));\n    value.parts[i] = _rem.div(DIVISOR).low_;\n    _rem = _rem.modulo(DIVISOR);\n  }\n\n  return { quotient: value, rem: _rem };\n};\n\n// Multiply two Long values and return the 128 bit value\nvar multiply64x2 = function multiply64x2(left, right) {\n  if (!left && !right) {\n    return { high: long_1.fromNumber(0), low: long_1.fromNumber(0) };\n  }\n\n  var leftHigh = left.shiftRightUnsigned(32);\n  var leftLow = new long_1(left.getLowBits(), 0);\n  var rightHigh = right.shiftRightUnsigned(32);\n  var rightLow = new long_1(right.getLowBits(), 0);\n\n  var productHigh = leftHigh.multiply(rightHigh);\n  var productMid = leftHigh.multiply(rightLow);\n  var productMid2 = leftLow.multiply(rightHigh);\n  var productLow = leftLow.multiply(rightLow);\n\n  productHigh = productHigh.add(productMid.shiftRightUnsigned(32));\n  productMid = new long_1(productMid.getLowBits(), 0).add(productMid2).add(productLow.shiftRightUnsigned(32));\n\n  productHigh = productHigh.add(productMid.shiftRightUnsigned(32));\n  productLow = productMid.shiftLeft(32).add(new long_1(productLow.getLowBits(), 0));\n\n  // Return the 128 bit result\n  return { high: productHigh, low: productLow };\n};\n\nvar lessThan = function lessThan(left, right) {\n  // Make values unsigned\n  var uhleft = left.high_ >>> 0;\n  var uhright = right.high_ >>> 0;\n\n  // Compare high bits first\n  if (uhleft < uhright) {\n    return true;\n  } else if (uhleft === uhright) {\n    var ulleft = left.low_ >>> 0;\n    var ulright = right.low_ >>> 0;\n    if (ulleft < ulright) return true;\n  }\n\n  return false;\n};\n\nvar invalidErr = function invalidErr(string, message) {\n  throw new TypeError('\"${string}\" not a valid Decimal128 string - ' + message);\n};\n\n/**\n * A class representation of the BSON Decimal128 type.\n *\n * @class\n * @param {Buffer} bytes a buffer containing the raw Decimal128 bytes.\n * @return {Double}\n */\nfunction Decimal128(bytes) {\n  this._bsontype = 'Decimal128';\n  this.bytes = bytes;\n}\n\n/**\n * Create a Decimal128 instance from a string representation\n *\n * @method\n * @param {string} string a numeric string representation.\n * @return {Decimal128} returns a Decimal128 instance.\n */\nDecimal128.fromString = function (string) {\n  // Parse state tracking\n  var isNegative = false;\n  var sawRadix = false;\n  var foundNonZero = false;\n\n  // Total number of significant digits (no leading or trailing zero)\n  var significantDigits = 0;\n  // Total number of significand digits read\n  var nDigitsRead = 0;\n  // Total number of digits (no leading zeros)\n  var nDigits = 0;\n  // The number of the digits after radix\n  var radixPosition = 0;\n  // The index of the first non-zero in *str*\n  var firstNonZero = 0;\n\n  // Digits Array\n  var digits = [0];\n  // The number of digits in digits\n  var nDigitsStored = 0;\n  // Insertion pointer for digits\n  var digitsInsert = 0;\n  // The index of the first non-zero digit\n  var firstDigit = 0;\n  // The index of the last digit\n  var lastDigit = 0;\n\n  // Exponent\n  var exponent = 0;\n  // loop index over array\n  var i = 0;\n  // The high 17 digits of the significand\n  var significandHigh = [0, 0];\n  // The low 17 digits of the significand\n  var significandLow = [0, 0];\n  // The biased exponent\n  var biasedExponent = 0;\n\n  // Read index\n  var index = 0;\n\n  // Naively prevent against REDOS attacks.\n  // TODO: implementing a custom parsing for this, or refactoring the regex would yield\n  //       further gains.\n  if (string.length >= 7000) {\n    throw new TypeError('' + string + ' not a valid Decimal128 string');\n  }\n\n  // Results\n  var stringMatch = string.match(PARSE_STRING_REGEXP);\n  var infMatch = string.match(PARSE_INF_REGEXP);\n  var nanMatch = string.match(PARSE_NAN_REGEXP);\n\n  // Validate the string\n  if (!stringMatch && !infMatch && !nanMatch || string.length === 0) {\n    throw new TypeError('' + string + ' not a valid Decimal128 string');\n  }\n\n  if (stringMatch) {\n    // full_match = stringMatch[0]\n    // sign = stringMatch[1]\n\n    var unsignedNumber = stringMatch[2];\n    // stringMatch[3] is undefined if a whole number (ex \"1\", 12\")\n    // but defined if a number w/ decimal in it (ex \"1.0, 12.2\")\n\n    var e = stringMatch[4];\n    var expSign = stringMatch[5];\n    var expNumber = stringMatch[6];\n\n    // they provided e, but didn't give an exponent number. for ex \"1e\"\n    if (e && expNumber === undefined) invalidErr(string, 'missing exponent power');\n\n    // they provided e, but didn't give a number before it. for ex \"e1\"\n    if (e && unsignedNumber === undefined) invalidErr(string, 'missing exponent base');\n\n    if (e === undefined && (expSign || expNumber)) {\n      invalidErr(string, 'missing e before exponent');\n    }\n  }\n\n  // Get the negative or positive sign\n  if (string[index] === '+' || string[index] === '-') {\n    isNegative = string[index++] === '-';\n  }\n\n  // Check if user passed Infinity or NaN\n  if (!isDigit(string[index]) && string[index] !== '.') {\n    if (string[index] === 'i' || string[index] === 'I') {\n      return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));\n    } else if (string[index] === 'N') {\n      return new Decimal128(new Buffer(NAN_BUFFER));\n    }\n  }\n\n  // Read all the digits\n  while (isDigit(string[index]) || string[index] === '.') {\n    if (string[index] === '.') {\n      if (sawRadix) invalidErr(string, 'contains multiple periods');\n\n      sawRadix = true;\n      index = index + 1;\n      continue;\n    }\n\n    if (nDigitsStored < 34) {\n      if (string[index] !== '0' || foundNonZero) {\n        if (!foundNonZero) {\n          firstNonZero = nDigitsRead;\n        }\n\n        foundNonZero = true;\n\n        // Only store 34 digits\n        digits[digitsInsert++] = parseInt(string[index], 10);\n        nDigitsStored = nDigitsStored + 1;\n      }\n    }\n\n    if (foundNonZero) nDigits = nDigits + 1;\n    if (sawRadix) radixPosition = radixPosition + 1;\n\n    nDigitsRead = nDigitsRead + 1;\n    index = index + 1;\n  }\n\n  if (sawRadix && !nDigitsRead) throw new TypeError('' + string + ' not a valid Decimal128 string');\n\n  // Read exponent if exists\n  if (string[index] === 'e' || string[index] === 'E') {\n    // Read exponent digits\n    var match = string.substr(++index).match(EXPONENT_REGEX);\n\n    // No digits read\n    if (!match || !match[2]) return new Decimal128(new Buffer(NAN_BUFFER));\n\n    // Get exponent\n    exponent = parseInt(match[0], 10);\n\n    // Adjust the index\n    index = index + match[0].length;\n  }\n\n  // Return not a number\n  if (string[index]) return new Decimal128(new Buffer(NAN_BUFFER));\n\n  // Done reading input\n  // Find first non-zero digit in digits\n  firstDigit = 0;\n\n  if (!nDigitsStored) {\n    firstDigit = 0;\n    lastDigit = 0;\n    digits[0] = 0;\n    nDigits = 1;\n    nDigitsStored = 1;\n    significantDigits = 0;\n  } else {\n    lastDigit = nDigitsStored - 1;\n    significantDigits = nDigits;\n    if (significantDigits !== 1) {\n      while (string[firstNonZero + significantDigits - 1] === '0') {\n        significantDigits = significantDigits - 1;\n      }\n    }\n  }\n\n  // Normalization of exponent\n  // Correct exponent based on radix position, and shift significand as needed\n  // to represent user input\n\n  // Overflow prevention\n  if (exponent <= radixPosition && radixPosition - exponent > 1 << 14) {\n    exponent = EXPONENT_MIN;\n  } else {\n    exponent = exponent - radixPosition;\n  }\n\n  // Attempt to normalize the exponent\n  while (exponent > EXPONENT_MAX) {\n    // Shift exponent to significand and decrease\n    lastDigit = lastDigit + 1;\n\n    if (lastDigit - firstDigit > MAX_DIGITS) {\n      // Check if we have a zero then just hard clamp, otherwise fail\n      var digitsString = digits.join('');\n      if (digitsString.match(/^0+$/)) {\n        exponent = EXPONENT_MAX;\n        break;\n      }\n      invalidErr(string, 'overflow');\n    }\n    exponent = exponent - 1;\n  }\n\n  while (exponent < EXPONENT_MIN || nDigitsStored < nDigits) {\n    // Shift last digit. can only do this if < significant digits than # stored.\n    if (lastDigit === 0 && significantDigits < nDigitsStored) {\n      exponent = EXPONENT_MIN;\n      significantDigits = 0;\n      break;\n    }\n\n    if (nDigitsStored < nDigits) {\n      // adjust to match digits not stored\n      nDigits = nDigits - 1;\n    } else {\n      // adjust to round\n      lastDigit = lastDigit - 1;\n    }\n\n    if (exponent < EXPONENT_MAX) {\n      exponent = exponent + 1;\n    } else {\n      // Check if we have a zero then just hard clamp, otherwise fail\n      digitsString = digits.join('');\n      if (digitsString.match(/^0+$/)) {\n        exponent = EXPONENT_MAX;\n        break;\n      }\n      invalidErr(string, 'overflow');\n    }\n  }\n\n  // Round\n  // We've normalized the exponent, but might still need to round.\n  if (lastDigit - firstDigit + 1 < significantDigits) {\n    var endOfString = nDigitsRead;\n\n    // If we have seen a radix point, 'string' is 1 longer than we have\n    // documented with ndigits_read, so inc the position of the first nonzero\n    // digit and the position that digits are read to.\n    if (sawRadix) {\n      firstNonZero = firstNonZero + 1;\n      endOfString = endOfString + 1;\n    }\n    // if negative, we need to increment again to account for - sign at start.\n    if (isNegative) {\n      firstNonZero = firstNonZero + 1;\n      endOfString = endOfString + 1;\n    }\n\n    var roundDigit = parseInt(string[firstNonZero + lastDigit + 1], 10);\n    var roundBit = 0;\n\n    if (roundDigit >= 5) {\n      roundBit = 1;\n      if (roundDigit === 5) {\n        roundBit = digits[lastDigit] % 2 === 1;\n        for (i = firstNonZero + lastDigit + 2; i < endOfString; i++) {\n          if (parseInt(string[i], 10)) {\n            roundBit = 1;\n            break;\n          }\n        }\n      }\n    }\n\n    if (roundBit) {\n      var dIdx = lastDigit;\n\n      for (; dIdx >= 0; dIdx--) {\n        if (++digits[dIdx] > 9) {\n          digits[dIdx] = 0;\n\n          // overflowed most significant digit\n          if (dIdx === 0) {\n            if (exponent < EXPONENT_MAX) {\n              exponent = exponent + 1;\n              digits[dIdx] = 1;\n            } else {\n              return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));\n            }\n          }\n        }\n      }\n    }\n  }\n\n  // Encode significand\n  // The high 17 digits of the significand\n  significandHigh = long_1.fromNumber(0);\n  // The low 17 digits of the significand\n  significandLow = long_1.fromNumber(0);\n\n  // read a zero\n  if (significantDigits === 0) {\n    significandHigh = long_1.fromNumber(0);\n    significandLow = long_1.fromNumber(0);\n  } else if (lastDigit - firstDigit < 17) {\n    dIdx = firstDigit;\n    significandLow = long_1.fromNumber(digits[dIdx++]);\n    significandHigh = new long_1(0, 0);\n\n    for (; dIdx <= lastDigit; dIdx++) {\n      significandLow = significandLow.multiply(long_1.fromNumber(10));\n      significandLow = significandLow.add(long_1.fromNumber(digits[dIdx]));\n    }\n  } else {\n    dIdx = firstDigit;\n    significandHigh = long_1.fromNumber(digits[dIdx++]);\n\n    for (; dIdx <= lastDigit - 17; dIdx++) {\n      significandHigh = significandHigh.multiply(long_1.fromNumber(10));\n      significandHigh = significandHigh.add(long_1.fromNumber(digits[dIdx]));\n    }\n\n    significandLow = long_1.fromNumber(digits[dIdx++]);\n\n    for (; dIdx <= lastDigit; dIdx++) {\n      significandLow = significandLow.multiply(long_1.fromNumber(10));\n      significandLow = significandLow.add(long_1.fromNumber(digits[dIdx]));\n    }\n  }\n\n  var significand = multiply64x2(significandHigh, long_1.fromString('100000000000000000'));\n\n  significand.low = significand.low.add(significandLow);\n\n  if (lessThan(significand.low, significandLow)) {\n    significand.high = significand.high.add(long_1.fromNumber(1));\n  }\n\n  // Biased exponent\n  biasedExponent = exponent + EXPONENT_BIAS;\n  var dec = { low: long_1.fromNumber(0), high: long_1.fromNumber(0) };\n\n  // Encode combination, exponent, and significand.\n  if (significand.high.shiftRightUnsigned(49).and(long_1.fromNumber(1)).equals(long_1.fromNumber)) {\n    // Encode '11' into bits 1 to 3\n    dec.high = dec.high.or(long_1.fromNumber(0x3).shiftLeft(61));\n    dec.high = dec.high.or(long_1.fromNumber(biasedExponent).and(long_1.fromNumber(0x3fff).shiftLeft(47)));\n    dec.high = dec.high.or(significand.high.and(long_1.fromNumber(0x7fffffffffff)));\n  } else {\n    dec.high = dec.high.or(long_1.fromNumber(biasedExponent & 0x3fff).shiftLeft(49));\n    dec.high = dec.high.or(significand.high.and(long_1.fromNumber(0x1ffffffffffff)));\n  }\n\n  dec.low = significand.low;\n\n  // Encode sign\n  if (isNegative) {\n    dec.high = dec.high.or(long_1.fromString('9223372036854775808'));\n  }\n\n  // Encode into a buffer\n  var buffer = new Buffer(16);\n  index = 0;\n\n  // Encode the low 64 bits of the decimal\n  // Encode low bits\n  buffer[index++] = dec.low.low_ & 0xff;\n  buffer[index++] = dec.low.low_ >> 8 & 0xff;\n  buffer[index++] = dec.low.low_ >> 16 & 0xff;\n  buffer[index++] = dec.low.low_ >> 24 & 0xff;\n  // Encode high bits\n  buffer[index++] = dec.low.high_ & 0xff;\n  buffer[index++] = dec.low.high_ >> 8 & 0xff;\n  buffer[index++] = dec.low.high_ >> 16 & 0xff;\n  buffer[index++] = dec.low.high_ >> 24 & 0xff;\n\n  // Encode the high 64 bits of the decimal\n  // Encode low bits\n  buffer[index++] = dec.high.low_ & 0xff;\n  buffer[index++] = dec.high.low_ >> 8 & 0xff;\n  buffer[index++] = dec.high.low_ >> 16 & 0xff;\n  buffer[index++] = dec.high.low_ >> 24 & 0xff;\n  // Encode high bits\n  buffer[index++] = dec.high.high_ & 0xff;\n  buffer[index++] = dec.high.high_ >> 8 & 0xff;\n  buffer[index++] = dec.high.high_ >> 16 & 0xff;\n  buffer[index++] = dec.high.high_ >> 24 & 0xff;\n\n  // Return the new Decimal128\n  return new Decimal128(buffer);\n};\n\n// Extract least significant 5 bits\nvar COMBINATION_MASK = 0x1f;\n// Extract least significant 14 bits\nvar EXPONENT_MASK = 0x3fff;\n// Value of combination field for Inf\nvar COMBINATION_INFINITY = 30;\n// Value of combination field for NaN\nvar COMBINATION_NAN = 31;\n// Value of combination field for NaN\n// var COMBINATION_SNAN = 32;\n// decimal128 exponent bias\nEXPONENT_BIAS = 6176;\n\n/**\n * Create a string representation of the raw Decimal128 value\n *\n * @method\n * @return {string} returns a Decimal128 string representation.\n */\nDecimal128.prototype.toString = function () {\n  // Note: bits in this routine are referred to starting at 0,\n  // from the sign bit, towards the coefficient.\n\n  // bits 0 - 31\n  var high;\n  // bits 32 - 63\n  var midh;\n  // bits 64 - 95\n  var midl;\n  // bits 96 - 127\n  var low;\n  // bits 1 - 5\n  var combination;\n  // decoded biased exponent (14 bits)\n  var biased_exponent;\n  // the number of significand digits\n  var significand_digits = 0;\n  // the base-10 digits in the significand\n  var significand = new Array(36);\n  for (var i = 0; i < significand.length; i++) {\n    significand[i] = 0;\n  } // read pointer into significand\n  var index = 0;\n\n  // unbiased exponent\n  var exponent;\n  // the exponent if scientific notation is used\n  var scientific_exponent;\n\n  // true if the number is zero\n  var is_zero = false;\n\n  // the most signifcant significand bits (50-46)\n  var significand_msb;\n  // temporary storage for significand decoding\n  var significand128 = { parts: new Array(4) };\n  // indexing variables\n  var j, k;\n\n  // Output string\n  var string = [];\n\n  // Unpack index\n  index = 0;\n\n  // Buffer reference\n  var buffer = this.bytes;\n\n  // Unpack the low 64bits into a long\n  low = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n  midl = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n  // Unpack the high 64bits into a long\n  midh = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n  high = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n  // Unpack index\n  index = 0;\n\n  // Create the state of the decimal\n  var dec = {\n    low: new long_1(low, midl),\n    high: new long_1(midh, high)\n  };\n\n  if (dec.high.lessThan(long_1.ZERO)) {\n    string.push('-');\n  }\n\n  // Decode combination field and exponent\n  combination = high >> 26 & COMBINATION_MASK;\n\n  if (combination >> 3 === 3) {\n    // Check for 'special' values\n    if (combination === COMBINATION_INFINITY) {\n      return string.join('') + 'Infinity';\n    } else if (combination === COMBINATION_NAN) {\n      return 'NaN';\n    } else {\n      biased_exponent = high >> 15 & EXPONENT_MASK;\n      significand_msb = 0x08 + (high >> 14 & 0x01);\n    }\n  } else {\n    significand_msb = high >> 14 & 0x07;\n    biased_exponent = high >> 17 & EXPONENT_MASK;\n  }\n\n  exponent = biased_exponent - EXPONENT_BIAS;\n\n  // Create string of significand digits\n\n  // Convert the 114-bit binary number represented by\n  // (significand_high, significand_low) to at most 34 decimal\n  // digits through modulo and division.\n  significand128.parts[0] = (high & 0x3fff) + ((significand_msb & 0xf) << 14);\n  significand128.parts[1] = midh;\n  significand128.parts[2] = midl;\n  significand128.parts[3] = low;\n\n  if (significand128.parts[0] === 0 && significand128.parts[1] === 0 && significand128.parts[2] === 0 && significand128.parts[3] === 0) {\n    is_zero = true;\n  } else {\n    for (k = 3; k >= 0; k--) {\n      var least_digits = 0;\n      // Peform the divide\n      var result = divideu128(significand128);\n      significand128 = result.quotient;\n      least_digits = result.rem.low_;\n\n      // We now have the 9 least significant digits (in base 2).\n      // Convert and output to string.\n      if (!least_digits) continue;\n\n      for (j = 8; j >= 0; j--) {\n        // significand[k * 9 + j] = Math.round(least_digits % 10);\n        significand[k * 9 + j] = least_digits % 10;\n        // least_digits = Math.round(least_digits / 10);\n        least_digits = Math.floor(least_digits / 10);\n      }\n    }\n  }\n\n  // Output format options:\n  // Scientific - [-]d.dddE(+/-)dd or [-]dE(+/-)dd\n  // Regular    - ddd.ddd\n\n  if (is_zero) {\n    significand_digits = 1;\n    significand[index] = 0;\n  } else {\n    significand_digits = 36;\n    i = 0;\n\n    while (!significand[index]) {\n      i++;\n      significand_digits = significand_digits - 1;\n      index = index + 1;\n    }\n  }\n\n  scientific_exponent = significand_digits - 1 + exponent;\n\n  // The scientific exponent checks are dictated by the string conversion\n  // specification and are somewhat arbitrary cutoffs.\n  //\n  // We must check exponent > 0, because if this is the case, the number\n  // has trailing zeros.  However, we *cannot* output these trailing zeros,\n  // because doing so would change the precision of the value, and would\n  // change stored data if the string converted number is round tripped.\n  if (scientific_exponent >= 34 || scientific_exponent <= -7 || exponent > 0) {\n    // Scientific format\n\n    // if there are too many significant digits, we should just be treating numbers\n    // as + or - 0 and using the non-scientific exponent (this is for the \"invalid\n    // representation should be treated as 0/-0\" spec cases in decimal128-1.json)\n    if (significand_digits > 34) {\n      string.push(0);\n      if (exponent > 0) string.push('E+' + exponent);else if (exponent < 0) string.push('E' + exponent);\n      return string.join('');\n    }\n\n    string.push(significand[index++]);\n    significand_digits = significand_digits - 1;\n\n    if (significand_digits) {\n      string.push('.');\n    }\n\n    for (i = 0; i < significand_digits; i++) {\n      string.push(significand[index++]);\n    }\n\n    // Exponent\n    string.push('E');\n    if (scientific_exponent > 0) {\n      string.push('+' + scientific_exponent);\n    } else {\n      string.push(scientific_exponent);\n    }\n  } else {\n    // Regular format with no decimal place\n    if (exponent >= 0) {\n      for (i = 0; i < significand_digits; i++) {\n        string.push(significand[index++]);\n      }\n    } else {\n      var radix_position = significand_digits + exponent;\n\n      // non-zero digits before radix\n      if (radix_position > 0) {\n        for (i = 0; i < radix_position; i++) {\n          string.push(significand[index++]);\n        }\n      } else {\n        string.push('0');\n      }\n\n      string.push('.');\n      // add leading zeros after radix\n      while (radix_position++ < 0) {\n        string.push('0');\n      }\n\n      for (i = 0; i < significand_digits - Math.max(radix_position - 1, 0); i++) {\n        string.push(significand[index++]);\n      }\n    }\n  }\n\n  return string.join('');\n};\n\nDecimal128.prototype.toJSON = function () {\n  return { $numberDecimal: this.toString() };\n};\n\nvar decimal128 = Decimal128;\nvar Decimal128_1 = Decimal128;\ndecimal128.Decimal128 = Decimal128_1;\n\n/**\n * A class representation of the BSON MinKey type.\n *\n * @class\n * @return {MinKey} A MinKey instance\n */\n\nfunction MinKey() {\n  if (!(this instanceof MinKey)) return new MinKey();\n\n  this._bsontype = 'MinKey';\n}\n\nvar min_key = MinKey;\nvar MinKey_1 = MinKey;\nmin_key.MinKey = MinKey_1;\n\n/**\n * A class representation of the BSON MaxKey type.\n *\n * @class\n * @return {MaxKey} A MaxKey instance\n */\n\nfunction MaxKey() {\n  if (!(this instanceof MaxKey)) return new MaxKey();\n\n  this._bsontype = 'MaxKey';\n}\n\nvar max_key = MaxKey;\nvar MaxKey_1 = MaxKey;\nmax_key.MaxKey = MaxKey_1;\n\n/**\n * A class representation of the BSON DBRef type.\n *\n * @class\n * @param {string} collection the collection name.\n * @param {ObjectID} oid the reference ObjectID.\n * @param {string} [db] optional db name, if omitted the reference is local to the current db.\n * @return {DBRef}\n */\n\nfunction DBRef(collection, oid, db, fields) {\n  if (!(this instanceof DBRef)) return new DBRef(collection, oid, db, fields);\n\n  // check if namespace has been provided\n  var parts = collection.split('.');\n  if (parts.length === 2) {\n    db = parts.shift();\n    collection = parts.shift();\n  }\n\n  this._bsontype = 'DBRef';\n  this.collection = collection;\n  this.oid = oid;\n  this.db = db;\n  this.fields = fields || {};\n}\n\n/**\n * @ignore\n * @api private\n */\nDBRef.prototype.toJSON = function () {\n  var o = {\n    $ref: this.collection,\n    $id: this.oid\n  };\n\n  if (this.db != null) o.$db = this.db;\n  o = Object.assign(o, this.fields);\n  return o;\n};\n\nvar db_ref = DBRef;\nvar DBRef_1 = DBRef;\ndb_ref.DBRef = DBRef_1;\n\nvar lookup = [];\nvar revLookup = [];\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\nvar inited = false;\nfunction init() {\n  inited = true;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i];\n    revLookup[code.charCodeAt(i)] = i;\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62;\n  revLookup['_'.charCodeAt(0)] = 63;\n}\n\nfunction toByteArray(b64) {\n  if (!inited) {\n    init();\n  }\n  var i, j, l, tmp, placeHolders, arr;\n  var len = b64.length;\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4');\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0;\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders);\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len;\n\n  var L = 0;\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];\n    arr[L++] = tmp >> 16 & 0xFF;\n    arr[L++] = tmp >> 8 & 0xFF;\n    arr[L++] = tmp & 0xFF;\n  }\n\n  if (placeHolders === 2) {\n    tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;\n    arr[L++] = tmp & 0xFF;\n  } else if (placeHolders === 1) {\n    tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;\n    arr[L++] = tmp >> 8 & 0xFF;\n    arr[L++] = tmp & 0xFF;\n  }\n\n  return arr;\n}\n\nfunction tripletToBase64(num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F];\n}\n\nfunction encodeChunk(uint8, start, end) {\n  var tmp;\n  var output = [];\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + uint8[i + 2];\n    output.push(tripletToBase64(tmp));\n  }\n  return output.join('');\n}\n\nfunction fromByteArray(uint8) {\n  if (!inited) {\n    init();\n  }\n  var tmp;\n  var len = uint8.length;\n  var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n  var output = '';\n  var parts = [];\n  var maxChunkLength = 16383; // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1];\n    output += lookup[tmp >> 2];\n    output += lookup[tmp << 4 & 0x3F];\n    output += '==';\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n    output += lookup[tmp >> 10];\n    output += lookup[tmp >> 4 & 0x3F];\n    output += lookup[tmp << 2 & 0x3F];\n    output += '=';\n  }\n\n  parts.push(output);\n\n  return parts.join('');\n}\n\nfunction read(buffer, offset, isLE, mLen, nBytes) {\n  var e, m;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = -7;\n  var i = isLE ? nBytes - 1 : 0;\n  var d = isLE ? -1 : 1;\n  var s = buffer[offset + i];\n\n  i += d;\n\n  e = s & (1 << -nBits) - 1;\n  s >>= -nBits;\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : (s ? -1 : 1) * Infinity;\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n}\n\nfunction write(buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n  var i = isLE ? 0 : nBytes - 1;\n  var d = isLE ? 1 : -1;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128;\n}\n\nvar toString = {}.toString;\n\nvar isArray = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\nvar INSPECT_MAX_BYTES = 50;\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer$1.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined ? global.TYPED_ARRAY_SUPPORT : true;\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nvar _kMaxLength = kMaxLength();\n\nfunction kMaxLength() {\n  return Buffer$1.TYPED_ARRAY_SUPPORT ? 0x7fffffff : 0x3fffffff;\n}\n\nfunction createBuffer(that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length');\n  }\n  if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length);\n    that.__proto__ = Buffer$1.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer$1(length);\n    }\n    that.length = length;\n  }\n\n  return that;\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer$1(arg, encodingOrOffset, length) {\n  if (!Buffer$1.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer$1)) {\n    return new Buffer$1(arg, encodingOrOffset, length);\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error('If encoding is specified then the first argument must be a string');\n    }\n    return allocUnsafe(this, arg);\n  }\n  return from(this, arg, encodingOrOffset, length);\n}\n\nBuffer$1.poolSize = 8192; // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer$1._augment = function (arr) {\n  arr.__proto__ = Buffer$1.prototype;\n  return arr;\n};\n\nfunction from(that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number');\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length);\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset);\n  }\n\n  return fromObject(that, value);\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer$1.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length);\n};\n\nif (Buffer$1.TYPED_ARRAY_SUPPORT) {\n  Buffer$1.prototype.__proto__ = Uint8Array.prototype;\n  Buffer$1.__proto__ = Uint8Array;\n}\n\nfunction assertSize(size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number');\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative');\n  }\n}\n\nfunction alloc(that, size, fill, encoding) {\n  assertSize(size);\n  if (size <= 0) {\n    return createBuffer(that, size);\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string' ? createBuffer(that, size).fill(fill, encoding) : createBuffer(that, size).fill(fill);\n  }\n  return createBuffer(that, size);\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer$1.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding);\n};\n\nfunction allocUnsafe(that, size) {\n  assertSize(size);\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0);\n  if (!Buffer$1.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0;\n    }\n  }\n  return that;\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer$1.allocUnsafe = function (size) {\n  return allocUnsafe(null, size);\n};\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer$1.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size);\n};\n\nfunction fromString(that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8';\n  }\n\n  if (!Buffer$1.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding');\n  }\n\n  var length = byteLength(string, encoding) | 0;\n  that = createBuffer(that, length);\n\n  var actual = that.write(string, encoding);\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual);\n  }\n\n  return that;\n}\n\nfunction fromArrayLike(that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0;\n  that = createBuffer(that, length);\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255;\n  }\n  return that;\n}\n\nfunction fromArrayBuffer(that, array, byteOffset, length) {\n  array.byteLength; // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds');\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds');\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array);\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset);\n  } else {\n    array = new Uint8Array(array, byteOffset, length);\n  }\n\n  if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array;\n    that.__proto__ = Buffer$1.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array);\n  }\n  return that;\n}\n\nfunction fromObject(that, obj) {\n  if (internalIsBuffer(obj)) {\n    var len = checked(obj.length) | 0;\n    that = createBuffer(that, len);\n\n    if (that.length === 0) {\n      return that;\n    }\n\n    obj.copy(that, 0, 0, len);\n    return that;\n  }\n\n  if (obj) {\n    if (typeof ArrayBuffer !== 'undefined' && obj.buffer instanceof ArrayBuffer || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0);\n      }\n      return fromArrayLike(that, obj);\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data);\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.');\n}\n\nfunction checked(length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + kMaxLength().toString(16) + ' bytes');\n  }\n  return length | 0;\n}\n\nfunction SlowBuffer(length) {\n  if (+length != length) {\n    // eslint-disable-line eqeqeq\n    length = 0;\n  }\n  return Buffer$1.alloc(+length);\n}\nBuffer$1.isBuffer = isBuffer;\nfunction internalIsBuffer(b) {\n  return !!(b != null && b._isBuffer);\n}\n\nBuffer$1.compare = function compare(a, b) {\n  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers');\n  }\n\n  if (a === b) return 0;\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) return -1;\n  if (y < x) return 1;\n  return 0;\n};\n\nBuffer$1.isEncoding = function isEncoding(encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true;\n    default:\n      return false;\n  }\n};\n\nBuffer$1.concat = function concat(list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers');\n  }\n\n  if (list.length === 0) {\n    return Buffer$1.alloc(0);\n  }\n\n  var i;\n  if (length === undefined) {\n    length = 0;\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length;\n    }\n  }\n\n  var buffer = Buffer$1.allocUnsafe(length);\n  var pos = 0;\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i];\n    if (!internalIsBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers');\n    }\n    buf.copy(buffer, pos);\n    pos += buf.length;\n  }\n  return buffer;\n};\n\nfunction byteLength(string, encoding) {\n  if (internalIsBuffer(string)) {\n    return string.length;\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength;\n  }\n  if (typeof string !== 'string') {\n    string = '' + string;\n  }\n\n  var len = string.length;\n  if (len === 0) return 0;\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false;\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len;\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length;\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2;\n      case 'hex':\n        return len >>> 1;\n      case 'base64':\n        return base64ToBytes(string).length;\n      default:\n        if (loweredCase) return utf8ToBytes(string).length; // assume utf8\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n}\nBuffer$1.byteLength = byteLength;\n\nfunction slowToString(encoding, start, end) {\n  var loweredCase = false;\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0;\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return '';\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length;\n  }\n\n  if (end <= 0) {\n    return '';\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0;\n  start >>>= 0;\n\n  if (end <= start) {\n    return '';\n  }\n\n  if (!encoding) encoding = 'utf8';\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end);\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end);\n\n      case 'ascii':\n        return asciiSlice(this, start, end);\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end);\n\n      case 'base64':\n        return base64Slice(this, start, end);\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end);\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n        encoding = (encoding + '').toLowerCase();\n        loweredCase = true;\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer$1.prototype._isBuffer = true;\n\nfunction swap(b, n, m) {\n  var i = b[n];\n  b[n] = b[m];\n  b[m] = i;\n}\n\nBuffer$1.prototype.swap16 = function swap16() {\n  var len = this.length;\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits');\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1);\n  }\n  return this;\n};\n\nBuffer$1.prototype.swap32 = function swap32() {\n  var len = this.length;\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits');\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3);\n    swap(this, i + 1, i + 2);\n  }\n  return this;\n};\n\nBuffer$1.prototype.swap64 = function swap64() {\n  var len = this.length;\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits');\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7);\n    swap(this, i + 1, i + 6);\n    swap(this, i + 2, i + 5);\n    swap(this, i + 3, i + 4);\n  }\n  return this;\n};\n\nBuffer$1.prototype.toString = function toString() {\n  var length = this.length | 0;\n  if (length === 0) return '';\n  if (arguments.length === 0) return utf8Slice(this, 0, length);\n  return slowToString.apply(this, arguments);\n};\n\nBuffer$1.prototype.equals = function equals(b) {\n  if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer');\n  if (this === b) return true;\n  return Buffer$1.compare(this, b) === 0;\n};\n\nBuffer$1.prototype.inspect = function inspect() {\n  var str = '';\n  var max = INSPECT_MAX_BYTES;\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ');\n    if (this.length > max) str += ' ... ';\n  }\n  return '<Buffer ' + str + '>';\n};\n\nBuffer$1.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {\n  if (!internalIsBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer');\n  }\n\n  if (start === undefined) {\n    start = 0;\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0;\n  }\n  if (thisStart === undefined) {\n    thisStart = 0;\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length;\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index');\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0;\n  }\n  if (thisStart >= thisEnd) {\n    return -1;\n  }\n  if (start >= end) {\n    return 1;\n  }\n\n  start >>>= 0;\n  end >>>= 0;\n  thisStart >>>= 0;\n  thisEnd >>>= 0;\n\n  if (this === target) return 0;\n\n  var x = thisEnd - thisStart;\n  var y = end - start;\n  var len = Math.min(x, y);\n\n  var thisCopy = this.slice(thisStart, thisEnd);\n  var targetCopy = target.slice(start, end);\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i];\n      y = targetCopy[i];\n      break;\n    }\n  }\n\n  if (x < y) return -1;\n  if (y < x) return 1;\n  return 0;\n};\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1;\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset;\n    byteOffset = 0;\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff;\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000;\n  }\n  byteOffset = +byteOffset; // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : buffer.length - 1;\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1;else byteOffset = buffer.length - 1;\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0;else return -1;\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer$1.from(val, encoding);\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (internalIsBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1;\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir);\n  } else if (typeof val === 'number') {\n    val = val & 0xFF; // Search for a byte value [0-255]\n    if (Buffer$1.TYPED_ARRAY_SUPPORT && typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);\n  }\n\n  throw new TypeError('val must be string, number or Buffer');\n}\n\nfunction arrayIndexOf(arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1;\n  var arrLength = arr.length;\n  var valLength = val.length;\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase();\n    if (encoding === 'ucs2' || encoding === 'ucs-2' || encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1;\n      }\n      indexSize = 2;\n      arrLength /= 2;\n      valLength /= 2;\n      byteOffset /= 2;\n    }\n  }\n\n  function read$$1(buf, i) {\n    if (indexSize === 1) {\n      return buf[i];\n    } else {\n      return buf.readUInt16BE(i * indexSize);\n    }\n  }\n\n  var i;\n  if (dir) {\n    var foundIndex = -1;\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read$$1(arr, i) === read$$1(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i;\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex;\n        foundIndex = -1;\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true;\n      for (var j = 0; j < valLength; j++) {\n        if (read$$1(arr, i + j) !== read$$1(val, j)) {\n          found = false;\n          break;\n        }\n      }\n      if (found) return i;\n    }\n  }\n\n  return -1;\n}\n\nBuffer$1.prototype.includes = function includes(val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1;\n};\n\nBuffer$1.prototype.indexOf = function indexOf(val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true);\n};\n\nBuffer$1.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false);\n};\n\nfunction hexWrite(buf, string, offset, length) {\n  offset = Number(offset) || 0;\n  var remaining = buf.length - offset;\n  if (!length) {\n    length = remaining;\n  } else {\n    length = Number(length);\n    if (length > remaining) {\n      length = remaining;\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length;\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string');\n\n  if (length > strLen / 2) {\n    length = strLen / 2;\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16);\n    if (isNaN(parsed)) return i;\n    buf[offset + i] = parsed;\n  }\n  return i;\n}\n\nfunction utf8Write(buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n}\n\nfunction asciiWrite(buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length);\n}\n\nfunction latin1Write(buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length);\n}\n\nfunction base64Write(buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length);\n}\n\nfunction ucs2Write(buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);\n}\n\nBuffer$1.prototype.write = function write$$1(string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8';\n    length = this.length;\n    offset = 0;\n    // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset;\n    length = this.length;\n    offset = 0;\n    // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0;\n    if (isFinite(length)) {\n      length = length | 0;\n      if (encoding === undefined) encoding = 'utf8';\n    } else {\n      encoding = length;\n      length = undefined;\n    }\n    // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');\n  }\n\n  var remaining = this.length - offset;\n  if (length === undefined || length > remaining) length = remaining;\n\n  if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds');\n  }\n\n  if (!encoding) encoding = 'utf8';\n\n  var loweredCase = false;\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length);\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length);\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length);\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length);\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length);\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length);\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n};\n\nBuffer$1.prototype.toJSON = function toJSON() {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  };\n};\n\nfunction base64Slice(buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return fromByteArray(buf);\n  } else {\n    return fromByteArray(buf.slice(start, end));\n  }\n}\n\nfunction utf8Slice(buf, start, end) {\n  end = Math.min(buf.length, end);\n  var res = [];\n\n  var i = start;\n  while (i < end) {\n    var firstByte = buf[i];\n    var codePoint = null;\n    var bytesPerSequence = firstByte > 0xEF ? 4 : firstByte > 0xDF ? 3 : firstByte > 0xBF ? 2 : 1;\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint;\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte;\n          }\n          break;\n        case 2:\n          secondByte = buf[i + 1];\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | secondByte & 0x3F;\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint;\n            }\n          }\n          break;\n        case 3:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | thirdByte & 0x3F;\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint;\n            }\n          }\n          break;\n        case 4:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n          fourthByte = buf[i + 3];\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | fourthByte & 0x3F;\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint;\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD;\n      bytesPerSequence = 1;\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000;\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n      codePoint = 0xDC00 | codePoint & 0x3FF;\n    }\n\n    res.push(codePoint);\n    i += bytesPerSequence;\n  }\n\n  return decodeCodePointsArray(res);\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000;\n\nfunction decodeCodePointsArray(codePoints) {\n  var len = codePoints.length;\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints); // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = '';\n  var i = 0;\n  while (i < len) {\n    res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));\n  }\n  return res;\n}\n\nfunction asciiSlice(buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F);\n  }\n  return ret;\n}\n\nfunction latin1Slice(buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i]);\n  }\n  return ret;\n}\n\nfunction hexSlice(buf, start, end) {\n  var len = buf.length;\n\n  if (!start || start < 0) start = 0;\n  if (!end || end < 0 || end > len) end = len;\n\n  var out = '';\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i]);\n  }\n  return out;\n}\n\nfunction utf16leSlice(buf, start, end) {\n  var bytes = buf.slice(start, end);\n  var res = '';\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n  }\n  return res;\n}\n\nBuffer$1.prototype.slice = function slice(start, end) {\n  var len = this.length;\n  start = ~~start;\n  end = end === undefined ? len : ~~end;\n\n  if (start < 0) {\n    start += len;\n    if (start < 0) start = 0;\n  } else if (start > len) {\n    start = len;\n  }\n\n  if (end < 0) {\n    end += len;\n    if (end < 0) end = 0;\n  } else if (end > len) {\n    end = len;\n  }\n\n  if (end < start) end = start;\n\n  var newBuf;\n  if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end);\n    newBuf.__proto__ = Buffer$1.prototype;\n  } else {\n    var sliceLen = end - start;\n    newBuf = new Buffer$1(sliceLen, undefined);\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start];\n    }\n  }\n\n  return newBuf;\n};\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset(offset, ext, length) {\n  if (offset % 1 !== 0 || offset < 0) throw new RangeError('offset is not uint');\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length');\n}\n\nBuffer$1.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n\n  return val;\n};\n\nBuffer$1.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length);\n  }\n\n  var val = this[offset + --byteLength];\n  var mul = 1;\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul;\n  }\n\n  return val;\n};\n\nBuffer$1.prototype.readUInt8 = function readUInt8(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  return this[offset];\n};\n\nBuffer$1.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return this[offset] | this[offset + 1] << 8;\n};\n\nBuffer$1.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return this[offset] << 8 | this[offset + 1];\n};\n\nBuffer$1.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n\n  return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 0x1000000;\n};\n\nBuffer$1.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n\n  return this[offset] * 0x1000000 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);\n};\n\nBuffer$1.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n  mul *= 0x80;\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n  return val;\n};\n\nBuffer$1.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n  var i = byteLength;\n  var mul = 1;\n  var val = this[offset + --i];\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul;\n  }\n  mul *= 0x80;\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n  return val;\n};\n\nBuffer$1.prototype.readInt8 = function readInt8(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  if (!(this[offset] & 0x80)) return this[offset];\n  return (0xff - this[offset] + 1) * -1;\n};\n\nBuffer$1.prototype.readInt16LE = function readInt16LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset] | this[offset + 1] << 8;\n  return val & 0x8000 ? val | 0xFFFF0000 : val;\n};\n\nBuffer$1.prototype.readInt16BE = function readInt16BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset + 1] | this[offset] << 8;\n  return val & 0x8000 ? val | 0xFFFF0000 : val;\n};\n\nBuffer$1.prototype.readInt32LE = function readInt32LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n\n  return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;\n};\n\nBuffer$1.prototype.readInt32BE = function readInt32BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n\n  return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];\n};\n\nBuffer$1.prototype.readFloatLE = function readFloatLE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return read(this, offset, true, 23, 4);\n};\n\nBuffer$1.prototype.readFloatBE = function readFloatBE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return read(this, offset, false, 23, 4);\n};\n\nBuffer$1.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return read(this, offset, true, 52, 8);\n};\n\nBuffer$1.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return read(this, offset, false, 52, 8);\n};\n\nfunction checkInt(buf, value, offset, ext, max, min) {\n  if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance');\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds');\n  if (offset + ext > buf.length) throw new RangeError('Index out of range');\n}\n\nBuffer$1.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var mul = 1;\n  var i = 0;\n  this[offset] = value & 0xFF;\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = value / mul & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer$1.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  this[offset + i] = value & 0xFF;\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = value / mul & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer$1.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);\n  if (!Buffer$1.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n  this[offset] = value & 0xff;\n  return offset + 1;\n};\n\nfunction objectWriteUInt16(buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1;\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & 0xff << 8 * (littleEndian ? i : 1 - i)) >>> (littleEndian ? i : 1 - i) * 8;\n  }\n}\n\nBuffer$1.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n  if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n  } else {\n    objectWriteUInt16(this, value, offset, true);\n  }\n  return offset + 2;\n};\n\nBuffer$1.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n  if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 8;\n    this[offset + 1] = value & 0xff;\n  } else {\n    objectWriteUInt16(this, value, offset, false);\n  }\n  return offset + 2;\n};\n\nfunction objectWriteUInt32(buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1;\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = value >>> (littleEndian ? i : 3 - i) * 8 & 0xff;\n  }\n}\n\nBuffer$1.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n  if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = value >>> 24;\n    this[offset + 2] = value >>> 16;\n    this[offset + 1] = value >>> 8;\n    this[offset] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, true);\n  }\n  return offset + 4;\n};\n\nBuffer$1.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n  if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 24;\n    this[offset + 1] = value >>> 16;\n    this[offset + 2] = value >>> 8;\n    this[offset + 3] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, false);\n  }\n  return offset + 4;\n};\n\nBuffer$1.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = 0;\n  var mul = 1;\n  var sub = 0;\n  this[offset] = value & 0xFF;\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1;\n    }\n    this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer$1.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  var sub = 0;\n  this[offset + i] = value & 0xFF;\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1;\n    }\n    this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer$1.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);\n  if (!Buffer$1.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n  if (value < 0) value = 0xff + value + 1;\n  this[offset] = value & 0xff;\n  return offset + 1;\n};\n\nBuffer$1.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n  if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n  } else {\n    objectWriteUInt16(this, value, offset, true);\n  }\n  return offset + 2;\n};\n\nBuffer$1.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n  if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 8;\n    this[offset + 1] = value & 0xff;\n  } else {\n    objectWriteUInt16(this, value, offset, false);\n  }\n  return offset + 2;\n};\n\nBuffer$1.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n  if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n    this[offset + 2] = value >>> 16;\n    this[offset + 3] = value >>> 24;\n  } else {\n    objectWriteUInt32(this, value, offset, true);\n  }\n  return offset + 4;\n};\n\nBuffer$1.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n  if (value < 0) value = 0xffffffff + value + 1;\n  if (Buffer$1.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 24;\n    this[offset + 1] = value >>> 16;\n    this[offset + 2] = value >>> 8;\n    this[offset + 3] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, false);\n  }\n  return offset + 4;\n};\n\nfunction checkIEEE754(buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range');\n  if (offset < 0) throw new RangeError('Index out of range');\n}\n\nfunction writeFloat(buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38);\n  }\n  write(buf, value, offset, littleEndian, 23, 4);\n  return offset + 4;\n}\n\nBuffer$1.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert);\n};\n\nBuffer$1.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert);\n};\n\nfunction writeDouble(buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308);\n  }\n  write(buf, value, offset, littleEndian, 52, 8);\n  return offset + 8;\n}\n\nBuffer$1.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert);\n};\n\nBuffer$1.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert);\n};\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer$1.prototype.copy = function copy(target, targetStart, start, end) {\n  if (!start) start = 0;\n  if (!end && end !== 0) end = this.length;\n  if (targetStart >= target.length) targetStart = target.length;\n  if (!targetStart) targetStart = 0;\n  if (end > 0 && end < start) end = start;\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0;\n  if (target.length === 0 || this.length === 0) return 0;\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds');\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds');\n  if (end < 0) throw new RangeError('sourceEnd out of bounds');\n\n  // Are we oob?\n  if (end > this.length) end = this.length;\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start;\n  }\n\n  var len = end - start;\n  var i;\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else if (len < 1000 || !Buffer$1.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else {\n    Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);\n  }\n\n  return len;\n};\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer$1.prototype.fill = function fill(val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start;\n      start = 0;\n      end = this.length;\n    } else if (typeof end === 'string') {\n      encoding = end;\n      end = this.length;\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0);\n      if (code < 256) {\n        val = code;\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string');\n    }\n    if (typeof encoding === 'string' && !Buffer$1.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding);\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255;\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index');\n  }\n\n  if (end <= start) {\n    return this;\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? this.length : end >>> 0;\n\n  if (!val) val = 0;\n\n  var i;\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val;\n    }\n  } else {\n    var bytes = internalIsBuffer(val) ? val : utf8ToBytes(new Buffer$1(val, encoding).toString());\n    var len = bytes.length;\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len];\n    }\n  }\n\n  return this;\n};\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g;\n\nfunction base64clean(str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '');\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return '';\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '=';\n  }\n  return str;\n}\n\nfunction stringtrim(str) {\n  if (str.trim) return str.trim();\n  return str.replace(/^\\s+|\\s+$/g, '');\n}\n\nfunction toHex(n) {\n  if (n < 16) return '0' + n.toString(16);\n  return n.toString(16);\n}\n\nfunction utf8ToBytes(string, units) {\n  units = units || Infinity;\n  var codePoint;\n  var length = string.length;\n  var leadSurrogate = null;\n  var bytes = [];\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i);\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        }\n\n        // valid lead\n        leadSurrogate = codePoint;\n\n        continue;\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n        leadSurrogate = codePoint;\n        continue;\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n    }\n\n    leadSurrogate = null;\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break;\n      bytes.push(codePoint);\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break;\n      bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break;\n      bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break;\n      bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else {\n      throw new Error('Invalid code point');\n    }\n  }\n\n  return bytes;\n}\n\nfunction asciiToBytes(str) {\n  var byteArray = [];\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF);\n  }\n  return byteArray;\n}\n\nfunction utf16leToBytes(str, units) {\n  var c, hi, lo;\n  var byteArray = [];\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break;\n\n    c = str.charCodeAt(i);\n    hi = c >> 8;\n    lo = c % 256;\n    byteArray.push(lo);\n    byteArray.push(hi);\n  }\n\n  return byteArray;\n}\n\nfunction base64ToBytes(str) {\n  return toByteArray(base64clean(str));\n}\n\nfunction blitBuffer(src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if (i + offset >= dst.length || i >= src.length) break;\n    dst[i + offset] = src[i];\n  }\n  return i;\n}\n\nfunction isnan(val) {\n  return val !== val; // eslint-disable-line no-self-compare\n}\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nfunction isBuffer(obj) {\n  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj));\n}\n\nfunction isFastBuffer(obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj);\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer(obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0));\n}\n\nvar bufferEs6 = Object.freeze({\n\tINSPECT_MAX_BYTES: INSPECT_MAX_BYTES,\n\tkMaxLength: _kMaxLength,\n\tBuffer: Buffer$1,\n\tSlowBuffer: SlowBuffer,\n\tisBuffer: isBuffer\n});\n\n/**\n * Module dependencies.\n * @ignore\n */\n\n// Test if we're in Node via presence of \"global\" not absence of \"window\"\n// to support hybrid environments like Electron\nif (typeof commonjsGlobal !== 'undefined') {\n  var Buffer$2 = bufferEs6.Buffer; // TODO just use global Buffer\n}\n\n/**\n * A class representation of the BSON Binary type.\n *\n * Sub types\n *  - **BSON.BSON_BINARY_SUBTYPE_DEFAULT**, default BSON type.\n *  - **BSON.BSON_BINARY_SUBTYPE_FUNCTION**, BSON function type.\n *  - **BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY**, BSON byte array type.\n *  - **BSON.BSON_BINARY_SUBTYPE_UUID**, BSON uuid type.\n *  - **BSON.BSON_BINARY_SUBTYPE_MD5**, BSON md5 type.\n *  - **BSON.BSON_BINARY_SUBTYPE_USER_DEFINED**, BSON user defined type.\n *\n * @class\n * @param {Buffer} buffer a buffer object containing the binary data.\n * @param {Number} [subType] the option binary type.\n * @return {Binary}\n */\nfunction Binary(buffer, subType) {\n  if (!(this instanceof Binary)) return new Binary(buffer, subType);\n\n  if (buffer != null && !(typeof buffer === 'string') && !Buffer$2.isBuffer(buffer) && !(buffer instanceof Uint8Array) && !Array.isArray(buffer)) {\n    throw new Error('only String, Buffer, Uint8Array or Array accepted');\n  }\n\n  this._bsontype = 'Binary';\n\n  if (buffer instanceof Number) {\n    this.sub_type = buffer;\n    this.position = 0;\n  } else {\n    this.sub_type = subType == null ? BSON_BINARY_SUBTYPE_DEFAULT : subType;\n    this.position = 0;\n  }\n\n  if (buffer != null && !(buffer instanceof Number)) {\n    // Only accept Buffer, Uint8Array or Arrays\n    if (typeof buffer === 'string') {\n      // Different ways of writing the length of the string for the different types\n      if (typeof Buffer$2 !== 'undefined') {\n        this.buffer = new Buffer$2(buffer);\n      } else if (typeof Uint8Array !== 'undefined' || Object.prototype.toString.call(buffer) === '[object Array]') {\n        this.buffer = writeStringToArray(buffer);\n      } else {\n        throw new TypeError('only String, Buffer, Uint8Array or Array accepted');\n      }\n    } else {\n      this.buffer = buffer;\n    }\n    this.position = buffer.length;\n  } else {\n    if (typeof Buffer$2 !== 'undefined') {\n      this.buffer = new Buffer$2(Binary.BUFFER_SIZE);\n    } else if (typeof Uint8Array !== 'undefined') {\n      this.buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE));\n    } else {\n      this.buffer = new Array(Binary.BUFFER_SIZE);\n    }\n    // Set position to start of buffer\n    this.position = 0;\n  }\n}\n\n/**\n * Updates this binary with byte_value.\n *\n * @method\n * @param {string} byte_value a single byte we wish to write.\n */\nBinary.prototype.put = function put(byte_value) {\n  // If it's a string and a has more than one character throw an error\n  if (byte_value['length'] != null && typeof byte_value !== 'number' && byte_value.length !== 1) throw new TypeError('only accepts single character String, Uint8Array or Array');\n  if (typeof byte_value !== 'number' && byte_value < 0 || byte_value > 255) throw new TypeError('only accepts number in a valid unsigned byte range 0-255');\n\n  // Decode the byte value once\n  var decoded_byte = null;\n  if (typeof byte_value === 'string') {\n    decoded_byte = byte_value.charCodeAt(0);\n  } else if (byte_value['length'] != null) {\n    decoded_byte = byte_value[0];\n  } else {\n    decoded_byte = byte_value;\n  }\n\n  if (this.buffer.length > this.position) {\n    this.buffer[this.position++] = decoded_byte;\n  } else {\n    if (typeof Buffer$2 !== 'undefined' && Buffer$2.isBuffer(this.buffer)) {\n      // Create additional overflow buffer\n      var buffer = new Buffer$2(Binary.BUFFER_SIZE + this.buffer.length);\n      // Combine the two buffers together\n      this.buffer.copy(buffer, 0, 0, this.buffer.length);\n      this.buffer = buffer;\n      this.buffer[this.position++] = decoded_byte;\n    } else {\n      buffer = null;\n      // Create a new buffer (typed or normal array)\n      if (Object.prototype.toString.call(this.buffer) === '[object Uint8Array]') {\n        buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE + this.buffer.length));\n      } else {\n        buffer = new Array(Binary.BUFFER_SIZE + this.buffer.length);\n      }\n\n      // We need to copy all the content to the new array\n      for (var i = 0; i < this.buffer.length; i++) {\n        buffer[i] = this.buffer[i];\n      }\n\n      // Reassign the buffer\n      this.buffer = buffer;\n      // Write the byte\n      this.buffer[this.position++] = decoded_byte;\n    }\n  }\n};\n\n/**\n * Writes a buffer or string to the binary.\n *\n * @method\n * @param {(Buffer|string)} string a string or buffer to be written to the Binary BSON object.\n * @param {number} offset specify the binary of where to write the content.\n * @return {null}\n */\nBinary.prototype.write = function write(string, offset) {\n  offset = typeof offset === 'number' ? offset : this.position;\n\n  // If the buffer is to small let's extend the buffer\n  if (this.buffer.length < offset + string.length) {\n    var buffer = null;\n    // If we are in node.js\n    if (typeof Buffer$2 !== 'undefined' && Buffer$2.isBuffer(this.buffer)) {\n      buffer = new Buffer$2(this.buffer.length + string.length);\n      this.buffer.copy(buffer, 0, 0, this.buffer.length);\n    } else if (Object.prototype.toString.call(this.buffer) === '[object Uint8Array]') {\n      // Create a new buffer\n      buffer = new Uint8Array(new ArrayBuffer(this.buffer.length + string.length));\n      // Copy the content\n      for (var i = 0; i < this.position; i++) {\n        buffer[i] = this.buffer[i];\n      }\n    }\n\n    // Assign the new buffer\n    this.buffer = buffer;\n  }\n\n  if (typeof Buffer$2 !== 'undefined' && Buffer$2.isBuffer(string) && Buffer$2.isBuffer(this.buffer)) {\n    string.copy(this.buffer, offset, 0, string.length);\n    this.position = offset + string.length > this.position ? offset + string.length : this.position;\n    // offset = string.length\n  } else if (typeof Buffer$2 !== 'undefined' && typeof string === 'string' && Buffer$2.isBuffer(this.buffer)) {\n    this.buffer.write(string, offset, 'binary');\n    this.position = offset + string.length > this.position ? offset + string.length : this.position;\n    // offset = string.length;\n  } else if (Object.prototype.toString.call(string) === '[object Uint8Array]' || Object.prototype.toString.call(string) === '[object Array]' && typeof string !== 'string') {\n    for (i = 0; i < string.length; i++) {\n      this.buffer[offset++] = string[i];\n    }\n\n    this.position = offset > this.position ? offset : this.position;\n  } else if (typeof string === 'string') {\n    for (i = 0; i < string.length; i++) {\n      this.buffer[offset++] = string.charCodeAt(i);\n    }\n\n    this.position = offset > this.position ? offset : this.position;\n  }\n};\n\n/**\n * Reads **length** bytes starting at **position**.\n *\n * @method\n * @param {number} position read from the given position in the Binary.\n * @param {number} length the number of bytes to read.\n * @return {Buffer}\n */\nBinary.prototype.read = function read(position, length) {\n  length = length && length > 0 ? length : this.position;\n\n  // Let's return the data based on the type we have\n  if (this.buffer['slice']) {\n    return this.buffer.slice(position, position + length);\n  } else {\n    // Create a buffer to keep the result\n    var buffer = typeof Uint8Array !== 'undefined' ? new Uint8Array(new ArrayBuffer(length)) : new Array(length);\n    for (var i = 0; i < length; i++) {\n      buffer[i] = this.buffer[position++];\n    }\n  }\n  // Return the buffer\n  return buffer;\n};\n\n/**\n * Returns the value of this binary as a string.\n *\n * @method\n * @return {string}\n */\nBinary.prototype.value = function value(asRaw) {\n  asRaw = asRaw == null ? false : asRaw;\n\n  // Optimize to serialize for the situation where the data == size of buffer\n  if (asRaw && typeof Buffer$2 !== 'undefined' && Buffer$2.isBuffer(this.buffer) && this.buffer.length === this.position) return this.buffer;\n\n  // If it's a node.js buffer object\n  if (typeof Buffer$2 !== 'undefined' && Buffer$2.isBuffer(this.buffer)) {\n    return asRaw ? this.buffer.slice(0, this.position) : this.buffer.toString('binary', 0, this.position);\n  } else {\n    if (asRaw) {\n      // we support the slice command use it\n      if (this.buffer['slice'] != null) {\n        return this.buffer.slice(0, this.position);\n      } else {\n        // Create a new buffer to copy content to\n        var newBuffer = Object.prototype.toString.call(this.buffer) === '[object Uint8Array]' ? new Uint8Array(new ArrayBuffer(this.position)) : new Array(this.position);\n        // Copy content\n        for (var i = 0; i < this.position; i++) {\n          newBuffer[i] = this.buffer[i];\n        }\n        // Return the buffer\n        return newBuffer;\n      }\n    } else {\n      return convertArraytoUtf8BinaryString(this.buffer, 0, this.position);\n    }\n  }\n};\n\n/**\n * Length.\n *\n * @method\n * @return {number} the length of the binary.\n */\nBinary.prototype.length = function length() {\n  return this.position;\n};\n\n/**\n * @ignore\n */\nBinary.prototype.toJSON = function () {\n  return this.buffer != null ? this.buffer.toString('base64') : '';\n};\n\n/**\n * @ignore\n */\nBinary.prototype.toString = function (format) {\n  return this.buffer != null ? this.buffer.slice(0, this.position).toString(format) : '';\n};\n\n/**\n * Binary default subtype\n * @ignore\n */\nvar BSON_BINARY_SUBTYPE_DEFAULT = 0;\n\n/**\n * @ignore\n */\nvar writeStringToArray = function writeStringToArray(data) {\n  // Create a buffer\n  var buffer = typeof Uint8Array !== 'undefined' ? new Uint8Array(new ArrayBuffer(data.length)) : new Array(data.length);\n  // Write the content to the buffer\n  for (var i = 0; i < data.length; i++) {\n    buffer[i] = data.charCodeAt(i);\n  }\n  // Write the string to the buffer\n  return buffer;\n};\n\n/**\n * Convert Array ot Uint8Array to Binary String\n *\n * @ignore\n */\nvar convertArraytoUtf8BinaryString = function convertArraytoUtf8BinaryString(byteArray, startIndex, endIndex) {\n  var result = '';\n  for (var i = startIndex; i < endIndex; i++) {\n    result = result + String.fromCharCode(byteArray[i]);\n  }\n  return result;\n};\n\nBinary.BUFFER_SIZE = 256;\n\n/**\n * Default BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_DEFAULT = 0;\n/**\n * Function BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_FUNCTION = 1;\n/**\n * Byte Array BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_BYTE_ARRAY = 2;\n/**\n * OLD UUID BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_UUID_OLD = 3;\n/**\n * UUID BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_UUID = 4;\n/**\n * MD5 BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_MD5 = 5;\n/**\n * User BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_USER_DEFINED = 128;\n\n/**\n * Expose.\n */\nvar binary = Binary;\nvar Binary_1 = Binary;\nbinary.Binary = Binary_1;\n\nvar Long$1 = long_1.Long,\n    Double$1 = double_1.Double,\n    Timestamp$1 = timestamp.Timestamp,\n    ObjectID$1 = objectid.ObjectID,\n    Code$1 = code.Code,\n    MinKey$1 = min_key.MinKey,\n    MaxKey$1 = max_key.MaxKey,\n    DBRef$1 = db_ref.DBRef,\n    BSONRegExp$1 = regexp.BSONRegExp,\n    Binary$1 = binary.Binary;\n\nvar deserialize = function deserialize(buffer, options, isArray) {\n  options = options == null ? {} : options;\n  var index = options && options.index ? options.index : 0;\n  // Read the document size\n  var size = buffer[index] | buffer[index + 1] << 8 | buffer[index + 2] << 16 | buffer[index + 3] << 24;\n\n  if (size < 5) {\n    throw new Error('bson size must be >= 5, is ' + size);\n  }\n\n  if (options.allowObjectSmallerThanBufferSize && buffer.length < size) {\n    throw new Error('buffer length ' + buffer.length + ' must be >= bson size ' + size);\n  }\n\n  if (!options.allowObjectSmallerThanBufferSize && buffer.length !== size) {\n    throw new Error('buffer length ' + buffer.length + ' must === bson size ' + size);\n  }\n\n  if (size + index > buffer.length) {\n    throw new Error('(bson size ' + size + ' + options.index ' + index + ' must be <= buffer length ' + buffer.length + ')');\n  }\n\n  // Illegal end value\n  if (buffer[index + size - 1] !== 0) {\n    throw new Error(\"One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00\");\n  }\n\n  // Start deserializtion\n  return deserializeObject(buffer, index, options, isArray);\n};\n\nvar deserializeObject = function deserializeObject(buffer, index, options, isArray) {\n  var evalFunctions = options['evalFunctions'] == null ? false : options['evalFunctions'];\n  var cacheFunctions = options['cacheFunctions'] == null ? false : options['cacheFunctions'];\n  var cacheFunctionsCrc32 = options['cacheFunctionsCrc32'] == null ? false : options['cacheFunctionsCrc32'];\n\n  if (!cacheFunctionsCrc32) var crc32 = null;\n\n  var fieldsAsRaw = options['fieldsAsRaw'] == null ? null : options['fieldsAsRaw'];\n\n  // Return raw bson buffer instead of parsing it\n  var raw = options['raw'] == null ? false : options['raw'];\n\n  // Return BSONRegExp objects instead of native regular expressions\n  var bsonRegExp = typeof options['bsonRegExp'] === 'boolean' ? options['bsonRegExp'] : false;\n\n  // Controls the promotion of values vs wrapper classes\n  var promoteBuffers = options['promoteBuffers'] == null ? false : options['promoteBuffers'];\n  var promoteLongs = options['promoteLongs'] == null ? true : options['promoteLongs'];\n  var promoteValues = options['promoteValues'] == null ? true : options['promoteValues'];\n\n  // Set the start index\n  var startIndex = index;\n\n  // Validate that we have at least 4 bytes of buffer\n  if (buffer.length < 5) throw new Error('corrupt bson message < 5 bytes long');\n\n  // Read the document size\n  var size = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n  // Ensure buffer is valid size\n  if (size < 5 || size > buffer.length) throw new Error('corrupt bson message');\n\n  // Create holding object\n  var object = isArray ? [] : {};\n  // Used for arrays to skip having to perform utf8 decoding\n  var arrayIndex = 0,\n      done = false;\n\n  // While we have more left data left keep parsing\n  while (!done) {\n    // Read the type\n    var elementType = buffer[index++];\n\n    // If we get a zero it's the last byte, exit\n    if (elementType === 0) break;\n\n    // Get the start search index\n    var i = index;\n    // Locate the end of the c string\n    while (buffer[i] !== 0x00 && i < buffer.length) {\n      i++;\n    }\n\n    // If are at the end of the buffer there is a problem with the document\n    if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n    var name = isArray ? arrayIndex++ : buffer.toString('utf8', index, i);\n\n    index = i + 1;\n\n    if (elementType === BSON.BSON_DATA_STRING) {\n      var stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      if (stringSize <= 0 || stringSize > buffer.length - index || buffer[index + stringSize - 1] !== 0) throw new Error('bad string length in bson');\n\n      var s = buffer.toString('utf8', index, index + stringSize - 1);\n      for (i = 0; i < s.length; i++) {\n        if (s.charCodeAt(i) === 0xfffd) {\n          throw new Error('Invalid UTF-8 string in BSON document');\n        }\n      }\n\n      object[name] = s;\n      index = index + stringSize;\n    } else if (elementType === BSON.BSON_DATA_OID) {\n      var oid = new Buffer(12);\n      buffer.copy(oid, 0, index, index + 12);\n      object[name] = new ObjectID$1(oid);\n      index = index + 12;\n    } else if (elementType === BSON.BSON_DATA_INT && promoteValues === false) {\n      object[name] = new int_32(buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24);\n    } else if (elementType === BSON.BSON_DATA_INT) {\n      object[name] = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n    } else if (elementType === BSON.BSON_DATA_NUMBER && promoteValues === false) {\n      object[name] = new Double$1(buffer.readDoubleLE(index));\n      index = index + 8;\n    } else if (elementType === BSON.BSON_DATA_NUMBER) {\n      object[name] = buffer.readDoubleLE(index);\n      index = index + 8;\n    } else if (elementType === BSON.BSON_DATA_DATE) {\n      var lowBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      var highBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      object[name] = new Date(new Long$1(lowBits, highBits).toNumber());\n    } else if (elementType === BSON.BSON_DATA_BOOLEAN) {\n      if (buffer[index] !== 0 && buffer[index] !== 1) throw new Error('illegal boolean type value');\n      object[name] = buffer[index++] === 1;\n    } else if (elementType === BSON.BSON_DATA_OBJECT) {\n      var _index = index;\n      var objectSize = buffer[index] | buffer[index + 1] << 8 | buffer[index + 2] << 16 | buffer[index + 3] << 24;\n      if (objectSize <= 0 || objectSize > buffer.length - index) throw new Error('bad embedded document length in bson');\n\n      // We have a raw value\n      if (raw) {\n        object[name] = buffer.slice(index, index + objectSize);\n      } else {\n        object[name] = deserializeObject(buffer, _index, options, false);\n      }\n\n      index = index + objectSize;\n    } else if (elementType === BSON.BSON_DATA_ARRAY) {\n      _index = index;\n      objectSize = buffer[index] | buffer[index + 1] << 8 | buffer[index + 2] << 16 | buffer[index + 3] << 24;\n      var arrayOptions = options;\n\n      // Stop index\n      var stopIndex = index + objectSize;\n\n      // All elements of array to be returned as raw bson\n      if (fieldsAsRaw && fieldsAsRaw[name]) {\n        arrayOptions = {};\n        for (var n in options) {\n          arrayOptions[n] = options[n];\n        }arrayOptions['raw'] = true;\n      }\n\n      object[name] = deserializeObject(buffer, _index, arrayOptions, true);\n      index = index + objectSize;\n\n      if (buffer[index - 1] !== 0) throw new Error('invalid array terminator byte');\n      if (index !== stopIndex) throw new Error('corrupted array bson');\n    } else if (elementType === BSON.BSON_DATA_UNDEFINED) {\n      object[name] = undefined;\n    } else if (elementType === BSON.BSON_DATA_NULL) {\n      object[name] = null;\n    } else if (elementType === BSON.BSON_DATA_LONG) {\n      // Unpack the low and high bits\n      lowBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      highBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      var long = new Long$1(lowBits, highBits);\n      // Promote the long if possible\n      if (promoteLongs && promoteValues === true) {\n        object[name] = long.lessThanOrEqual(JS_INT_MAX_LONG) && long.greaterThanOrEqual(JS_INT_MIN_LONG) ? long.toNumber() : long;\n      } else {\n        object[name] = long;\n      }\n    } else if (elementType === BSON.BSON_DATA_DECIMAL128) {\n      // Buffer to contain the decimal bytes\n      var bytes = new Buffer(16);\n      // Copy the next 16 bytes into the bytes buffer\n      buffer.copy(bytes, 0, index, index + 16);\n      // Update index\n      index = index + 16;\n      // Assign the new Decimal128 value\n      var decimal128$$1 = new decimal128(bytes);\n      // If we have an alternative mapper use that\n      object[name] = decimal128$$1.toObject ? decimal128$$1.toObject() : decimal128$$1;\n    } else if (elementType === BSON.BSON_DATA_BINARY) {\n      var binarySize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      var totalBinarySize = binarySize;\n      var subType = buffer[index++];\n\n      // Did we have a negative binary size, throw\n      if (binarySize < 0) throw new Error('Negative binary type element size found');\n\n      // Is the length longer than the document\n      if (binarySize > buffer.length) throw new Error('Binary type size larger than document size');\n\n      // Decode as raw Buffer object if options specifies it\n      if (buffer['slice'] != null) {\n        // If we have subtype 2 skip the 4 bytes for the size\n        if (subType === Binary$1.SUBTYPE_BYTE_ARRAY) {\n          binarySize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n          if (binarySize < 0) throw new Error('Negative binary type element size found for subtype 0x02');\n          if (binarySize > totalBinarySize - 4) throw new Error('Binary type with subtype 0x02 contains to long binary size');\n          if (binarySize < totalBinarySize - 4) throw new Error('Binary type with subtype 0x02 contains to short binary size');\n        }\n\n        if (promoteBuffers && promoteValues) {\n          object[name] = buffer.slice(index, index + binarySize);\n        } else {\n          object[name] = new Binary$1(buffer.slice(index, index + binarySize), subType);\n        }\n      } else {\n        var _buffer = typeof Uint8Array !== 'undefined' ? new Uint8Array(new ArrayBuffer(binarySize)) : new Array(binarySize);\n        // If we have subtype 2 skip the 4 bytes for the size\n        if (subType === Binary$1.SUBTYPE_BYTE_ARRAY) {\n          binarySize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n          if (binarySize < 0) throw new Error('Negative binary type element size found for subtype 0x02');\n          if (binarySize > totalBinarySize - 4) throw new Error('Binary type with subtype 0x02 contains to long binary size');\n          if (binarySize < totalBinarySize - 4) throw new Error('Binary type with subtype 0x02 contains to short binary size');\n        }\n\n        // Copy the data\n        for (i = 0; i < binarySize; i++) {\n          _buffer[i] = buffer[index + i];\n        }\n\n        if (promoteBuffers && promoteValues) {\n          object[name] = _buffer;\n        } else {\n          object[name] = new Binary$1(_buffer, subType);\n        }\n      }\n\n      // Update the index\n      index = index + binarySize;\n    } else if (elementType === BSON.BSON_DATA_REGEXP && bsonRegExp === false) {\n      // Get the start search index\n      i = index;\n      // Locate the end of the c string\n      while (buffer[i] !== 0x00 && i < buffer.length) {\n        i++;\n      }\n      // If are at the end of the buffer there is a problem with the document\n      if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n      // Return the C string\n      var source = buffer.toString('utf8', index, i);\n      // Create the regexp\n      index = i + 1;\n\n      // Get the start search index\n      i = index;\n      // Locate the end of the c string\n      while (buffer[i] !== 0x00 && i < buffer.length) {\n        i++;\n      }\n      // If are at the end of the buffer there is a problem with the document\n      if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n      // Return the C string\n      var regExpOptions = buffer.toString('utf8', index, i);\n      index = i + 1;\n\n      // For each option add the corresponding one for javascript\n      var optionsArray = new Array(regExpOptions.length);\n\n      // Parse options\n      for (i = 0; i < regExpOptions.length; i++) {\n        switch (regExpOptions[i]) {\n          case 'm':\n            optionsArray[i] = 'm';\n            break;\n          case 's':\n            optionsArray[i] = 'g';\n            break;\n          case 'i':\n            optionsArray[i] = 'i';\n            break;\n        }\n      }\n\n      object[name] = new RegExp(source, optionsArray.join(''));\n    } else if (elementType === BSON.BSON_DATA_REGEXP && bsonRegExp === true) {\n      // Get the start search index\n      i = index;\n      // Locate the end of the c string\n      while (buffer[i] !== 0x00 && i < buffer.length) {\n        i++;\n      }\n      // If are at the end of the buffer there is a problem with the document\n      if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n      // Return the C string\n      source = buffer.toString('utf8', index, i);\n      index = i + 1;\n\n      // Get the start search index\n      i = index;\n      // Locate the end of the c string\n      while (buffer[i] !== 0x00 && i < buffer.length) {\n        i++;\n      }\n      // If are at the end of the buffer there is a problem with the document\n      if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n      // Return the C string\n      regExpOptions = buffer.toString('utf8', index, i);\n      index = i + 1;\n\n      // Set the object\n      object[name] = new BSONRegExp$1(source, regExpOptions);\n    } else if (elementType === BSON.BSON_DATA_SYMBOL) {\n      stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      if (stringSize <= 0 || stringSize > buffer.length - index || buffer[index + stringSize - 1] !== 0) throw new Error('bad string length in bson');\n      // symbol is deprecated - upgrade to string.\n      object[name] = buffer.toString('utf8', index, index + stringSize - 1);\n      index = index + stringSize;\n    } else if (elementType === BSON.BSON_DATA_TIMESTAMP) {\n      lowBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      highBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n      object[name] = new Timestamp$1(lowBits, highBits);\n    } else if (elementType === BSON.BSON_DATA_MIN_KEY) {\n      object[name] = new MinKey$1();\n    } else if (elementType === BSON.BSON_DATA_MAX_KEY) {\n      object[name] = new MaxKey$1();\n    } else if (elementType === BSON.BSON_DATA_CODE) {\n      stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      if (stringSize <= 0 || stringSize > buffer.length - index || buffer[index + stringSize - 1] !== 0) throw new Error('bad string length in bson');\n      var functionString = buffer.toString('utf8', index, index + stringSize - 1);\n\n      // If we are evaluating the functions\n      if (evalFunctions) {\n        // If we have cache enabled let's look for the md5 of the function in the cache\n        if (cacheFunctions) {\n          var hash = cacheFunctionsCrc32 ? crc32(functionString) : functionString;\n          // Got to do this to avoid V8 deoptimizing the call due to finding eval\n          object[name] = isolateEvalWithHash(functionCache, hash, functionString, object);\n        } else {\n          object[name] = isolateEval(functionString);\n        }\n      } else {\n        object[name] = new Code$1(functionString);\n      }\n\n      // Update parse index position\n      index = index + stringSize;\n    } else if (elementType === BSON.BSON_DATA_CODE_W_SCOPE) {\n      var totalSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n      // Element cannot be shorter than totalSize + stringSize + documentSize + terminator\n      if (totalSize < 4 + 4 + 4 + 1) {\n        throw new Error('code_w_scope total size shorter minimum expected length');\n      }\n\n      // Get the code string size\n      stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      // Check if we have a valid string\n      if (stringSize <= 0 || stringSize > buffer.length - index || buffer[index + stringSize - 1] !== 0) throw new Error('bad string length in bson');\n\n      // Javascript function\n      functionString = buffer.toString('utf8', index, index + stringSize - 1);\n      // Update parse index position\n      index = index + stringSize;\n      // Parse the element\n      _index = index;\n      // Decode the size of the object document\n      objectSize = buffer[index] | buffer[index + 1] << 8 | buffer[index + 2] << 16 | buffer[index + 3] << 24;\n      // Decode the scope object\n      var scopeObject = deserializeObject(buffer, _index, options, false);\n      // Adjust the index\n      index = index + objectSize;\n\n      // Check if field length is to short\n      if (totalSize < 4 + 4 + objectSize + stringSize) {\n        throw new Error('code_w_scope total size is to short, truncating scope');\n      }\n\n      // Check if totalSize field is to long\n      if (totalSize > 4 + 4 + objectSize + stringSize) {\n        throw new Error('code_w_scope total size is to long, clips outer document');\n      }\n\n      // If we are evaluating the functions\n      if (evalFunctions) {\n        // If we have cache enabled let's look for the md5 of the function in the cache\n        if (cacheFunctions) {\n          hash = cacheFunctionsCrc32 ? crc32(functionString) : functionString;\n          // Got to do this to avoid V8 deoptimizing the call due to finding eval\n          object[name] = isolateEvalWithHash(functionCache, hash, functionString, object);\n        } else {\n          object[name] = isolateEval(functionString);\n        }\n\n        object[name].scope = scopeObject;\n      } else {\n        object[name] = new Code$1(functionString, scopeObject);\n      }\n    } else if (elementType === BSON.BSON_DATA_DBPOINTER) {\n      // Get the code string size\n      stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      // Check if we have a valid string\n      if (stringSize <= 0 || stringSize > buffer.length - index || buffer[index + stringSize - 1] !== 0) throw new Error('bad string length in bson');\n      // Namespace\n      var namespace = buffer.toString('utf8', index, index + stringSize - 1);\n      // Update parse index position\n      index = index + stringSize;\n\n      // Read the oid\n      var oidBuffer = new Buffer(12);\n      buffer.copy(oidBuffer, 0, index, index + 12);\n      oid = new ObjectID$1(oidBuffer);\n\n      // Update the index\n      index = index + 12;\n      for (i = 0; i < namespace.length; i++) {\n        if (namespace.charCodeAt(i) === 0xfffd) {\n          throw new Error('Invalid UTF-8 string in BSON document');\n        }\n      }\n\n      // Upgrade to DBRef type\n      object[name] = new DBRef$1(namespace, oid);\n    } else {\n      throw new Error('Detected unknown BSON type ' + elementType.toString(16) + ' for fieldname \"' + name + '\", are you using the latest BSON parser?');\n    }\n  }\n\n  // Check if the deserialization was against a valid array/object\n  if (size !== index - startIndex) {\n    if (isArray) throw new Error('corrupt array bson');\n    throw new Error('corrupt object bson');\n  }\n\n  // check if object's $ keys are those of a DBRef\n  var dollarKeys = Object.keys(object).filter(function (k) {\n    return k.startsWith('$');\n  });\n  var valid = true;\n  dollarKeys.forEach(function (k) {\n    if (['$ref', '$id', '$db'].indexOf(k) === -1) valid = false;\n  });\n\n  // if a $key not in \"$ref\", \"$id\", \"$db\", don't make a DBRef\n  if (!valid) return object;\n\n  if (object['$id'] != null && object['$ref'] != null) {\n    var copy = Object.assign({}, object);\n    delete copy.$ref;\n    delete copy.$id;\n    delete copy.$db;\n    return new DBRef$1(object.$ref, object.$id, object.$db || null, copy);\n  }\n\n  return object;\n};\n\n/**\n * Ensure eval is isolated.\n *\n * @ignore\n * @api private\n */\nvar isolateEvalWithHash = function isolateEvalWithHash(functionCache, hash, functionString, object) {\n  // Contains the value we are going to set\n  var value = null;\n\n  // Check for cache hit, eval if missing and return cached function\n  if (functionCache[hash] == null) {\n    eval('value = ' + functionString);\n    functionCache[hash] = value;\n  }\n  // Set the object\n  return functionCache[hash].bind(object);\n};\n\n/**\n * Ensure eval is isolated.\n *\n * @ignore\n * @api private\n */\nvar isolateEval = function isolateEval(functionString) {\n  // Contains the value we are going to set\n  var value = null;\n  // Eval the function\n  eval('value = ' + functionString);\n  return value;\n};\n\nvar BSON = {};\n\n/**\n * Contains the function cache if we have that enable to allow for avoiding the eval step on each deserialization, comparison is by md5\n *\n * @ignore\n * @api private\n */\nvar functionCache = BSON.functionCache = {};\n\n/**\n * Number BSON Type\n *\n * @classconstant BSON_DATA_NUMBER\n **/\nBSON.BSON_DATA_NUMBER = 1;\n/**\n * String BSON Type\n *\n * @classconstant BSON_DATA_STRING\n **/\nBSON.BSON_DATA_STRING = 2;\n/**\n * Object BSON Type\n *\n * @classconstant BSON_DATA_OBJECT\n **/\nBSON.BSON_DATA_OBJECT = 3;\n/**\n * Array BSON Type\n *\n * @classconstant BSON_DATA_ARRAY\n **/\nBSON.BSON_DATA_ARRAY = 4;\n/**\n * Binary BSON Type\n *\n * @classconstant BSON_DATA_BINARY\n **/\nBSON.BSON_DATA_BINARY = 5;\n/**\n * Binary BSON Type\n *\n * @classconstant BSON_DATA_UNDEFINED\n **/\nBSON.BSON_DATA_UNDEFINED = 6;\n/**\n * ObjectID BSON Type\n *\n * @classconstant BSON_DATA_OID\n **/\nBSON.BSON_DATA_OID = 7;\n/**\n * Boolean BSON Type\n *\n * @classconstant BSON_DATA_BOOLEAN\n **/\nBSON.BSON_DATA_BOOLEAN = 8;\n/**\n * Date BSON Type\n *\n * @classconstant BSON_DATA_DATE\n **/\nBSON.BSON_DATA_DATE = 9;\n/**\n * null BSON Type\n *\n * @classconstant BSON_DATA_NULL\n **/\nBSON.BSON_DATA_NULL = 10;\n/**\n * RegExp BSON Type\n *\n * @classconstant BSON_DATA_REGEXP\n **/\nBSON.BSON_DATA_REGEXP = 11;\n/**\n * Code BSON Type\n *\n * @classconstant BSON_DATA_DBPOINTER\n **/\nBSON.BSON_DATA_DBPOINTER = 12;\n/**\n * Code BSON Type\n *\n * @classconstant BSON_DATA_CODE\n **/\nBSON.BSON_DATA_CODE = 13;\n/**\n * Symbol BSON Type\n *\n * @classconstant BSON_DATA_SYMBOL\n **/\nBSON.BSON_DATA_SYMBOL = 14;\n/**\n * Code with Scope BSON Type\n *\n * @classconstant BSON_DATA_CODE_W_SCOPE\n **/\nBSON.BSON_DATA_CODE_W_SCOPE = 15;\n/**\n * 32 bit Integer BSON Type\n *\n * @classconstant BSON_DATA_INT\n **/\nBSON.BSON_DATA_INT = 16;\n/**\n * Timestamp BSON Type\n *\n * @classconstant BSON_DATA_TIMESTAMP\n **/\nBSON.BSON_DATA_TIMESTAMP = 17;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_LONG\n **/\nBSON.BSON_DATA_LONG = 18;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_DECIMAL128\n **/\nBSON.BSON_DATA_DECIMAL128 = 19;\n/**\n * MinKey BSON Type\n *\n * @classconstant BSON_DATA_MIN_KEY\n **/\nBSON.BSON_DATA_MIN_KEY = 0xff;\n/**\n * MaxKey BSON Type\n *\n * @classconstant BSON_DATA_MAX_KEY\n **/\nBSON.BSON_DATA_MAX_KEY = 0x7f;\n\n/**\n * Binary Default Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_DEFAULT\n **/\nBSON.BSON_BINARY_SUBTYPE_DEFAULT = 0;\n/**\n * Binary Function Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_FUNCTION\n **/\nBSON.BSON_BINARY_SUBTYPE_FUNCTION = 1;\n/**\n * Binary Byte Array Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY\n **/\nBSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2;\n/**\n * Binary UUID Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_UUID\n **/\nBSON.BSON_BINARY_SUBTYPE_UUID = 3;\n/**\n * Binary MD5 Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_MD5\n **/\nBSON.BSON_BINARY_SUBTYPE_MD5 = 4;\n/**\n * Binary User Defined Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED\n **/\nBSON.BSON_BINARY_SUBTYPE_USER_DEFINED = 128;\n\n// BSON MAX VALUES\nBSON.BSON_INT32_MAX = 0x7fffffff;\nBSON.BSON_INT32_MIN = -0x80000000;\n\nBSON.BSON_INT64_MAX = Math.pow(2, 63) - 1;\nBSON.BSON_INT64_MIN = -Math.pow(2, 63);\n\n// JS MAX PRECISE VALUES\nBSON.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\nBSON.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\n// Internal long versions\nvar JS_INT_MAX_LONG = Long$1.fromNumber(0x20000000000000); // Any integer up to 2^53 can be precisely represented by a double.\nvar JS_INT_MIN_LONG = Long$1.fromNumber(-0x20000000000000); // Any integer down to -2^53 can be precisely represented by a double.\n\nvar deserializer = deserialize;\n\n// Copyright (c) 2008, Fair Oaks Labs, Inc.\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//  * Redistributions of source code must retain the above copyright notice,\n//    this list of conditions and the following disclaimer.\n//\n//  * Redistributions in binary form must reproduce the above copyright notice,\n//    this list of conditions and the following disclaimer in the documentation\n//    and/or other materials provided with the distribution.\n//\n//  * Neither the name of Fair Oaks Labs, Inc. nor the names of its contributors\n//    may be used to endorse or promote products derived from this software\n//    without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n//\n//\n// Modifications to writeIEEE754 to support negative zeroes made by Brian White\n\nvar readIEEE754 = function readIEEE754(buffer, offset, endian, mLen, nBytes) {\n  var e,\n      m,\n      bBE = endian === 'big',\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      nBits = -7,\n      i = bBE ? 0 : nBytes - 1,\n      d = bBE ? 1 : -1,\n      s = buffer[offset + i];\n\n  i += d;\n\n  e = s & (1 << -nBits) - 1;\n  s >>= -nBits;\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : (s ? -1 : 1) * Infinity;\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nvar writeIEEE754 = function writeIEEE754(buffer, value, offset, endian, mLen, nBytes) {\n  var e,\n      m,\n      c,\n      bBE = endian === 'big',\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0,\n      i = bBE ? nBytes - 1 : 0,\n      d = bBE ? -1 : 1,\n      s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  if (isNaN(value)) m = 0;\n\n  while (mLen >= 8) {\n    buffer[offset + i] = m & 0xff;\n    i += d;\n    m /= 256;\n    mLen -= 8;\n  }\n\n  e = e << mLen | m;\n\n  if (isNaN(value)) e += 8;\n\n  eLen += mLen;\n\n  while (eLen > 0) {\n    buffer[offset + i] = e & 0xff;\n    i += d;\n    e /= 256;\n    eLen -= 8;\n  }\n\n  buffer[offset + i - d] |= s * 128;\n};\n\nvar readIEEE754_1 = readIEEE754;\nvar writeIEEE754_1 = writeIEEE754;\n\nvar float_parser = {\n  readIEEE754: readIEEE754_1,\n  writeIEEE754: writeIEEE754_1\n};\n\n/**\n * Normalizes our expected stringified form of a function across versions of node\n * @param {Function} fn The function to stringify\n */\n\nfunction normalizedFunctionString(fn) {\n  return fn.toString().replace('function(', 'function (');\n}\n\nvar utils = {\n  normalizedFunctionString: normalizedFunctionString\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar writeIEEE754$1 = float_parser.writeIEEE754,\n    Long$2 = long_1.Long,\n    MinKey$2 = min_key.MinKey,\n    Binary$2 = binary.Binary;\n\nvar normalizedFunctionString$1 = utils.normalizedFunctionString;\n\n// try {\n//   var _Buffer = Uint8Array;\n// } catch (e) {\n//   _Buffer = Buffer;\n// }\n\nvar regexp$1 = /\\x00/; // eslint-disable-line no-control-regex\n\n// To ensure that 0.4 of node works correctly\nvar isDate = function isDate(d) {\n  return (typeof d === 'undefined' ? 'undefined' : _typeof(d)) === 'object' && Object.prototype.toString.call(d) === '[object Date]';\n};\n\nvar isRegExp = function isRegExp(d) {\n  return Object.prototype.toString.call(d) === '[object RegExp]';\n};\n\nvar serializeString = function serializeString(buffer, key, value, index, isArray) {\n  // Encode String type\n  buffer[index++] = BSON$1.BSON_DATA_STRING;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes + 1;\n  buffer[index - 1] = 0;\n  // Write the string\n  var size = buffer.write(value, index + 4, 'utf8');\n  // Write the size of the string to buffer\n  buffer[index + 3] = size + 1 >> 24 & 0xff;\n  buffer[index + 2] = size + 1 >> 16 & 0xff;\n  buffer[index + 1] = size + 1 >> 8 & 0xff;\n  buffer[index] = size + 1 & 0xff;\n  // Update index\n  index = index + 4 + size;\n  // Write zero\n  buffer[index++] = 0;\n  return index;\n};\n\nvar serializeNumber = function serializeNumber(buffer, key, value, index, isArray) {\n  // We have an integer value\n  if (Math.floor(value) === value && value >= BSON$1.JS_INT_MIN && value <= BSON$1.JS_INT_MAX) {\n    // If the value fits in 32 bits encode as int, if it fits in a double\n    // encode it as a double, otherwise long\n    if (value >= BSON$1.BSON_INT32_MIN && value <= BSON$1.BSON_INT32_MAX) {\n      // Set int type 32 bits or less\n      buffer[index++] = BSON$1.BSON_DATA_INT;\n      // Number of written bytes\n      var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n      // Encode the name\n      index = index + numberOfWrittenBytes;\n      buffer[index++] = 0;\n      // Write the int value\n      buffer[index++] = value & 0xff;\n      buffer[index++] = value >> 8 & 0xff;\n      buffer[index++] = value >> 16 & 0xff;\n      buffer[index++] = value >> 24 & 0xff;\n    } else if (value >= BSON$1.JS_INT_MIN && value <= BSON$1.JS_INT_MAX) {\n      // Encode as double\n      buffer[index++] = BSON$1.BSON_DATA_NUMBER;\n      // Number of written bytes\n      numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n      // Encode the name\n      index = index + numberOfWrittenBytes;\n      buffer[index++] = 0;\n      // Write float\n      writeIEEE754$1(buffer, value, index, 'little', 52, 8);\n      // Ajust index\n      index = index + 8;\n    } else {\n      // Set long type\n      buffer[index++] = BSON$1.BSON_DATA_LONG;\n      // Number of written bytes\n      numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n      // Encode the name\n      index = index + numberOfWrittenBytes;\n      buffer[index++] = 0;\n      var longVal = Long$2.fromNumber(value);\n      var lowBits = longVal.getLowBits();\n      var highBits = longVal.getHighBits();\n      // Encode low bits\n      buffer[index++] = lowBits & 0xff;\n      buffer[index++] = lowBits >> 8 & 0xff;\n      buffer[index++] = lowBits >> 16 & 0xff;\n      buffer[index++] = lowBits >> 24 & 0xff;\n      // Encode high bits\n      buffer[index++] = highBits & 0xff;\n      buffer[index++] = highBits >> 8 & 0xff;\n      buffer[index++] = highBits >> 16 & 0xff;\n      buffer[index++] = highBits >> 24 & 0xff;\n    }\n  } else {\n    // Encode as double\n    buffer[index++] = BSON$1.BSON_DATA_NUMBER;\n    // Number of written bytes\n    numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    // Write float\n    writeIEEE754$1(buffer, value, index, 'little', 52, 8);\n    // Ajust index\n    index = index + 8;\n  }\n\n  return index;\n};\n\nvar serializeNull = function serializeNull(buffer, key, value, index, isArray) {\n  // Set long type\n  buffer[index++] = BSON$1.BSON_DATA_NULL;\n\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  return index;\n};\n\nvar serializeBoolean = function serializeBoolean(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON$1.BSON_DATA_BOOLEAN;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Encode the boolean value\n  buffer[index++] = value ? 1 : 0;\n  return index;\n};\n\nvar serializeDate = function serializeDate(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON$1.BSON_DATA_DATE;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  // Write the date\n  var dateInMilis = Long$2.fromNumber(value.getTime());\n  var lowBits = dateInMilis.getLowBits();\n  var highBits = dateInMilis.getHighBits();\n  // Encode low bits\n  buffer[index++] = lowBits & 0xff;\n  buffer[index++] = lowBits >> 8 & 0xff;\n  buffer[index++] = lowBits >> 16 & 0xff;\n  buffer[index++] = lowBits >> 24 & 0xff;\n  // Encode high bits\n  buffer[index++] = highBits & 0xff;\n  buffer[index++] = highBits >> 8 & 0xff;\n  buffer[index++] = highBits >> 16 & 0xff;\n  buffer[index++] = highBits >> 24 & 0xff;\n  return index;\n};\n\nvar serializeRegExp = function serializeRegExp(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON$1.BSON_DATA_REGEXP;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  if (value.source && value.source.match(regexp$1) != null) {\n    throw Error('value ' + value.source + ' must not contain null bytes');\n  }\n  // Adjust the index\n  index = index + buffer.write(value.source, index, 'utf8');\n  // Write zero\n  buffer[index++] = 0x00;\n  // Write the parameters\n  if (value.ignoreCase) buffer[index++] = 0x69; // i\n  if (value.global) buffer[index++] = 0x73; // s\n  if (value.multiline) buffer[index++] = 0x6d; // m\n\n  // Add ending zero\n  buffer[index++] = 0x00;\n  return index;\n};\n\nvar serializeBSONRegExp = function serializeBSONRegExp(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON$1.BSON_DATA_REGEXP;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  // Check the pattern for 0 bytes\n  if (value.pattern.match(regexp$1) != null) {\n    // The BSON spec doesn't allow keys with null bytes because keys are\n    // null-terminated.\n    throw Error('pattern ' + value.pattern + ' must not contain null bytes');\n  }\n\n  // Adjust the index\n  index = index + buffer.write(value.pattern, index, 'utf8');\n  // Write zero\n  buffer[index++] = 0x00;\n  // Write the options\n  index = index + buffer.write(value.options.split('').sort().join(''), index, 'utf8');\n  // Add ending zero\n  buffer[index++] = 0x00;\n  return index;\n};\n\nvar serializeMinMax = function serializeMinMax(buffer, key, value, index, isArray) {\n  // Write the type of either min or max key\n  if (value === null) {\n    buffer[index++] = BSON$1.BSON_DATA_NULL;\n  } else if (value instanceof MinKey$2) {\n    buffer[index++] = BSON$1.BSON_DATA_MIN_KEY;\n  } else {\n    buffer[index++] = BSON$1.BSON_DATA_MAX_KEY;\n  }\n\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  return index;\n};\n\nvar serializeObjectId = function serializeObjectId(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON$1.BSON_DATA_OID;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  // Write the objectId into the shared buffer\n  if (typeof value.id === 'string') {\n    buffer.write(value.id, index, 'binary');\n  } else if (value.id && value.id.copy) {\n    value.id.copy(buffer, index, 0, 12);\n  } else {\n    throw new TypeError('object [' + JSON.stringify(value) + '] is not a valid ObjectId');\n  }\n\n  // Ajust index\n  return index + 12;\n};\n\nvar serializeBuffer = function serializeBuffer(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON$1.BSON_DATA_BINARY;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Get size of the buffer (current write point)\n  var size = value.length;\n  // Write the size of the string to buffer\n  buffer[index++] = size & 0xff;\n  buffer[index++] = size >> 8 & 0xff;\n  buffer[index++] = size >> 16 & 0xff;\n  buffer[index++] = size >> 24 & 0xff;\n  // Write the default subtype\n  buffer[index++] = BSON$1.BSON_BINARY_SUBTYPE_DEFAULT;\n  // Copy the content form the binary field to the buffer\n  value.copy(buffer, index, 0, size);\n  // Adjust the index\n  index = index + size;\n  return index;\n};\n\nvar serializeObject = function serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, isArray, path) {\n  for (var i = 0; i < path.length; i++) {\n    if (path[i] === value) throw new Error('cyclic dependency detected');\n  }\n\n  // Push value to stack\n  path.push(value);\n  // Write the type\n  buffer[index++] = Array.isArray(value) ? BSON$1.BSON_DATA_ARRAY : BSON$1.BSON_DATA_OBJECT;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  var endIndex = serializeInto(buffer, value, checkKeys, index, depth + 1, serializeFunctions, ignoreUndefined, path);\n  // Pop stack\n  path.pop();\n  return endIndex;\n};\n\nvar serializeDecimal128 = function serializeDecimal128(buffer, key, value, index, isArray) {\n  buffer[index++] = BSON$1.BSON_DATA_DECIMAL128;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write the data from the value\n  value.bytes.copy(buffer, index, 0, 16);\n  return index + 16;\n};\n\nvar serializeLong = function serializeLong(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = value._bsontype === 'Long' ? BSON$1.BSON_DATA_LONG : BSON$1.BSON_DATA_TIMESTAMP;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write the date\n  var lowBits = value.getLowBits();\n  var highBits = value.getHighBits();\n  // Encode low bits\n  buffer[index++] = lowBits & 0xff;\n  buffer[index++] = lowBits >> 8 & 0xff;\n  buffer[index++] = lowBits >> 16 & 0xff;\n  buffer[index++] = lowBits >> 24 & 0xff;\n  // Encode high bits\n  buffer[index++] = highBits & 0xff;\n  buffer[index++] = highBits >> 8 & 0xff;\n  buffer[index++] = highBits >> 16 & 0xff;\n  buffer[index++] = highBits >> 24 & 0xff;\n  return index;\n};\n\nvar serializeInt32 = function serializeInt32(buffer, key, value, index, isArray) {\n  // Set int type 32 bits or less\n  buffer[index++] = BSON$1.BSON_DATA_INT;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write the int value\n  buffer[index++] = value & 0xff;\n  buffer[index++] = value >> 8 & 0xff;\n  buffer[index++] = value >> 16 & 0xff;\n  buffer[index++] = value >> 24 & 0xff;\n  return index;\n};\n\nvar serializeDouble = function serializeDouble(buffer, key, value, index, isArray) {\n  // Encode as double\n  buffer[index++] = BSON$1.BSON_DATA_NUMBER;\n\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  // Write float\n  writeIEEE754$1(buffer, value.value, index, 'little', 52, 8);\n\n  // Adjust index\n  index = index + 8;\n  return index;\n};\n\nvar serializeFunction = function serializeFunction(buffer, key, value, index, checkKeys, depth, isArray) {\n  buffer[index++] = BSON$1.BSON_DATA_CODE;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Function string\n  var functionString = normalizedFunctionString$1(value);\n\n  // Write the string\n  var size = buffer.write(functionString, index + 4, 'utf8') + 1;\n  // Write the size of the string to buffer\n  buffer[index] = size & 0xff;\n  buffer[index + 1] = size >> 8 & 0xff;\n  buffer[index + 2] = size >> 16 & 0xff;\n  buffer[index + 3] = size >> 24 & 0xff;\n  // Update index\n  index = index + 4 + size - 1;\n  // Write zero\n  buffer[index++] = 0;\n  return index;\n};\n\nvar serializeCode = function serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, isArray) {\n  if (value.scope && _typeof(value.scope) === 'object') {\n    // Write the type\n    buffer[index++] = BSON$1.BSON_DATA_CODE_W_SCOPE;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n\n    // Starting index\n    var startIndex = index;\n\n    // Serialize the function\n    // Get the function string\n    var functionString = typeof value.code === 'string' ? value.code : value.code.toString();\n    // Index adjustment\n    index = index + 4;\n    // Write string into buffer\n    var codeSize = buffer.write(functionString, index + 4, 'utf8') + 1;\n    // Write the size of the string to buffer\n    buffer[index] = codeSize & 0xff;\n    buffer[index + 1] = codeSize >> 8 & 0xff;\n    buffer[index + 2] = codeSize >> 16 & 0xff;\n    buffer[index + 3] = codeSize >> 24 & 0xff;\n    // Write end 0\n    buffer[index + 4 + codeSize - 1] = 0;\n    // Write the\n    index = index + codeSize + 4;\n\n    //\n    // Serialize the scope value\n    var endIndex = serializeInto(buffer, value.scope, checkKeys, index, depth + 1, serializeFunctions, ignoreUndefined);\n    index = endIndex - 1;\n\n    // Writ the total\n    var totalSize = endIndex - startIndex;\n\n    // Write the total size of the object\n    buffer[startIndex++] = totalSize & 0xff;\n    buffer[startIndex++] = totalSize >> 8 & 0xff;\n    buffer[startIndex++] = totalSize >> 16 & 0xff;\n    buffer[startIndex++] = totalSize >> 24 & 0xff;\n    // Write trailing zero\n    buffer[index++] = 0;\n  } else {\n    buffer[index++] = BSON$1.BSON_DATA_CODE;\n    // Number of written bytes\n    numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    // Function string\n    functionString = value.code.toString();\n    // Write the string\n    var size = buffer.write(functionString, index + 4, 'utf8') + 1;\n    // Write the size of the string to buffer\n    buffer[index] = size & 0xff;\n    buffer[index + 1] = size >> 8 & 0xff;\n    buffer[index + 2] = size >> 16 & 0xff;\n    buffer[index + 3] = size >> 24 & 0xff;\n    // Update index\n    index = index + 4 + size - 1;\n    // Write zero\n    buffer[index++] = 0;\n  }\n\n  return index;\n};\n\nvar serializeBinary = function serializeBinary(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON$1.BSON_DATA_BINARY;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Extract the buffer\n  var data = value.value(true);\n  // Calculate size\n  var size = value.position;\n  // Add the deprecated 02 type 4 bytes of size to total\n  if (value.sub_type === Binary$2.SUBTYPE_BYTE_ARRAY) size = size + 4;\n  // Write the size of the string to buffer\n  buffer[index++] = size & 0xff;\n  buffer[index++] = size >> 8 & 0xff;\n  buffer[index++] = size >> 16 & 0xff;\n  buffer[index++] = size >> 24 & 0xff;\n  // Write the subtype to the buffer\n  buffer[index++] = value.sub_type;\n\n  // If we have binary type 2 the 4 first bytes are the size\n  if (value.sub_type === Binary$2.SUBTYPE_BYTE_ARRAY) {\n    size = size - 4;\n    buffer[index++] = size & 0xff;\n    buffer[index++] = size >> 8 & 0xff;\n    buffer[index++] = size >> 16 & 0xff;\n    buffer[index++] = size >> 24 & 0xff;\n  }\n\n  // Write the data to the object\n  data.copy(buffer, index, 0, value.position);\n  // Adjust the index\n  index = index + value.position;\n  return index;\n};\n\nvar serializeSymbol = function serializeSymbol(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON$1.BSON_DATA_SYMBOL;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write the string\n  var size = buffer.write(value.value, index + 4, 'utf8') + 1;\n  // Write the size of the string to buffer\n  buffer[index] = size & 0xff;\n  buffer[index + 1] = size >> 8 & 0xff;\n  buffer[index + 2] = size >> 16 & 0xff;\n  buffer[index + 3] = size >> 24 & 0xff;\n  // Update index\n  index = index + 4 + size - 1;\n  // Write zero\n  buffer[index++] = 0x00;\n  return index;\n};\n\nvar serializeDBRef = function serializeDBRef(buffer, key, value, index, depth, serializeFunctions, isArray) {\n  // Write the type\n  buffer[index++] = BSON$1.BSON_DATA_OBJECT;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  var startIndex = index;\n  var endIndex;\n  var output = {\n    $ref: value.collection,\n    $id: value.oid\n  };\n\n  if (value.db != null) output.$db = value.db;\n\n  output = Object.assign(output, value.fields);\n  endIndex = serializeInto(buffer, output, false, index, depth + 1, serializeFunctions);\n\n  // Calculate object size\n  var size = endIndex - startIndex;\n  // Write the size\n  buffer[startIndex++] = size & 0xff;\n  buffer[startIndex++] = size >> 8 & 0xff;\n  buffer[startIndex++] = size >> 16 & 0xff;\n  buffer[startIndex++] = size >> 24 & 0xff;\n  // Set index\n  return endIndex;\n};\n\nvar serializeInto = function serializeInto(buffer, object, checkKeys, startingIndex, depth, serializeFunctions, ignoreUndefined, path) {\n  startingIndex = startingIndex || 0;\n  path = path || [];\n\n  // Push the object to the path\n  path.push(object);\n\n  // Start place to serialize into\n  var index = startingIndex + 4;\n\n  // Special case isArray\n  if (Array.isArray(object)) {\n    // Get object keys\n    for (var i = 0; i < object.length; i++) {\n      var key = '' + i;\n      var value = object[i];\n\n      // Is there an override value\n      if (value && value.toBSON) {\n        if (typeof value.toBSON !== 'function') throw new TypeError('toBSON is not a function');\n        value = value.toBSON();\n      }\n\n      var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n      if (type === 'string') {\n        index = serializeString(buffer, key, value, index, true);\n      } else if (type === 'number') {\n        index = serializeNumber(buffer, key, value, index, true);\n      } else if (type === 'boolean') {\n        index = serializeBoolean(buffer, key, value, index, true);\n      } else if (value instanceof Date || isDate(value)) {\n        index = serializeDate(buffer, key, value, index, true);\n      } else if (value === undefined) {\n        index = serializeNull(buffer, key, value, index, true);\n      } else if (value === null) {\n        index = serializeNull(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'ObjectID') {\n        index = serializeObjectId(buffer, key, value, index, true);\n      } else if (Buffer.isBuffer(value)) {\n        index = serializeBuffer(buffer, key, value, index, true);\n      } else if (value instanceof RegExp || isRegExp(value)) {\n        index = serializeRegExp(buffer, key, value, index, true);\n      } else if (type === 'object' && value['_bsontype'] == null) {\n        index = serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, true, path);\n      } else if (type === 'object' && value['_bsontype'] === 'Decimal128') {\n        index = serializeDecimal128(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'Long' || value['_bsontype'] === 'Timestamp') {\n        index = serializeLong(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'Double') {\n        index = serializeDouble(buffer, key, value, index, true);\n      } else if (typeof value === 'function' && serializeFunctions) {\n        index = serializeFunction(buffer, key, value, index, checkKeys, depth, serializeFunctions, true);\n      } else if (value['_bsontype'] === 'Code') {\n        index = serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, true);\n      } else if (value['_bsontype'] === 'Binary') {\n        index = serializeBinary(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'Symbol') {\n        index = serializeSymbol(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'DBRef') {\n        index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions, true);\n      } else if (value['_bsontype'] === 'BSONRegExp') {\n        index = serializeBSONRegExp(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'Int32') {\n        index = serializeInt32(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n        index = serializeMinMax(buffer, key, value, index, true);\n      }\n    }\n  } else if (object instanceof map) {\n    var iterator = object.entries();\n    var done = false;\n\n    while (!done) {\n      // Unpack the next entry\n      var entry = iterator.next();\n      done = entry.done;\n      // Are we done, then skip and terminate\n      if (done) continue;\n\n      // Get the entry values\n      key = entry.value[0];\n      value = entry.value[1];\n\n      // Check the type of the value\n      type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\n      // Check the key and throw error if it's illegal\n      if (key !== '$db' && key !== '$ref' && key !== '$id') {\n        if (key.match(regexp$1) != null) {\n          // The BSON spec doesn't allow keys with null bytes because keys are\n          // null-terminated.\n          throw Error('key ' + key + ' must not contain null bytes');\n        }\n\n        if (checkKeys) {\n          if ('$' === key[0]) {\n            throw Error('key ' + key + \" must not start with '$'\");\n          } else if (~key.indexOf('.')) {\n            throw Error('key ' + key + \" must not contain '.'\");\n          }\n        }\n      }\n\n      if (type === 'string') {\n        index = serializeString(buffer, key, value, index);\n      } else if (type === 'number') {\n        index = serializeNumber(buffer, key, value, index);\n      } else if (type === 'boolean') {\n        index = serializeBoolean(buffer, key, value, index);\n      } else if (value instanceof Date || isDate(value)) {\n        index = serializeDate(buffer, key, value, index);\n      } else if (value === null || value === undefined && ignoreUndefined === false) {\n        index = serializeNull(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'ObjectID') {\n        index = serializeObjectId(buffer, key, value, index);\n      } else if (Buffer.isBuffer(value)) {\n        index = serializeBuffer(buffer, key, value, index);\n      } else if (value instanceof RegExp || isRegExp(value)) {\n        index = serializeRegExp(buffer, key, value, index);\n      } else if (type === 'object' && value['_bsontype'] == null) {\n        index = serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, false, path);\n      } else if (type === 'object' && value['_bsontype'] === 'Decimal128') {\n        index = serializeDecimal128(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Long' || value['_bsontype'] === 'Timestamp') {\n        index = serializeLong(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Double') {\n        index = serializeDouble(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Code') {\n        index = serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined);\n      } else if (typeof value === 'function' && serializeFunctions) {\n        index = serializeFunction(buffer, key, value, index, checkKeys, depth, serializeFunctions);\n      } else if (value['_bsontype'] === 'Binary') {\n        index = serializeBinary(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Symbol') {\n        index = serializeSymbol(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'DBRef') {\n        index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions);\n      } else if (value['_bsontype'] === 'BSONRegExp') {\n        index = serializeBSONRegExp(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Int32') {\n        index = serializeInt32(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n        index = serializeMinMax(buffer, key, value, index);\n      }\n    }\n  } else {\n    // Did we provide a custom serialization method\n    if (object.toBSON) {\n      if (typeof object.toBSON !== 'function') throw new TypeError('toBSON is not a function');\n      object = object.toBSON();\n      if (object != null && (typeof object === 'undefined' ? 'undefined' : _typeof(object)) !== 'object') throw new TypeError('toBSON function did not return an object');\n    }\n\n    // Iterate over all the keys\n    for (key in object) {\n      value = object[key];\n      // Is there an override value\n      if (value && value.toBSON) {\n        if (typeof value.toBSON !== 'function') throw new TypeError('toBSON is not a function');\n        value = value.toBSON();\n      }\n\n      // Check the type of the value\n      type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\n      // Check the key and throw error if it's illegal\n      if (key !== '$db' && key !== '$ref' && key !== '$id') {\n        if (key.match(regexp$1) != null) {\n          // The BSON spec doesn't allow keys with null bytes because keys are\n          // null-terminated.\n          throw Error('key ' + key + ' must not contain null bytes');\n        }\n\n        if (checkKeys) {\n          if ('$' === key[0]) {\n            throw Error('key ' + key + \" must not start with '$'\");\n          } else if (~key.indexOf('.')) {\n            throw Error('key ' + key + \" must not contain '.'\");\n          }\n        }\n      }\n\n      if (type === 'string') {\n        index = serializeString(buffer, key, value, index);\n      } else if (type === 'number') {\n        index = serializeNumber(buffer, key, value, index);\n      } else if (type === 'boolean') {\n        index = serializeBoolean(buffer, key, value, index);\n      } else if (value instanceof Date || isDate(value)) {\n        index = serializeDate(buffer, key, value, index);\n      } else if (value === undefined) {\n        if (ignoreUndefined === false) index = serializeNull(buffer, key, value, index);\n      } else if (value === null) {\n        index = serializeNull(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'ObjectID') {\n        index = serializeObjectId(buffer, key, value, index);\n      } else if (Buffer.isBuffer(value)) {\n        index = serializeBuffer(buffer, key, value, index);\n      } else if (value instanceof RegExp || isRegExp(value)) {\n        index = serializeRegExp(buffer, key, value, index);\n      } else if (type === 'object' && value['_bsontype'] == null) {\n        index = serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, false, path);\n      } else if (type === 'object' && value['_bsontype'] === 'Decimal128') {\n        index = serializeDecimal128(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Long' || value['_bsontype'] === 'Timestamp') {\n        index = serializeLong(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Double') {\n        index = serializeDouble(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Code') {\n        index = serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined);\n      } else if (typeof value === 'function' && serializeFunctions) {\n        index = serializeFunction(buffer, key, value, index, checkKeys, depth, serializeFunctions);\n      } else if (value['_bsontype'] === 'Binary') {\n        index = serializeBinary(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Symbol') {\n        index = serializeSymbol(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'DBRef') {\n        index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions);\n      } else if (value['_bsontype'] === 'BSONRegExp') {\n        index = serializeBSONRegExp(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Int32') {\n        index = serializeInt32(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n        index = serializeMinMax(buffer, key, value, index);\n      }\n    }\n  }\n\n  // Remove the path\n  path.pop();\n\n  // Final padding byte for object\n  buffer[index++] = 0x00;\n\n  // Final size\n  var size = index - startingIndex;\n  // Write the size of the object\n  buffer[startingIndex++] = size & 0xff;\n  buffer[startingIndex++] = size >> 8 & 0xff;\n  buffer[startingIndex++] = size >> 16 & 0xff;\n  buffer[startingIndex++] = size >> 24 & 0xff;\n  return index;\n};\n\nvar BSON$1 = {};\n\n/**\n * Contains the function cache if we have that enable to allow for avoiding the eval step on each deserialization, comparison is by md5\n *\n * @ignore\n * @api private\n */\n// var functionCache = (BSON.functionCache = {});\n\n/**\n * Number BSON Type\n *\n * @classconstant BSON_DATA_NUMBER\n **/\nBSON$1.BSON_DATA_NUMBER = 1;\n/**\n * String BSON Type\n *\n * @classconstant BSON_DATA_STRING\n **/\nBSON$1.BSON_DATA_STRING = 2;\n/**\n * Object BSON Type\n *\n * @classconstant BSON_DATA_OBJECT\n **/\nBSON$1.BSON_DATA_OBJECT = 3;\n/**\n * Array BSON Type\n *\n * @classconstant BSON_DATA_ARRAY\n **/\nBSON$1.BSON_DATA_ARRAY = 4;\n/**\n * Binary BSON Type\n *\n * @classconstant BSON_DATA_BINARY\n **/\nBSON$1.BSON_DATA_BINARY = 5;\n/**\n * ObjectID BSON Type, deprecated\n *\n * @classconstant BSON_DATA_UNDEFINED\n **/\nBSON$1.BSON_DATA_UNDEFINED = 6;\n/**\n * ObjectID BSON Type\n *\n * @classconstant BSON_DATA_OID\n **/\nBSON$1.BSON_DATA_OID = 7;\n/**\n * Boolean BSON Type\n *\n * @classconstant BSON_DATA_BOOLEAN\n **/\nBSON$1.BSON_DATA_BOOLEAN = 8;\n/**\n * Date BSON Type\n *\n * @classconstant BSON_DATA_DATE\n **/\nBSON$1.BSON_DATA_DATE = 9;\n/**\n * null BSON Type\n *\n * @classconstant BSON_DATA_NULL\n **/\nBSON$1.BSON_DATA_NULL = 10;\n/**\n * RegExp BSON Type\n *\n * @classconstant BSON_DATA_REGEXP\n **/\nBSON$1.BSON_DATA_REGEXP = 11;\n/**\n * Code BSON Type\n *\n * @classconstant BSON_DATA_CODE\n **/\nBSON$1.BSON_DATA_CODE = 13;\n/**\n * Symbol BSON Type\n *\n * @classconstant BSON_DATA_SYMBOL\n **/\nBSON$1.BSON_DATA_SYMBOL = 14;\n/**\n * Code with Scope BSON Type\n *\n * @classconstant BSON_DATA_CODE_W_SCOPE\n **/\nBSON$1.BSON_DATA_CODE_W_SCOPE = 15;\n/**\n * 32 bit Integer BSON Type\n *\n * @classconstant BSON_DATA_INT\n **/\nBSON$1.BSON_DATA_INT = 16;\n/**\n * Timestamp BSON Type\n *\n * @classconstant BSON_DATA_TIMESTAMP\n **/\nBSON$1.BSON_DATA_TIMESTAMP = 17;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_LONG\n **/\nBSON$1.BSON_DATA_LONG = 18;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_DECIMAL128\n **/\nBSON$1.BSON_DATA_DECIMAL128 = 19;\n/**\n * MinKey BSON Type\n *\n * @classconstant BSON_DATA_MIN_KEY\n **/\nBSON$1.BSON_DATA_MIN_KEY = 0xff;\n/**\n * MaxKey BSON Type\n *\n * @classconstant BSON_DATA_MAX_KEY\n **/\nBSON$1.BSON_DATA_MAX_KEY = 0x7f;\n/**\n * Binary Default Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_DEFAULT\n **/\nBSON$1.BSON_BINARY_SUBTYPE_DEFAULT = 0;\n/**\n * Binary Function Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_FUNCTION\n **/\nBSON$1.BSON_BINARY_SUBTYPE_FUNCTION = 1;\n/**\n * Binary Byte Array Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY\n **/\nBSON$1.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2;\n/**\n * Binary UUID Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_UUID\n **/\nBSON$1.BSON_BINARY_SUBTYPE_UUID = 3;\n/**\n * Binary MD5 Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_MD5\n **/\nBSON$1.BSON_BINARY_SUBTYPE_MD5 = 4;\n/**\n * Binary User Defined Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED\n **/\nBSON$1.BSON_BINARY_SUBTYPE_USER_DEFINED = 128;\n\n// BSON MAX VALUES\nBSON$1.BSON_INT32_MAX = 0x7fffffff;\nBSON$1.BSON_INT32_MIN = -0x80000000;\n\nBSON$1.BSON_INT64_MAX = Math.pow(2, 63) - 1;\nBSON$1.BSON_INT64_MIN = -Math.pow(2, 63);\n\n// JS MAX PRECISE VALUES\nBSON$1.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\nBSON$1.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\n// Internal long versions\n// var JS_INT_MAX_LONG = Long.fromNumber(0x20000000000000); // Any integer up to 2^53 can be precisely represented by a double.\n// var JS_INT_MIN_LONG = Long.fromNumber(-0x20000000000000); // Any integer down to -2^53 can be precisely represented by a double.\n\nvar serializer = serializeInto;\n\nvar Long$3 = long_1.Long,\n    Double$2 = double_1.Double,\n    Timestamp$2 = timestamp.Timestamp,\n    ObjectID$2 = objectid.ObjectID,\n    _Symbol$1 = symbol.Symbol,\n    BSONRegExp$2 = regexp.BSONRegExp,\n    Code$2 = code.Code,\n    MinKey$3 = min_key.MinKey,\n    MaxKey$2 = max_key.MaxKey,\n    DBRef$2 = db_ref.DBRef,\n    Binary$3 = binary.Binary;\n\nvar normalizedFunctionString$2 = utils.normalizedFunctionString;\n\n// To ensure that 0.4 of node works correctly\nvar isDate$1 = function isDate(d) {\n  return (typeof d === 'undefined' ? 'undefined' : _typeof(d)) === 'object' && Object.prototype.toString.call(d) === '[object Date]';\n};\n\nvar calculateObjectSize = function calculateObjectSize(object, serializeFunctions, ignoreUndefined) {\n  var totalLength = 4 + 1;\n\n  if (Array.isArray(object)) {\n    for (var i = 0; i < object.length; i++) {\n      totalLength += calculateElement(i.toString(), object[i], serializeFunctions, true, ignoreUndefined);\n    }\n  } else {\n    // If we have toBSON defined, override the current object\n\n    if (object.toBSON) {\n      object = object.toBSON();\n    }\n\n    // Calculate size\n    for (var key in object) {\n      totalLength += calculateElement(key, object[key], serializeFunctions, false, ignoreUndefined);\n    }\n  }\n\n  return totalLength;\n};\n\n/**\n * @ignore\n * @api private\n */\nfunction calculateElement(name, value, serializeFunctions, isArray, ignoreUndefined) {\n  // If we have toBSON defined, override the current object\n  if (value && value.toBSON) {\n    value = value.toBSON();\n  }\n\n  switch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\n    case 'string':\n      return 1 + Buffer.byteLength(name, 'utf8') + 1 + 4 + Buffer.byteLength(value, 'utf8') + 1;\n    case 'number':\n      if (Math.floor(value) === value && value >= BSON$2.JS_INT_MIN && value <= BSON$2.JS_INT_MAX) {\n        if (value >= BSON$2.BSON_INT32_MIN && value <= BSON$2.BSON_INT32_MAX) {\n          // 32 bit\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (4 + 1);\n        } else {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n        }\n      } else {\n        // 64 bit\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n      }\n    case 'undefined':\n      if (isArray || !ignoreUndefined) return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1;\n      return 0;\n    case 'boolean':\n      return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (1 + 1);\n    case 'object':\n      if (value == null || value instanceof MinKey$3 || value instanceof MaxKey$2 || value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1;\n      } else if (value instanceof ObjectID$2 || value['_bsontype'] === 'ObjectID') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (12 + 1);\n      } else if (value instanceof Date || isDate$1(value)) {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n      } else if (typeof Buffer !== 'undefined' && Buffer.isBuffer(value)) {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (1 + 4 + 1) + value.length;\n      } else if (value instanceof Long$3 || value instanceof Double$2 || value instanceof Timestamp$2 || value['_bsontype'] === 'Long' || value['_bsontype'] === 'Double' || value['_bsontype'] === 'Timestamp') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n      } else if (value instanceof decimal128 || value['_bsontype'] === 'Decimal128') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (16 + 1);\n      } else if (value instanceof Code$2 || value['_bsontype'] === 'Code') {\n        // Calculate size depending on the availability of a scope\n        if (value.scope != null && Object.keys(value.scope).length > 0) {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + 4 + 4 + Buffer.byteLength(value.code.toString(), 'utf8') + 1 + calculateObjectSize(value.scope, serializeFunctions, ignoreUndefined);\n        } else {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + 4 + Buffer.byteLength(value.code.toString(), 'utf8') + 1;\n        }\n      } else if (value instanceof Binary$3 || value['_bsontype'] === 'Binary') {\n        // Check what kind of subtype we have\n        if (value.sub_type === Binary$3.SUBTYPE_BYTE_ARRAY) {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (value.position + 1 + 4 + 1 + 4);\n        } else {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (value.position + 1 + 4 + 1);\n        }\n      } else if (value instanceof _Symbol$1 || value['_bsontype'] === 'Symbol') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + Buffer.byteLength(value.value, 'utf8') + 4 + 1 + 1;\n      } else if (value instanceof DBRef$2 || value['_bsontype'] === 'DBRef') {\n        // Set up correct object for serialization\n        var ordered_values = {\n          $ref: value.collection,\n          $id: value.oid\n        };\n\n        // Add db reference if it exists\n        if (value.db != null) {\n          ordered_values['$db'] = value.db;\n        }\n\n        ordered_values = Object.assign(ordered_values, value.fields);\n\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + calculateObjectSize(ordered_values, serializeFunctions, ignoreUndefined);\n      } else if (value instanceof RegExp || Object.prototype.toString.call(value) === '[object RegExp]') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + Buffer.byteLength(value.source, 'utf8') + 1 + (value.global ? 1 : 0) + (value.ignoreCase ? 1 : 0) + (value.multiline ? 1 : 0) + 1;\n      } else if (value instanceof BSONRegExp$2 || value['_bsontype'] === 'BSONRegExp') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + Buffer.byteLength(value.pattern, 'utf8') + 1 + Buffer.byteLength(value.options, 'utf8') + 1;\n      } else {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + calculateObjectSize(value, serializeFunctions, ignoreUndefined) + 1;\n      }\n    case 'function':\n      // WTF for 0.4.X where typeof /someregexp/ === 'function'\n      if (value instanceof RegExp || Object.prototype.toString.call(value) === '[object RegExp]' || String.call(value) === '[object RegExp]') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + Buffer.byteLength(value.source, 'utf8') + 1 + (value.global ? 1 : 0) + (value.ignoreCase ? 1 : 0) + (value.multiline ? 1 : 0) + 1;\n      } else {\n        if (serializeFunctions && value.scope != null && Object.keys(value.scope).length > 0) {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + 4 + 4 + Buffer.byteLength(normalizedFunctionString$2(value), 'utf8') + 1 + calculateObjectSize(value.scope, serializeFunctions, ignoreUndefined);\n        } else if (serializeFunctions) {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + 4 + Buffer.byteLength(normalizedFunctionString$2(value), 'utf8') + 1;\n        }\n      }\n  }\n\n  return 0;\n}\n\nvar BSON$2 = {};\n\n// BSON MAX VALUES\nBSON$2.BSON_INT32_MAX = 0x7fffffff;\nBSON$2.BSON_INT32_MIN = -0x80000000;\n\n// JS MAX PRECISE VALUES\nBSON$2.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\nBSON$2.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\nvar calculate_size = calculateObjectSize;\n\n// Parts of the parser\n\n\n/**\n * @ignore\n * @api private\n */\n// Default Max Size\nvar MAXSIZE = 1024 * 1024 * 17;\n\n// Current Internal Temporary Serialization Buffer\nvar buffer = new Buffer(MAXSIZE);\n\nvar BSON$3 = function BSON() {};\n\n/**\n * Serialize a Javascript object.\n *\n * @param {Object} object the Javascript object to serialize.\n * @param {Boolean} [options.checkKeys] the serializer will check if keys are valid.\n * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n * @param {Number} [options.minInternalBufferSize=1024*1024*17] minimum size of the internal temporary serialization buffer **(default:1024*1024*17)**.\n * @return {Buffer} returns the Buffer object containing the serialized object.\n * @api public\n */\nBSON$3.prototype.serialize = function serialize(object, options) {\n  options = options || {};\n  // Unpack the options\n  var checkKeys = typeof options.checkKeys === 'boolean' ? options.checkKeys : false;\n  var serializeFunctions = typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n  var ignoreUndefined = typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n  var minInternalBufferSize = typeof options.minInternalBufferSize === 'number' ? options.minInternalBufferSize : MAXSIZE;\n\n  // Resize the internal serialization buffer if needed\n  if (buffer.length < minInternalBufferSize) {\n    buffer = new Buffer(minInternalBufferSize);\n  }\n\n  // Attempt to serialize\n  var serializationIndex = serializer(buffer, object, checkKeys, 0, 0, serializeFunctions, ignoreUndefined, []);\n  // Create the final buffer\n  var finishedBuffer = new Buffer(serializationIndex);\n  // Copy into the finished buffer\n  buffer.copy(finishedBuffer, 0, 0, finishedBuffer.length);\n  // Return the buffer\n  return finishedBuffer;\n};\n\n/**\n * Serialize a Javascript object using a predefined Buffer and index into the buffer, useful when pre-allocating the space for serialization.\n *\n * @param {Object} object the Javascript object to serialize.\n * @param {Buffer} buffer the Buffer you pre-allocated to store the serialized BSON object.\n * @param {Boolean} [options.checkKeys] the serializer will check if keys are valid.\n * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n * @param {Number} [options.index] the index in the buffer where we wish to start serializing into.\n * @return {Number} returns the index pointing to the last written byte in the buffer.\n * @api public\n */\nBSON$3.prototype.serializeWithBufferAndIndex = function (object, finalBuffer, options) {\n  options = options || {};\n  // Unpack the options\n  var checkKeys = typeof options.checkKeys === 'boolean' ? options.checkKeys : false;\n  var serializeFunctions = typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n  var ignoreUndefined = typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n  var startIndex = typeof options.index === 'number' ? options.index : 0;\n\n  // Attempt to serialize\n  var serializationIndex = serializer(buffer, object, checkKeys, 0, 0, serializeFunctions, ignoreUndefined);\n  buffer.copy(finalBuffer, startIndex, 0, serializationIndex);\n\n  // Return the index\n  return startIndex + serializationIndex - 1;\n};\n\n/**\n * Deserialize data as BSON.\n *\n * @param {Buffer} buffer the buffer containing the serialized set of BSON documents.\n * @param {Object} [options.evalFunctions=false] evaluate functions in the BSON document scoped to the object deserialized.\n * @param {Object} [options.cacheFunctions=false] cache evaluated functions for reuse.\n * @param {Object} [options.cacheFunctionsCrc32=false] use a crc32 code for caching, otherwise use the string of the function.\n * @param {Object} [options.promoteLongs=true] when deserializing a Long will fit it into a Number if it's smaller than 53 bits\n * @param {Object} [options.promoteBuffers=false] when deserializing a Binary will return it as a node.js Buffer instance.\n * @param {Object} [options.promoteValues=false] when deserializing will promote BSON values to their Node.js closest equivalent types.\n * @param {Object} [options.fieldsAsRaw=null] allow to specify if there what fields we wish to return as unserialized raw buffer.\n * @param {Object} [options.bsonRegExp=false] return BSON regular expressions as BSONRegExp instances.\n * @param {boolean} [options.allowObjectSmallerThanBufferSize=false] allows the buffer to be larger than the parsed BSON object\n * @return {Object} returns the deserialized Javascript Object.\n * @api public\n */\nBSON$3.prototype.deserialize = function (buffer, options) {\n  return deserializer(buffer, options);\n};\n\n/**\n * Calculate the bson size for a passed in Javascript object.\n *\n * @param {Object} object the Javascript object to calculate the BSON byte size for.\n * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n * @return {Number} returns the number of bytes the BSON object will take up.\n * @api public\n */\nBSON$3.prototype.calculateObjectSize = function (object, options) {\n  options = options || {};\n\n  var serializeFunctions = typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n  var ignoreUndefined = typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n\n  return calculate_size(object, serializeFunctions, ignoreUndefined);\n};\n\n/**\n * Deserialize stream data as BSON documents.\n *\n * @param {Buffer} data the buffer containing the serialized set of BSON documents.\n * @param {Number} startIndex the start index in the data Buffer where the deserialization is to start.\n * @param {Number} numberOfDocuments number of documents to deserialize.\n * @param {Array} documents an array where to store the deserialized documents.\n * @param {Number} docStartIndex the index in the documents array from where to start inserting documents.\n * @param {Object} [options] additional options used for the deserialization.\n * @param {Object} [options.evalFunctions=false] evaluate functions in the BSON document scoped to the object deserialized.\n * @param {Object} [options.cacheFunctions=false] cache evaluated functions for reuse.\n * @param {Object} [options.cacheFunctionsCrc32=false] use a crc32 code for caching, otherwise use the string of the function.\n * @param {Object} [options.promoteLongs=true] when deserializing a Long will fit it into a Number if it's smaller than 53 bits\n * @param {Object} [options.promoteBuffers=false] when deserializing a Binary will return it as a node.js Buffer instance.\n * @param {Object} [options.promoteValues=false] when deserializing will promote BSON values to their Node.js closest equivalent types.\n * @param {Object} [options.fieldsAsRaw=null] allow to specify if there what fields we wish to return as unserialized raw buffer.\n * @param {Object} [options.bsonRegExp=false] return BSON regular expressions as BSONRegExp instances.\n * @return {Number} returns the next index in the buffer after deserialization **x** numbers of documents.\n * @api public\n */\nBSON$3.prototype.deserializeStream = function (data, startIndex, numberOfDocuments, documents, docStartIndex, options) {\n  options = Object.assign({ allowObjectSmallerThanBufferSize: true }, options);\n  var index = startIndex;\n  // Loop over all documents\n  for (var i = 0; i < numberOfDocuments; i++) {\n    // Find size of the document\n    var size = data[index] | data[index + 1] << 8 | data[index + 2] << 16 | data[index + 3] << 24;\n    // Update options with index\n    options.index = index;\n    // Parse the document at this point\n    documents[docStartIndex + i] = this.deserialize(data, options);\n    // Adjust index by the document size\n    index = index + size;\n  }\n\n  // Return object containing end index of parsing and list of documents\n  return index;\n};\n\n/**\n * @ignore\n * @api private\n */\n// BSON MAX VALUES\nBSON$3.BSON_INT32_MAX = 0x7fffffff;\nBSON$3.BSON_INT32_MIN = -0x80000000;\n\nBSON$3.BSON_INT64_MAX = Math.pow(2, 63) - 1;\nBSON$3.BSON_INT64_MIN = -Math.pow(2, 63);\n\n// JS MAX PRECISE VALUES\nBSON$3.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\nBSON$3.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\n// Internal long versions\n// var JS_INT_MAX_LONG = Long.fromNumber(0x20000000000000); // Any integer up to 2^53 can be precisely represented by a double.\n// var JS_INT_MIN_LONG = Long.fromNumber(-0x20000000000000); // Any integer down to -2^53 can be precisely represented by a double.\n\n/**\n * Number BSON Type\n *\n * @classconstant BSON_DATA_NUMBER\n **/\nBSON$3.BSON_DATA_NUMBER = 1;\n/**\n * String BSON Type\n *\n * @classconstant BSON_DATA_STRING\n **/\nBSON$3.BSON_DATA_STRING = 2;\n/**\n * Object BSON Type\n *\n * @classconstant BSON_DATA_OBJECT\n **/\nBSON$3.BSON_DATA_OBJECT = 3;\n/**\n * Array BSON Type\n *\n * @classconstant BSON_DATA_ARRAY\n **/\nBSON$3.BSON_DATA_ARRAY = 4;\n/**\n * Binary BSON Type\n *\n * @classconstant BSON_DATA_BINARY\n **/\nBSON$3.BSON_DATA_BINARY = 5;\n/**\n * ObjectID BSON Type\n *\n * @classconstant BSON_DATA_OID\n **/\nBSON$3.BSON_DATA_OID = 7;\n/**\n * Boolean BSON Type\n *\n * @classconstant BSON_DATA_BOOLEAN\n **/\nBSON$3.BSON_DATA_BOOLEAN = 8;\n/**\n * Date BSON Type\n *\n * @classconstant BSON_DATA_DATE\n **/\nBSON$3.BSON_DATA_DATE = 9;\n/**\n * null BSON Type\n *\n * @classconstant BSON_DATA_NULL\n **/\nBSON$3.BSON_DATA_NULL = 10;\n/**\n * RegExp BSON Type\n *\n * @classconstant BSON_DATA_REGEXP\n **/\nBSON$3.BSON_DATA_REGEXP = 11;\n/**\n * Code BSON Type\n *\n * @classconstant BSON_DATA_CODE\n **/\nBSON$3.BSON_DATA_CODE = 13;\n/**\n * Symbol BSON Type\n *\n * @classconstant BSON_DATA_SYMBOL\n **/\nBSON$3.BSON_DATA_SYMBOL = 14;\n/**\n * Code with Scope BSON Type\n *\n * @classconstant BSON_DATA_CODE_W_SCOPE\n **/\nBSON$3.BSON_DATA_CODE_W_SCOPE = 15;\n/**\n * 32 bit Integer BSON Type\n *\n * @classconstant BSON_DATA_INT\n **/\nBSON$3.BSON_DATA_INT = 16;\n/**\n * Timestamp BSON Type\n *\n * @classconstant BSON_DATA_TIMESTAMP\n **/\nBSON$3.BSON_DATA_TIMESTAMP = 17;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_LONG\n **/\nBSON$3.BSON_DATA_LONG = 18;\n/**\n * MinKey BSON Type\n *\n * @classconstant BSON_DATA_MIN_KEY\n **/\nBSON$3.BSON_DATA_MIN_KEY = 0xff;\n/**\n * MaxKey BSON Type\n *\n * @classconstant BSON_DATA_MAX_KEY\n **/\nBSON$3.BSON_DATA_MAX_KEY = 0x7f;\n\n/**\n * Binary Default Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_DEFAULT\n **/\nBSON$3.BSON_BINARY_SUBTYPE_DEFAULT = 0;\n/**\n * Binary Function Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_FUNCTION\n **/\nBSON$3.BSON_BINARY_SUBTYPE_FUNCTION = 1;\n/**\n * Binary Byte Array Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY\n **/\nBSON$3.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2;\n/**\n * Binary UUID Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_UUID\n **/\nBSON$3.BSON_BINARY_SUBTYPE_UUID = 3;\n/**\n * Binary MD5 Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_MD5\n **/\nBSON$3.BSON_BINARY_SUBTYPE_MD5 = 4;\n/**\n * Binary User Defined Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED\n **/\nBSON$3.BSON_BINARY_SUBTYPE_USER_DEFINED = 128;\n\n// Return BSON\nvar bson = BSON$3;\nvar Code_1$1 = code;\nvar Map_1 = map;\nvar Symbol_1$1 = symbol;\nvar BSON_1 = BSON$3;\nvar DBRef_1$1 = db_ref;\nvar Binary_1$1 = binary;\nvar ObjectID_1$1 = objectid;\nvar Long_1$1 = long_1;\nvar Timestamp_1$1 = timestamp;\nvar Double_1$1 = double_1;\nvar Int32_1$1 = int_32;\nvar MinKey_1$1 = min_key;\nvar MaxKey_1$1 = max_key;\nvar BSONRegExp_1$1 = regexp;\nvar Decimal128_1$1 = decimal128;\nbson.Code = Code_1$1;\nbson.Map = Map_1;\nbson.Symbol = Symbol_1$1;\nbson.BSON = BSON_1;\nbson.DBRef = DBRef_1$1;\nbson.Binary = Binary_1$1;\nbson.ObjectID = ObjectID_1$1;\nbson.Long = Long_1$1;\nbson.Timestamp = Timestamp_1$1;\nbson.Double = Double_1$1;\nbson.Int32 = Int32_1$1;\nbson.MinKey = MinKey_1$1;\nbson.MaxKey = MaxKey_1$1;\nbson.BSONRegExp = BSONRegExp_1$1;\nbson.Decimal128 = Decimal128_1$1;\n\n// BSON MAX VALUES\nbson.BSON_INT32_MAX = 0x7fffffff;\nbson.BSON_INT32_MIN = -0x80000000;\n\nbson.BSON_INT64_MAX = Math.pow(2, 63) - 1;\nbson.BSON_INT64_MIN = -Math.pow(2, 63);\n\n// JS MAX PRECISE VALUES\nbson.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\nbson.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\n// Add BSON types to function creation\nbson.Binary = binary;\nbson.Code = code;\nbson.DBRef = db_ref;\nbson.Decimal128 = decimal128;\nbson.Double = double_1;\nbson.Int32 = int_32;\nbson.Long = long_1;\nbson.Map = map;\nbson.MaxKey = max_key;\nbson.MinKey = min_key;\nbson.ObjectId = objectid;\nbson.ObjectID = objectid;\nbson.BSONRegExp = regexp;\nbson.Symbol = symbol;\nbson.Timestamp = timestamp;\n\n// Return the BSON\nvar jsBson = bson;\n\nreturn jsBson;\n\n})));\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/dist/bson.js","/* global window, document, fetch */\n\nimport { createStorage } from './storage';\nimport { createProviders, PROVIDER_TYPE_MONGODB_CLOUD } from './providers';\nimport { StitchError } from '../errors';\nimport * as authCommon from './common';\nimport * as common from '../common';\nimport * as _platform from 'detect-browser';\n\nconst jwtDecode = require('jwt-decode');\n\nconst EMBEDDED_USER_AUTH_DATA_PARTS = 4;\n\n/** @private */\nexport class AuthFactory {\n  constructor() {\n    throw new StitchError('Auth can only be made from the AuthFactory.create function');\n  }\n\n  static create(client, rootUrl, options) {\n    return newAuth(client, rootUrl, options);\n  }\n}\n\n/** @private */\nexport function newAuth(client, rootUrl, options) {\n  let auth = Object.create(Auth.prototype);\n  let namespace;\n  if (!client || client.clientAppID === '') {\n    namespace = 'admin';\n  } else {\n    namespace = `client.${client.clientAppID}`;\n  }\n\n  options = Object.assign({\n    codec: authCommon.APP_CLIENT_CODEC,\n    namespace: namespace,\n    storageType: 'localStorage'\n  }, options);\n\n  auth.client = client;\n  auth.rootUrl = rootUrl;\n  auth.codec = options.codec;\n  auth.platform = options.platform || _platform;\n  auth.storage = createStorage(options);\n  auth.providers = createProviders(auth, options);\n\n  return Promise.all([\n    auth._get(),\n    auth.storage.get(authCommon.REFRESH_TOKEN_KEY),\n    auth.storage.get(authCommon.USER_LOGGED_IN_PT_KEY),\n    auth.storage.get(authCommon.DEVICE_ID_KEY)\n  ]).then(([authObj, rt, loggedInProviderType, deviceId]) => {\n    auth.auth = authObj;\n    auth.authedId = authObj.userId;\n    auth.rt = rt;\n    auth.loggedInProviderType = loggedInProviderType;\n    auth.deviceId = deviceId;\n\n    return auth;\n  });\n}\n\n/** @private */\nexport class Auth {\n  constructor(client, rootUrl, options) {\n    throw new StitchError('Auth can only be made from the AuthFactory.create function');\n  }\n\n  /**\n   * Create the device info for this client.\n   *\n   * @private\n   * @memberof module:auth\n   * @method getDeviceInfo\n   * @param {String} appId The app ID for this client\n   * @param {String} appVersion The version of the app\n   * @returns {Object} The device info object\n   */\n  getDeviceInfo(deviceId, appId, appVersion = '') {\n    const deviceInfo = { appId, appVersion, sdkVersion: common.SDK_VERSION };\n\n    if (deviceId) {\n      deviceInfo.deviceId = deviceId;\n    }\n\n    if (this.platform) {\n      deviceInfo.platform = this.platform.name;\n      deviceInfo.platformVersion = this.platform.version;\n    }\n\n    return deviceInfo;\n  }\n\n  provider(name) {\n    if (!this.providers.hasOwnProperty(name)) {\n      throw new Error('Invalid auth provider specified: ' + name);\n    }\n\n    return this.providers[name];\n  }\n\n  refreshToken() {\n    return this.client.doSessionPost()\n      .then((json) => this.set(json));\n  }\n\n  pageRootUrl() {\n    return [window.location.protocol, '//', window.location.host, window.location.pathname].join('');\n  }\n\n  error() {\n    return this._error;\n  }\n\n  isAppClient() {\n    if (!this.client) {\n      return true; // Handle the case where Auth is constructed with null\n    }\n    return this.client.type === common.APP_CLIENT_TYPE;\n  }\n\n  handleRedirect() {\n    if (typeof (window) === 'undefined') {\n      // This means we're running in some environment other\n      // than a browser - so handling a redirect makes no sense here.\n      return;\n    }\n    if (!window.location || !window.location.hash) {\n      return;\n    }\n\n    return Promise.all([\n      this.storage.get(authCommon.STATE_KEY),\n      this.storage.get(authCommon.STITCH_REDIRECT_PROVIDER)\n    ]).then(([ourState, redirectProvider]) => {\n      let redirectFragment = window.location.hash.substring(1);\n      const redirectState = this.parseRedirectFragment(redirectFragment, ourState);\n      if (redirectState.lastError || (redirectState.found && !redirectProvider)) {\n        console.error(`StitchClient: error from redirect: ${redirectState.lastError ?\n          redirectState.lastError : 'provider type not set'}`);\n        this._error = redirectState.lastError;\n        window.history.replaceState(null, '', this.pageRootUrl());\n        return Promise.reject();\n      }\n\n      if (!redirectState.found) {\n        return Promise.reject();\n      }\n\n      return Promise.all(\n        [\n          this.storage.remove(authCommon.STATE_KEY),\n          this.storage.remove(authCommon.STITCH_REDIRECT_PROVIDER)\n        ]\n      ).then(() => ({redirectState, redirectProvider}));\n    }).then(({redirectState, redirectProvider}) => {\n      if (!redirectState.stateValid) {\n        console.error('StitchClient: state values did not match!');\n        window.history.replaceState(null, '', this.pageRootUrl());\n        return;\n      }\n\n      if (!redirectState.ua) {\n        console.error('StitchClient: no UA value was returned from redirect!');\n        return;\n      }\n\n      // If we get here, the state is valid - set auth appropriately.\n      return this.set(redirectState.ua, redirectProvider);\n    }).then(() => window.history.replaceState(null, '', this.pageRootUrl()))\n      .catch(error => {\n        if (error) {\n          throw error;\n        }\n      });\n  }\n\n  getCookie(name) {\n    let splitCookies = document.cookie.split(' ');\n    for (let i = 0; i < splitCookies.length; i++) {\n      let cookie = splitCookies[i];\n      let sepIdx = cookie.indexOf('=');\n      let cookieName = cookie.substring(0, sepIdx);\n      if (cookieName === name) {\n        let cookieVal = cookie.substring(sepIdx + 1, cookie.length);\n        if (cookieVal[cookieVal.length - 1] === ';') {\n          return cookieVal.substring(0, cookie.length - 1);\n        }\n        return cookieVal;\n      }\n    }\n  }\n\n  handleCookie() {\n    if (typeof (window) === 'undefined' || typeof (document) === 'undefined') {\n      // This means we're running in some environment other\n      // than a browser - so handling a cookie makes no sense here.\n      return;\n    }\n    if (!document.cookie) {\n      return;\n    }\n\n    let uaCookie = this.getCookie(authCommon.USER_AUTH_COOKIE_NAME);\n    if (!uaCookie) {\n      return;\n    }\n\n    document.cookie = `${authCommon.USER_AUTH_COOKIE_NAME}=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT;`;\n    const userAuth = this.unmarshallUserAuth(uaCookie);\n    return this.set(userAuth, PROVIDER_TYPE_MONGODB_CLOUD).then(() =>\n      window.history.replaceState(null, '', this.pageRootUrl())\n    );\n  }\n\n  clear() {\n    this.auth = null;\n    this.authedId = null;\n    this.rt = null;\n    this.loggedInProviderType = null;\n\n    return Promise.all(\n      [\n        this.storage.remove(authCommon.USER_AUTH_KEY),\n        this.storage.remove(authCommon.REFRESH_TOKEN_KEY),\n        this.storage.remove(authCommon.USER_LOGGED_IN_PT_KEY),\n        this.storage.remove(authCommon.STITCH_REDIRECT_PROVIDER)\n      ]\n    );\n  }\n\n  getDeviceId() {\n    return this.deviceId;\n  }\n\n  // Returns whether or not the access token is expired or is going to expire within 'withinSeconds'\n  // seconds, according to current system time. Returns false if the token is malformed in any way.\n  isAccessTokenExpired(withinSeconds = authCommon.DEFAULT_ACCESS_TOKEN_EXPIRE_WITHIN_SECS) {\n    const token = this.getAccessToken();\n    if (!token) {\n      return false;\n    }\n\n    let decodedToken;\n    try {\n      decodedToken = jwtDecode(token);\n    } catch (e) {\n      return false;\n    }\n\n    if (!decodedToken) {\n      return false;\n    }\n\n    return decodedToken.exp && Math.floor(Date.now() / 1000) >= decodedToken.exp - withinSeconds;\n  }\n\n  getAccessToken() {\n    return this.auth.accessToken;\n  }\n\n  getRefreshToken() {\n    return this.rt;\n  }\n\n  set(json, authType = '') {\n    if (!json) {\n      return;\n    }\n\n    let newUserAuth = {};\n    let setters = [];\n\n    if (authType) {\n      this.loggedInProviderType = authType;\n      setters.push(this.storage.set(authCommon.USER_LOGGED_IN_PT_KEY, authType));\n    }\n\n    if (json[this.codec.refreshToken]) {\n      this.rt = json[this.codec.refreshToken];\n      delete json[this.codec.refreshToken];\n      setters.push(this.storage.set(authCommon.REFRESH_TOKEN_KEY, this.rt));\n    }\n\n    if (json[this.codec.deviceId]) {\n      this.deviceId = json[this.codec.deviceId];\n      delete json[this.codec.deviceId];\n      setters.push(this.storage.set(authCommon.DEVICE_ID_KEY, this.deviceId));\n    }\n\n    // Merge in new fields with old fields. Typically the first json value\n    // is complete with every field inside a user auth, but subsequent requests\n    // do not include everything. This merging behavior is safe so long as json\n    // value responses with absent fields do not indicate that the field should\n    // be unset.\n    if (json[this.codec.accessToken]) {\n      newUserAuth.accessToken = json[this.codec.accessToken];\n    }\n    if (json[this.codec.userId]) {\n      newUserAuth.userId = json[this.codec.userId];\n    }\n\n    this.auth = Object.assign(this.auth ? this.auth : {}, newUserAuth);\n    this.authedId = this.auth.userId;\n    setters.push(this.storage.set(authCommon.USER_AUTH_KEY, JSON.stringify(this.auth)));\n    return Promise.all(setters).then(() => this.auth);\n  }\n\n  _get() {\n    return this.storage.get(authCommon.USER_AUTH_KEY).then((data) => {\n      if (!data) {\n        return {};\n      }\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        // Need to back out and clear auth otherwise we will never\n        // be able to do anything useful.\n        return this.clear().then(() => {\n          throw new StitchError('Failure retrieving stored auth');\n        });\n      }\n    });\n  }\n\n  getLoggedInProviderType() {\n    return this.loggedInProviderType;\n  }\n\n  parseRedirectFragment(fragment, ourState) {\n    // After being redirected from oauth, the URL will look like:\n    // https://todo.examples.stitch.mongodb.com/#_stitch_state=...&_stitch_ua=...\n    // This function parses out stitch-specific tokens from the fragment and\n    // builds an object describing the result.\n    const vars = fragment.split('&');\n    const result = { ua: null, found: false, stateValid: false, lastError: null };\n    let shouldBreak = false;\n    for (let i = 0; i < vars.length && !shouldBreak; ++i) {\n      const pairParts = vars[i].split('=');\n      const pairKey = decodeURIComponent(pairParts[0]);\n      switch (pairKey) {\n      case authCommon.STITCH_ERROR_KEY:\n        result.lastError = decodeURIComponent(pairParts[1]);\n        result.found = true;\n        shouldBreak = true;\n        break;\n      case authCommon.USER_AUTH_KEY:\n        try {\n          result.ua = this.unmarshallUserAuth(decodeURIComponent(pairParts[1]));\n          result.found = true;\n        } catch (e) {\n          result.lastError = e;\n        }\n        continue;\n      case authCommon.STITCH_LINK_KEY:\n        result.found = true;\n        continue;\n      case authCommon.STATE_KEY:\n        result.found = true;\n        let theirState = decodeURIComponent(pairParts[1]);\n        if (ourState && ourState === theirState) {\n          result.stateValid = true;\n        }\n        continue;\n      default: continue;\n      }\n    }\n\n    return result;\n  }\n\n  unmarshallUserAuth(data) {\n    let parts = data.split('$');\n    if (parts.length !== EMBEDDED_USER_AUTH_DATA_PARTS) {\n      throw new RangeError('invalid user auth data provided: ' + data);\n    }\n\n    return {\n      [this.codec.accessToken]: parts[0],\n      [this.codec.refreshToken]: parts[1],\n      [this.codec.userId]: parts[2],\n      [this.codec.deviceId]: parts[3]\n    };\n  }\n\n  fetchArgsWithLink(fetchArgs, link) {\n    if (link) {\n      fetchArgs.headers.Authorization = `Bearer ${this.getAccessToken()}`;\n    }\n\n    return fetchArgs;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/index.js","import { USER_AUTH_KEY, REFRESH_TOKEN_KEY, DEVICE_ID_KEY, STATE_KEY } from './common';\n\nexport class MemoryStorage {\n  constructor() {\n    this._data = {};\n    this._orderedKeys = [];\n    this.length = 0;\n  }\n\n  getItem(key) {\n    return (key in this._data) ? this._data[key] : null;\n  }\n\n  setItem(key, value) {\n    this._orderedKeys.push(key);\n    this._data[key] = value;\n    this.length++;\n    return this._data[key];\n  }\n\n  removeItem(key) {\n    this._orderedKeys.pop(key);\n    delete this._data[key];\n    this.length--;\n    return undefined;\n  }\n\n  key(index) {\n    return this._orderedKeys[index];\n  }\n}\n\nconst _VERSION = 1;\nconst _VERSION_KEY = '__stitch_storage_version__';\n\n/**\n  * Run a migration on the currently used storage\n  * that checks to see if the current version is up to date.\n  * If the version has not been set, this method will migrate\n  * to the latest version.\n  *\n  * @private\n  * @param {Integer} version version number of storage\n  * @param {Object} storage storage class being checked\n  * @returns {Promise} nullable promise containing migration logic\n  */\nfunction _runMigration(version, storage) {\n  switch (version) {\n  case null:\n  case undefined:\n    // return a promise,\n    // mapping each of the store's keys to a Promise\n    // that fetches the each value for each key,\n    // sets the old value to the new \"namespaced\" key\n    // remove the old key value pair,\n    // and set the version number\n    let migrations = [\n      USER_AUTH_KEY,\n      REFRESH_TOKEN_KEY,\n      DEVICE_ID_KEY,\n      STATE_KEY\n    ].map(key =>\n      Promise.resolve(storage.store.getItem(key))\n        .then(item => !!item && storage.store.setItem(storage._generateKey(key), item))\n        .then(() => storage.store.removeItem(key))\n    );\n    return Promise.all(migrations)\n      .then(() => storage.store.setItem(_VERSION_KEY, _VERSION));\n  // in future versions, `case 1:`, `case 2:` and so on\n  // could be added to perform similar migrations\n  default: break;\n  }\n}\n\n/** @private */\nclass Storage {\n  /**\n   * @param {Storage} store implementer of Storage interface\n   * @param {String} namespace clientAppID to be used for namespacing\n   * @param\n  */\n  constructor(store, namespace) {\n    this.store = store;\n    this.namespace = `_stitch.${namespace}`;\n\n    this._migration = Promise.resolve(this.store.getItem(_VERSION_KEY))\n      .then(version => _runMigration(version, this));\n  }\n\n  _generateKey(key) {\n    return `${this.namespace}.${key}`;\n  }\n\n  get(key) {\n    return Promise.resolve(this._migration)\n      .then(() => this.store.getItem(this._generateKey(key)));\n  }\n\n  set(key, value) {\n    return Promise.resolve(this._migration)\n      .then(() => this.store.setItem(this._generateKey(key), value))\n      .then(() => value);\n  }\n\n  remove(key) {\n    return Promise.resolve(this._migration)\n      .then(() => this.store.removeItem(this._generateKey(key)));\n  }\n}\n\nexport function createStorage(options) {\n  let { storageType, storage, namespace } = options;\n\n  if (storageType === 'localStorage') {\n    if ((typeof window !== 'undefined') && 'localStorage' in window && window.localStorage !== null) {\n      return new Storage(window.localStorage, namespace);\n    }\n  } else if (storageType === 'sessionStorage') {\n    if ((typeof window !== 'undefined') && 'sessionStorage' in window && window.sessionStorage !== null) {\n      return new Storage(window.sessionStorage, namespace);\n    }\n  } else if (storageType == 'customStorage') { //eslint-disable-line eqeqeq\n    return new Storage(storage, namespace);\n  }\n\n  // default to memory storage\n  return new Storage(new MemoryStorage(), namespace);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/storage.js","import { StitchClientFactory } from './client';\nimport { StitchAdminClientFactory } from './admin';\nimport { BSON } from 'mongodb-extjson';\n\nexport {\n  StitchClientFactory,\n  StitchAdminClientFactory,\n  BSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { serviceResponse } from '../../util';\n\n/**\n * Convenience wrapper around AWS S3 service (not meant to be instantiated directly,\n * use `.service('aws-s3', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {S3Service} a S3Service instance.\n */\nclass S3Service {\n  constructor(stitchClient, serviceName) {\n    this.client = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Put an object to S3 via Stitch. For small uploads\n   *\n   * @param {String} bucket which S3 bucket to use\n   * @param {String} key which key (filename) to use\n   * @param {String} acl which policy to apply\n   * @param {String} contentType content type of uploaded data\n   * @param {String|BSON.Binary} body the content to put in the bucket\n   * @return {Promise} which resolves to an object containing a single field \"location\"\n   *                   which is the URL of the object that was put into the S3 bucket\n   */\n  put(bucket, key, acl, contentType, body) {\n    return serviceResponse(this, {\n      action: 'put',\n      args: { bucket, key, acl, contentType, body }\n    });\n  }\n\n  /**\n   * Sign a policy for putting via Stitch. For large uploads\n   *\n   * @param {String} bucket which S3 bucket to use\n   * @param {String} key which key (filename) to use\n   * @param {String} acl which policy to apply\n   * @param {String} contentType content type of uploaded data\n   * @return {Promise}\n   */\n  signPolicy(bucket, key, acl, contentType) {\n    return serviceResponse(this, {\n      action: 'signPolicy',\n      args: { bucket, key, acl, contentType }\n    });\n  }\n}\n\nexport default S3Service;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/aws/s3_service.js","import { serviceResponse } from '../../util';\n\n/**\n * Convenience wrapper around AWS SES service (not meant to be instantiated directly,\n * use `.service('aws-ses', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {SESService} a SESService instance.\n */\nclass SESService {\n  constructor(stitchClient, serviceName) {\n    this.client = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Send an email\n   *\n   * @method\n   * @param {String} fromAddress the email to send from\n   * @param {String} toAddress the email to send to\n   * @param {String} subject the subject of the email\n   * @param {String} body the body of the email\n   * @return {Promise} resolving to an object which contains the single string field\n   *                   \"messageId\", which is the SES message ID for the email message.\n   */\n  send(fromAddress, toAddress, subject, body) {\n    return serviceResponse(this, {\n      action: 'send',\n      args: { fromAddress, toAddress, subject, body }\n    });\n  }\n}\n\nexport default SESService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/aws/ses_service.js","import { serviceResponse } from '../../util';\n\n/**\n * Convenience wrapper for HTTP service (not meant to be instantiated directly,\n * use `.service('http', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {HTTPService} a HTTPService instance.\n */\nclass HTTPService {\n  constructor(client, serviceName) {\n    this.client = client;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Send a GET request to a resource (result must be application/json)\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of GET args\n   * @param {Object} [options] optional settings for the GET operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  get(urlOrOptions, options = {}) {\n    return buildResponse('get', this, buildArgs(urlOrOptions, options));\n  }\n\n  /**\n   * Send a POST request to a resource with payload\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of POST args\n   * @param {Object} [options] optional settings for the POST operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  post(urlOrOptions, options = {}) {\n    return buildResponse('post', this, buildArgs(urlOrOptions, options));\n  }\n\n  /**\n   * Send a PUT request to a resource with payload\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of PUT args\n   * @param {Object} [options] optional settings for the PUT operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  put(urlOrOptions, options = {}) {\n    return buildResponse('put', this, buildArgs(urlOrOptions, options));\n  }\n\n  /**\n   * Send a PATCH request to a resource with payload\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of PATCH args\n   * @param {Object} [options] optional settings for the PATCH operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  patch(urlOrOptions, options = {}) {\n    return buildResponse('patch', this, buildArgs(urlOrOptions, options));\n  }\n\n  /**\n   * Send a DELETE request to a resource\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of DELETE args\n   * @param {Object} [options] optional settings for the DELETE operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  delete(urlOrOptions, options = {}) {\n    return buildResponse('delete', this, buildArgs(urlOrOptions, options));\n  }\n\n  /**\n   * Send a HEAD request to a resource\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of HEAD args\n   * @param {Object} [options] optional settings for the HEAD operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  head(urlOrOptions, options = {}) {\n    return buildResponse('head', this, buildArgs(urlOrOptions, options));\n  }\n}\n\nfunction buildArgs(urlOrOptions, options) {\n  let args;\n  if (typeof urlOrOptions !== 'string') {\n    args = urlOrOptions;\n  } else {\n    args = { url: urlOrOptions };\n    if (!!options.authUrl) args.authUrl = options.authUrl;\n  }\n\n  return args;\n}\n\nfunction buildResponse(action, service, args) {\n  return serviceResponse(service, {\n    action,\n    args\n  });\n}\n\nexport default HTTPService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/http/http_service.js","import S3Service from './aws/s3_service';\nimport SESService from './aws/ses_service';\nimport HTTPService from './http/http_service';\nimport MongoDBService from './mongodb/mongodb_service';\nimport TwilioService from './twilio/twilio_service';\n\nexport default {\n  'aws-s3': S3Service,\n  'aws-ses': SESService,\n  'aws_s3': S3Service,\n  'aws_ses': SESService,\n  'http': HTTPService,\n  'mongodb': MongoDBService,\n  'twilio': TwilioService\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/index.js","import { serviceResponse } from '../../util';\n\n/**\n * Creates a new Collection instance (not meant to be instantiated directly,\n * use `.collection()` on a {@link DB} instance).\n *\n * @class\n * @return {Collection} a Collection instance.\n */\nclass Collection {\n  /**\n   * @hideconstructor\n   */\n  constructor(db, name) {\n    this.db = db;\n    this.name = name;\n  }\n\n  /**\n   * Inserts a single document.\n   *\n   * @method\n   * @param {Object} doc The document to insert.\n   * @return {Promise<Object, Error>} a Promise for the operation.\n   */\n  insertOne(doc) {\n    const args = { document: doc };\n    return buildResponse('insertOne', this, buildArgs(this, args));\n  }\n\n  /**\n   * Inserts multiple documents.\n   *\n   * @method\n   * @param {Array} docs The documents to insert.\n   * @return {Promise<Object, Error>} Returns a Promise for the operation.\n   */\n  insertMany(docs) {\n    const args = { documents: Array.isArray(docs) ? docs : [ docs ] };\n    return buildResponse('insertMany', this, buildArgs(this, args));\n  }\n\n  /**\n   * Deletes a single document.\n   *\n   * @method\n   * @param {Object} query The query used to match a single document.\n   * @return {Promise<Object, Error>} Returns a Promise for the operation.\n   */\n  deleteOne(query) {\n    return buildResponse('deleteOne', this, buildArgs(this, { query }));\n  }\n\n  /**\n   * Deletes all documents matching query.\n   *\n   * @method\n   * @param {Object} query The query used to match the documents to delete.\n   * @return {Promise<Object, Error>} Returns a Promise for the operation.\n   */\n  deleteMany(query) {\n    return buildResponse('deleteMany', this, buildArgs(this, { query }));\n  }\n\n  /**\n   * Updates a single document.\n   *\n   * @method\n   * @param {Object} query The query used to match a single document.\n   * @param {Object} update The update operations to perform on the matching document.\n   * @param {Object} [options] Additional options object.\n   * @param {Boolean} [options.upsert=false] Perform an upsert operation.\n   * @return {Promise<Object, Error>} A Promise for the operation.\n   */\n  updateOne(query, update, options = {}) {\n    return updateOp(this, false, query, update, options);\n  }\n\n  /**\n   * Updates multiple documents.\n   *\n   * @method\n   * @param {Object} query The query used to match the documents.\n   * @param {Object} update The update operations to perform on the matching documents.\n   * @param {Object} [options] Additional options object.\n   * @param {Boolean} [options.upsert=false] Perform an upsert operation.\n   * @return {Promise<Object, Error>} Returns a Promise for the operation.\n   */\n  updateMany(query, update) {\n    return updateOp(this, true, query, update);\n  }\n\n  /**\n   * Finds documents.\n   *\n   * @method\n   * @param {Object} query The query used to match documents.\n   * @param {Object} [project] The query document projection.\n   * @return {MongoQuery} An object which allows for `limit` and `sort` parameters to be set.\n   * `execute` will return a {Promise} for the operation.\n   */\n  find(query, project) {\n    return new MongoQuery(this, query, project);\n  }\n\n  /**\n   * Finds one document.\n   *\n   * @method\n   * @param {Object} query The query used to match documents.\n   * @param {Object} [project] The query document projection.\n   * @return {Promise<Object, Error>} Returns a Promise for the operation\n   */\n  findOne(query, project) {\n    return buildResponse('findOne', this, buildArgs(this, { query, project }));\n  }\n\n  /**\n   * Executes an aggregation pipeline.\n   *\n   * @param {Array} pipeline The aggregation pipeline.\n   * @returns {Array} The results of the aggregation.\n   */\n  aggregate(pipeline) {\n    return aggregateOp(this, pipeline);\n  }\n\n  /**\n   * Gets the number of documents matching the filter.\n   *\n   * @param {Object} query The query used to match documents.\n   * @param {Object} options Additional count options.\n   * @param {Number} [options.limit=null] The maximum number of documents to return.\n   * @return {Number} The results of the count operation.\n   */\n  count(query, options = {}) {\n    let outgoingOptions;\n    if (options.limit) {\n      outgoingOptions = { limit: options.limit };\n    }\n\n    return buildResponse('count', this, buildArgs(this, { count: true, query }, outgoingOptions));\n  }\n}\n\n// private\n\nfunction updateOp(service, isMulti, query, update, options = {}) {\n  const action = isMulti ? 'updateMany' : 'updateOne';\n\n  let outgoingOptions;\n  if (!isMulti && options.upsert) {\n    outgoingOptions = { upsert: true };\n  }\n\n  return buildResponse(action, service, buildArgs(service, { query, update }, outgoingOptions));\n}\n\nfunction findOp({ service, query, project, limit, sort }) {\n  return buildResponse('find', service, buildArgs(service, { query, project, limit, sort }));\n}\n\nfunction aggregateOp(service, pipeline) {\n  return buildResponse('aggregate', service, buildArgs(service, { pipeline }));\n}\n\nfunction buildArgs({ db: { name: database }, name: collection }, args, options = {}) {\n  return Object.assign(\n    { database, collection },\n    args,\n    options\n  );\n}\n\nfunction buildResponse(action, service, args) {\n  return serviceResponse(service.db, {\n    serviceName: service.db.service,\n    action,\n    args\n  });\n}\n\n// mongo query (find) support\n\nfunction MongoQuery(service, query, project) {\n  if (this instanceof MongoQuery) {\n    this.service = service;\n    this.query = query;\n    this.project = project;\n    return this;\n  }\n  return new MongoQuery(service, query, project);\n}\n\nMongoQuery.prototype.limit = function(limit) {\n  this.limit = limit;\n  return this;\n};\n\nMongoQuery.prototype.sort = function(sort) {\n  this.sort = sort;\n  return this;\n};\n\nMongoQuery.prototype.execute = function(resolve) {\n  return findOp(this);\n};\n\nexport default Collection;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/mongodb/collection.js","import Collection from './collection';\n\n/**\n * Creates a new DB instance (not meant to be instantiated directly, use `.db()` on\n * a {@link MongoDBService} instance).\n * @class\n * @return {DB} a DB instance.\n */\nclass DB {\n  /**\n   * @hideconstructor\n   */\n  constructor(client, service, name) {\n    this.client = client;\n    this.service = service;\n    this.name = name;\n  }\n\n  /**\n   * Returns a Collection instance representing a MongoDB Collection object.\n   *\n   * @method\n   * @param {String} name The collection name.\n   * @param {Object} [options] Additional options.\n   * @return {Collection} returns a Collection instance representing a MongoDb collection.\n   */\n  collection(name, options = {}) {\n    return new Collection(this, name, options);\n  }\n}\n\nexport default DB;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/mongodb/db.js","import DB from './db';\n\n/**\n * Creates a new MongoDBService instance (not meant to be instantiated directly, use\n * `.service('mongodb', '<service-name>')` on a {@link StitchClient} instance.\n *\n * @class\n * @return {MongoDBService} a MongoDBService instance.\n */\nclass MongoDBService {\n  /**\n   * @hideconstructor\n   */\n  constructor(stitchClient, serviceName) {\n    this.stitchClient = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Get a DB instance\n   *\n   * @method\n   * @param {String} databaseName The MongoDB database name\n   * @param {Object} [options] Additional options.\n   * @return {DB} returns a DB instance representing a MongoDB database.\n   */\n  db(databaseName, options = {}) {\n    return new DB(this.stitchClient, this.serviceName, databaseName);\n  }\n}\n\n\nexport default MongoDBService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/mongodb/mongodb_service.js","import { serviceResponse } from '../../util';\n\n/**\n * Create a new TwilioService instance (not meant to be instantiated directly,\n * use `.service('twilio', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {TwilioService} a TwilioService instance.\n */\nclass TwilioService {\n  constructor(stitchClient, serviceName) {\n    this.client = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Send a text message to a number\n   *\n   * @method\n   * @param {String} from number to send from\n   * @param {String} to number to send to\n   * @param {String} body SMS body content\n   * @return {Promise} which resolves to 'null' when message is sent successfully,\n   *                   or is rejected when there is an error\n   */\n  send(from, to, body) {\n    return serviceResponse(this, {\n      action: 'send',\n      args: { from, to, body }\n    });\n  }\n}\n\nexport default TwilioService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/twilio/twilio_service.js","'use strict';\n\n/**\n * Module dependencies.\n * @ignore\n */\nfunction convert(integer) {\n  var str = Number(integer).toString(16);\n  return str.length === 1 ? '0' + str : str;\n}\n\nfunction toExtendedJSON(obj) {\n  var base64String = Buffer.isBuffer(obj.buffer)\n    ? obj.buffer.toString('base64')\n    : Buffer.from(obj.buffer).toString('base64');\n\n  return {\n    $binary: {\n      base64: base64String,\n      subType: convert(obj.sub_type)\n    }\n  };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  var type = doc.$binary.subType ? parseInt(doc.$binary.subType, 16) : 0;\n\n  var data = new Buffer(doc.$binary.base64, 'base64');\n\n  return new BSON.Binary(data, type);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/binary.js","'use strict';\n\nfunction toExtendedJSON(obj) {\n  if (obj.scope) {\n    return { $code: obj.code, $scope: obj.scope };\n  }\n\n  return { $code: obj.code };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Code(doc.$code, doc.$scope);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/code.js","'use strict';\n\nfunction toExtendedJSON(obj) {\n  var o = {\n    $ref: obj.collection,\n    $id: obj.oid\n  };\n  if (obj.db) o.$db = obj.db;\n  o = Object.assign(o, obj.fields);\n  return o;\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  var copy = Object.assign({}, doc);\n  ['$ref', '$id', '$db'].forEach(k => delete copy[k]);\n  return new BSON.DBRef(doc.$ref, doc.$id, doc.$db, copy);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/db_ref.js","'use strict';\n\nfunction toExtendedJSON(obj) {\n  return { $numberDecimal: obj.toString() };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Decimal128.fromString(doc.$numberDecimal);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/decimal128.js","'use strict';\n\nfunction toExtendedJSON(obj, options) {\n  if (options && options.relaxed && isFinite(obj.value)) return obj.value;\n  return { $numberDouble: obj.value.toString() };\n}\n\nfunction fromExtendedJSON(BSON, doc, options) {\n  return options && options.relaxed\n    ? parseFloat(doc.$numberDouble)\n    : new BSON.Double(parseFloat(doc.$numberDouble));\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/double.js","'use strict';\n\nvar Binary = require('./binary');\nvar Code = require('./code');\nvar DBRef = require('./db_ref');\nvar Decimal128 = require('./decimal128');\nvar Double = require('./double');\nvar Int32 = require('./int_32');\nvar Long = require('./long');\nvar MaxKey = require('./max_key');\nvar MinKey = require('./min_key');\nvar ObjectID = require('./objectid');\nvar BSONRegExp = require('./regexp');\nvar Symbol = require('./symbol');\nvar Timestamp = require('./timestamp');\n\nmodule.exports = {\n  Binary: Binary,\n  Code: Code,\n  DBRef: DBRef,\n  Decimal128: Decimal128,\n  Double: Double,\n  Int32: Int32,\n  Long: Long,\n  MaxKey: MaxKey,\n  MinKey: MinKey,\n  ObjectID: ObjectID,\n  BSONRegExp: BSONRegExp,\n  Symbol: Symbol,\n  Timestamp: Timestamp\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/index.js","'use strict';\n\nfunction toExtendedJSON(obj, options) {\n  if (options && options.relaxed) return obj.value;\n  return { $numberInt: obj.value.toString() };\n}\n\nfunction fromExtendedJSON(BSON, doc, options) {\n  return options && options.relaxed ? parseInt(doc.$numberInt, 10) : new BSON.Int32(doc.$numberInt);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/int_32.js","'use strict';\n\nfunction toExtendedJSON(obj, options) {\n  if (options && options.relaxed) return obj.toNumber();\n  return { $numberLong: obj.toString() };\n}\n\nfunction fromExtendedJSON(BSON, doc, options) {\n  const result = BSON.Long.fromString(doc.$numberLong);\n  return options && options.relaxed ? result.toNumber() : result;\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/long.js","'use strict';\n\nfunction toExtendedJSON() {\n  return { $maxKey: 1 };\n}\n\nfunction fromExtendedJSON(BSON) {\n  return new BSON.MaxKey();\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/max_key.js","'use strict';\n\nfunction toExtendedJSON() {\n  return { $minKey: 1 };\n}\n\nfunction fromExtendedJSON(BSON) {\n  return new BSON.MinKey();\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/min_key.js","'use strict';\n\nfunction toExtendedJSON(obj) {\n  if (obj.toHexString) return { $oid: obj.toHexString() };\n  return { $oid: obj.toString('hex') };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.ObjectID(doc.$oid);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/objectid.js","'use strict';\n\nfunction toExtendedJSON(obj) {\n  return { $regularExpression: { pattern: obj.pattern, options: obj.options } };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.BSONRegExp(\n    doc.$regularExpression.pattern,\n    doc.$regularExpression.options\n      .split('')\n      .sort()\n      .join('')\n  );\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/regexp.js","'use strict';\n\nfunction toExtendedJSON(obj) {\n  return { $symbol: obj.value };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Symbol(doc.$symbol);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/symbol.js","'use strict';\n\nfunction toExtendedJSON(obj) {\n  return {\n    $timestamp: {\n      t: obj.high_,\n      i: obj.low_\n    }\n  };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Timestamp(doc.$timestamp.i, doc.$timestamp.t);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/timestamp.js","'use strict';\n\nlet codecs = require('./bson'),\n  BSON = require('bson');\n\nvar BSONTypes = [\n  'Binary',\n  'Code',\n  'DBRef',\n  'Decimal128',\n  'Double',\n  'Int32',\n  'Long',\n  'MaxKey',\n  'MinKey',\n  'ObjectID',\n  'BSONRegExp',\n  'Symbol',\n  'Timestamp'\n];\n\nsetBSONModule(BSON);\n\n// all the types where we don't need to do any special processing and can just pass the EJSON\n//straight to type.fromExtendedJSON\nvar keysToCodecs = {\n  $oid: codecs.ObjectID,\n  $binary: codecs.Binary,\n  $symbol: codecs.Symbol,\n  $numberInt: codecs.Int32,\n  $numberDecimal: codecs.Decimal128,\n  $numberDouble: codecs.Double,\n  $numberLong: codecs.Long,\n  $minKey: codecs.MinKey,\n  $maxKey: codecs.MaxKey,\n  $regularExpression: codecs.BSONRegExp,\n  $timestamp: codecs.Timestamp\n};\n\nfunction setBSONModule(module) {\n  BSONTypes.forEach(t => {\n    if (!module[t]) throw new Error('passed in module does not contain all BSON types required');\n  });\n  BSON = module;\n}\n\nfunction deserializeValue(self, key, value, options) {\n  if (typeof value === 'number') {\n    // if it's an integer, should interpret as smallest BSON integer\n    // that can represent it exactly. (if out of range, interpret as double.)\n    if (Math.floor(value) === value) {\n      let int32Range = value >= BSON_INT32_MIN && value <= BSON_INT32_MAX,\n        int64Range = value >= BSON_INT64_MIN && value <= BSON_INT64_MAX;\n\n      if (int32Range) return options.strict ? new BSON.Int32(value) : value;\n      if (int64Range) return options.strict ? new BSON.Long.fromNumber(value) : value;\n    }\n    // If the number is a non-integer or out of integer range, should interpret as BSON Double.\n    return new BSON.Double(value);\n  }\n\n  // from here on out we're looking for bson types, so bail if its not an object\n  if (value == null || typeof value !== 'object') return value;\n\n  // upgrade deprecated undefined to null\n  if (value.$undefined) return null;\n\n  var keys = Object.keys(value).filter(k => k.startsWith('$') && value[k] != null);\n  for (let i = 0; i < keys.length; i++) {\n    let c = keysToCodecs[keys[i]];\n    if (c) return c.fromExtendedJSON(BSON, value, options);\n  }\n\n  if (value.$date != null) {\n    let d = value.$date,\n      date = new Date();\n\n    if (typeof d === 'string') date.setTime(Date.parse(d));\n    else if (d instanceof BSON.Long) date.setTime(d.toNumber());\n    else if (typeof d === 'number' && options.relaxed) date.setTime(d);\n    return date;\n  }\n\n  if (value.$code != null) {\n    if (value.$scope) var scope = deserializeValue(self, null, value.$scope);\n    let copy = Object.assign({}, value);\n    copy.$scope = scope;\n    return codecs.Code.fromExtendedJSON(BSON, value);\n  }\n\n  if (value.$ref != null || value.$dbPointer != null) {\n    let v = value.$ref ? value : value.$dbPointer;\n\n    // we run into this in a \"degenerate EJSON\" case (with $id and $ref order flipped)\n    // because of the order JSON.parse goes through the document\n    if (v instanceof BSON.DBRef) return v;\n\n    let dollarKeys = Object.keys(v).filter(k => k.startsWith('$')),\n      valid = true;\n    dollarKeys.forEach(k => {\n      if (['$ref', '$id', '$db'].indexOf(k) === -1) valid = false;\n    });\n\n    // only make DBRef if $ keys are all valid\n    if (valid) return codecs.DBRef.fromExtendedJSON(BSON, v);\n  }\n\n  return value;\n}\n\nconst parse = function(text, options) {\n  var self = this;\n  options = options || { relaxed: false };\n\n  // relaxed implies not strict\n  if (typeof options.relaxed === 'boolean') options.strict = !options.relaxed;\n  if (typeof options.strict === 'boolean') options.relaxed = !options.strict;\n\n  return JSON.parse(text, function(key, value) {\n    return deserializeValue(self, key, value, options);\n  });\n};\n\n//\n// Serializer\n//\n\n// MAX INT32 boundaries\nconst BSON_INT32_MAX = 0x7fffffff,\n  BSON_INT32_MIN = -0x80000000,\n  BSON_INT64_MAX = 0x7fffffffffffffff,\n  BSON_INT64_MIN = -0x8000000000000000;\n\nconst stringify = function(value, reducer, indents, options) {\n  var opts = {};\n  if (options != null && typeof options === 'object') opts = options;\n  else if (indents != null && typeof indents === 'object') {\n    opts = indents;\n    indents = 0;\n  } else if (reducer != null && typeof reducer === 'object') {\n    opts = reducer;\n    reducer = null;\n  }\n\n  var doc = Array.isArray(value) ? serializeArray(value, opts) : serializeDocument(value, opts);\n  return JSON.stringify(doc, reducer, indents);\n};\n\nfunction serializeArray(array, options) {\n  return array.map(v => serializeValue(v, options));\n}\n\nfunction getISOString(date) {\n  var isoStr = date.toISOString();\n  // we should only show milliseconds in timestamp if they're non-zero\n  return date.getUTCMilliseconds() !== 0 ? isoStr : isoStr.slice(0, -5) + 'Z';\n}\n\nfunction serializeValue(value, options) {\n  if (Array.isArray(value)) return serializeArray(value, options);\n\n  if (value === undefined) return null;\n\n  if (value instanceof Date) {\n    let dateNum = value.getTime(),\n      // is it in year range 1970-9999?\n      inRange = dateNum > -1 && dateNum < 253402318800000;\n\n    return options.relaxed && inRange\n      ? { $date: getISOString(value) }\n      : { $date: { $numberLong: value.getTime().toString() } };\n  }\n\n  if (typeof value === 'number' && !options.relaxed) {\n    // it's an integer\n    if (Math.floor(value) === value) {\n      let int32Range = value >= BSON_INT32_MIN && value <= BSON_INT32_MAX,\n        int64Range = value >= BSON_INT64_MIN && value <= BSON_INT64_MAX;\n\n      // interpret as being of the smallest BSON integer type that can represent the number exactly\n      if (int32Range) return { $numberInt: value.toString() };\n      if (int64Range) return { $numberLong: value.toString() };\n    }\n    return { $numberDouble: value.toString() };\n  }\n\n  if (value != null && typeof value === 'object') return serializeDocument(value, options);\n  return value;\n}\n\nfunction serializeDocument(doc, options) {\n  if (doc == null || typeof doc !== 'object') throw new Error('not an object instance');\n\n  // the document itself is a BSON type\n  if (doc._bsontype && BSONTypes.indexOf(doc._bsontype) !== -1) {\n    // we need to separately serialize the embedded scope document\n    if (doc._bsontype === 'Code' && doc.scope) {\n      let tempScope = serializeDocument(doc.scope, options),\n        tempDoc = Object.assign({}, doc, { scope: tempScope });\n      return codecs['Code'].toExtendedJSON(tempDoc, options);\n      // we need to separately serialize the embedded OID document\n    } else if (doc._bsontype === 'DBRef' && doc.oid) {\n      let tempId = serializeDocument(doc.oid, options),\n        tempDoc = Object.assign({}, doc, { oid: tempId });\n      return codecs['DBRef'].toExtendedJSON(tempDoc, options);\n    }\n    return codecs[doc._bsontype].toExtendedJSON(doc, options);\n  }\n\n  // the document is an object with nested BSON types\n  var _doc = {};\n  for (var name in doc) {\n    let val = doc[name];\n    if (Array.isArray(val)) {\n      _doc[name] = serializeArray(val, options);\n    } else if (val != null && val._bsontype && BSONTypes.indexOf(val._bsontype) !== -1) {\n      // we need to separately serialize the embedded scope document\n      if (val._bsontype === 'Code' && val.scope) {\n        let tempScope = serializeDocument(val.scope, options),\n          tempVal = Object.assign({}, val, { scope: tempScope });\n        _doc[name] = codecs['Code'].toExtendedJSON(tempVal, options);\n        // we need to separately serialize the embedded OID document\n      } else if (val._bsontype === 'DBRef' && val.oid) {\n        let tempId = serializeDocument(val.oid, options),\n          tempVal = Object.assign({}, val, { oid: tempId });\n        _doc[name] = codecs['DBRef'].toExtendedJSON(tempVal, options);\n      } else _doc[name] = codecs[val._bsontype].toExtendedJSON(val, options);\n    } else if (val instanceof Date) {\n      _doc[name] = serializeValue(val, options);\n    } else if (val != null && typeof val === 'object') {\n      _doc[name] = serializeDocument(val, options);\n    }\n    _doc[name] = serializeValue(val, options);\n    if (val instanceof RegExp) {\n      let flags = val.flags;\n      if (flags === undefined) {\n        flags = val.toString().match(/[gimuy]*$/)[0];\n      }\n      _doc[name] = codecs['BSONRegExp'].toExtendedJSON({ pattern: val.source, options: flags });\n    }\n  }\n\n  return _doc;\n}\n\nmodule.exports = {\n  parse: parse,\n  stringify: stringify,\n  setBSONModule: setBSONModule,\n  BSON: BSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/ext_json.js","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return (b64.length * 3 / 4) - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr((len * 3 / 4) - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0; i < l; i += 4) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = ((uint8[i] << 16) & 0xFF0000) + ((uint8[i + 1] << 8) & 0xFF00) + (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/base64-js/index.js\n// module id = 39\n// module chunks = 0","var detectBrowser = require('./lib/detectBrowser');\n\nvar agent;\n\nif (typeof navigator !== 'undefined' && navigator) {\n  agent = navigator.userAgent;\n}\n\nmodule.exports = detectBrowser(agent);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/detect-browser/browser.js\n// module id = 40\n// module chunks = 0","var detectOS = require('./detectOS.js');\n\nmodule.exports = function detectBrowser(userAgentString) {\n  if (!userAgentString) return null;\n\n  var browsers = [\n    [ 'edge', /Edge\\/([0-9\\._]+)/ ],\n    [ 'yandexbrowser', /YaBrowser\\/([0-9\\._]+)/ ],\n    [ 'vivaldi', /Vivaldi\\/([0-9\\.]+)/ ],\n    [ 'kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/ ],\n    [ 'chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'fxios', /FxiOS\\/([0-9\\.]+)/ ],\n    [ 'opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'opera', /OPR\\/([0-9\\.]+)(:?\\s|$)$/ ],\n    [ 'ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/ ],\n    [ 'ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/ ],\n    [ 'ie', /MSIE\\s(7\\.0)/ ],\n    [ 'bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/ ],\n    [ 'android', /Android\\s([0-9\\.]+)/ ],\n    [ 'ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/ ],\n    [ 'safari', /Version\\/([0-9\\._]+).*Safari/ ]\n  ];\n\n  return browsers.map(function (rule) {\n      if (rule[1].test(userAgentString)) {\n          var match = rule[1].exec(userAgentString);\n          var version = match && match[1].split(/[._]/).slice(0,3);\n\n          if (version && version.length < 3) {\n              Array.prototype.push.apply(version, (version.length == 1) ? [0, 0] : [0]);\n          }\n\n          return {\n              name: rule[0],\n              version: version.join('.'),\n              os: detectOS(userAgentString)\n          };\n      }\n  }).filter(Boolean).shift();\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/detect-browser/lib/detectBrowser.js\n// module id = 41\n// module chunks = 0","module.exports = function detectOS(userAgentString) {\n  var operatingSystems = [\n    {\n      name: 'iOS',\n      rule: /iP(hone|od|ad)/\n    },\n    {\n      name: 'Android OS',\n      rule: /Android/\n    },\n    {\n      name: 'BlackBerry OS',\n      rule: /BlackBerry|BB10/\n    },\n    {\n      name: 'Windows Mobile',\n      rule: /IEMobile/\n    },\n    {\n      name: 'Amazon OS',\n      rule: /Kindle/\n    },\n    {\n      name: 'Windows 3.11',\n      rule: /Win16/\n    },\n    {\n      name: 'Windows 95',\n      rule: /(Windows 95)|(Win95)|(Windows_95)/\n    },\n    {\n      name: 'Windows 98',\n      rule: /(Windows 98)|(Win98)/\n    },\n    {\n      name: 'Windows 2000',\n      rule: /(Windows NT 5.0)|(Windows 2000)/\n    },\n    {\n      name: 'Windows XP',\n      rule: /(Windows NT 5.1)|(Windows XP)/\n    },\n    {\n      name: 'Windows Server 2003',\n      rule: /(Windows NT 5.2)/\n    },\n    {\n      name: 'Windows Vista',\n      rule: /(Windows NT 6.0)/\n    },\n    {\n      name: 'Windows 7',\n      rule: /(Windows NT 6.1)/\n    },\n    {\n      name: 'Windows 8',\n      rule: /(Windows NT 6.2)/\n    },\n    {\n      name: 'Windows 8.1',\n      rule: /(Windows NT 6.3)/\n    },\n    {\n      name: 'Windows 10',\n      rule: /(Windows NT 10.0)/\n    },\n    {\n      name: 'Windows ME',\n      rule: /Windows ME/\n    },\n    {\n      name: 'Open BSD',\n      rule: /OpenBSD/\n    },\n    {\n      name: 'Sun OS',\n      rule: /SunOS/\n    },\n    {\n      name: 'Linux',\n      rule: /(Linux)|(X11)/\n    },\n    {\n      name: 'Mac OS',\n      rule: /(Mac_PowerPC)|(Macintosh)/\n    },\n    {\n      name: 'QNX',\n      rule: /QNX/\n    },\n    {\n      name: 'BeOS',\n      rule: /BeOS/\n    },\n    {\n      name: 'OS/2',\n      rule: /OS\\/2/\n    },\n    {\n      name: 'Search Bot',\n      rule: /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/\n    }\n  ];\n\n  var detected = operatingSystems.filter(function (os) {\n    if (userAgentString.match(os.rule)) {\n      return true;\n    }\n  });\n\n  return detected && detected[0] ? detected[0].name : null;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/detect-browser/lib/detectOS.js\n// module id = 42\n// module chunks = 0","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ieee754/index.js\n// module id = 43\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isarray/index.js\n// module id = 44\n// module chunks = 0","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction InvalidCharacterError(message) {\n  this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\nfunction polyfill (input) {\n  var str = String(input).replace(/=+$/, '');\n  if (str.length % 4 == 1) {\n    throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n  }\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0, output = '';\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n      // and if not first of each 4 characters,\n      // convert the first 8 bits to one ascii character\n      bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n  return output;\n}\n\n\nmodule.exports = typeof window !== 'undefined' && window.atob && window.atob.bind(window) || polyfill;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jwt-decode/lib/atob.js\n// module id = 45\n// module chunks = 0","var atob = require('./atob');\n\nfunction b64DecodeUnicode(str) {\n  return decodeURIComponent(atob(str).replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  }));\n}\n\nmodule.exports = function(str) {\n  var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  switch (output.length % 4) {\n    case 0:\n      break;\n    case 2:\n      output += \"==\";\n      break;\n    case 3:\n      output += \"=\";\n      break;\n    default:\n      throw \"Illegal base64url string!\";\n  }\n\n  try{\n    return b64DecodeUnicode(output);\n  } catch (err) {\n    return atob(output);\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jwt-decode/lib/base64_url_decode.js\n// module id = 46\n// module chunks = 0","'use strict';\n\nvar base64_url_decode = require('./base64_url_decode');\n\nfunction InvalidTokenError(message) {\n  this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = 'InvalidTokenError';\n\nmodule.exports = function (token,options) {\n  if (typeof token !== 'string') {\n    throw new InvalidTokenError('Invalid token specified');\n  }\n\n  options = options || {};\n  var pos = options.header === true ? 0 : 1;\n  try {\n    return JSON.parse(base64_url_decode(token.split('.')[pos]));\n  } catch (e) {\n    throw new InvalidTokenError('Invalid token specified: ' + e.message);\n  }\n};\n\nmodule.exports.InvalidTokenError = InvalidTokenError;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jwt-decode/lib/index.js\n// module id = 47\n// module chunks = 0","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/object-assign/index.js\n// module id = 48\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 49\n// module chunks = 0","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tformatter(decodeURIComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/query-string/index.js\n// module id = 50\n// module chunks = 0","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/strict-uri-encode/index.js\n// module id = 51\n// module chunks = 0","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status === undefined ? 200 : options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/whatwg-fetch/fetch.js\n// module id = 52\n// module chunks = 0"],"sourceRoot":""}